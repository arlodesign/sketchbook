{"version":3,"sources":["webpack:///./src/pages/sketch/2019/08/18.js","webpack:///./src/lib/easing.js"],"names":["RENDER","process","DEV","sketch","p","GRID","boxes","prevMod","Box","x","y","this","canvas","createGraphics","rotate","random","HALF_PI","PI","rotateDirection","turning","offset","noise","TWO_PI","draw","turn","theta","animLoop","turnVal","map","push","translate","ease","background","strokeWeight","circle","pop","image","setup","frameRate","createCanvas","createLoop","gif","render","open","noiseRadius","width","height","forEach","b","SketchPage","href","easeInQuad","t","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint"],"mappings":"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","file":"component---src-pages-sketch-2019-08-18-js-115c3e7c042fc8647b47.js","sourcesContent":["import React from \"react\";\nimport Layout from \"~components/layout\";\nimport Sketch from \"~components/sketch\";\nimport \"p5.createloop\";\nimport { easeInOutQuint as ease } from \"~lib/easing\";\n\nconst RENDER = process.env.DEV && false;\nconst DURATION = 6;\n\nconst sketch = function(p) {\n  const GRID = 60;\n\n  let boxes = [];\n  let prevMod = 0;\n\n  class Box {\n    constructor(x, y) {\n      this.x = x;\n      this.y = y;\n      this.canvas = p.createGraphics(GRID, GRID);\n      this.rotate = p.random([0, p.HALF_PI, p.PI, p.HALF_PI + p.PI]);\n      this.rotateDirection = p.random([-1, 1]);\n      this.turning = false;\n      this.offset = p.noise(x, y) * p.TWO_PI;\n    }\n\n    draw(turn) {\n      const { theta } = p.animLoop;\n\n      if (turn) {\n        this.rotate += p.HALF_PI * this.rotateDirection;\n      }\n\n      const turnVal = p.map(theta % p.HALF_PI, 0, p.HALF_PI, 0, 1);\n\n      this.canvas.push();\n      this.canvas.translate(GRID / 2, GRID / 2);\n      this.canvas.rotate(\n        p.map(\n          ease(turnVal),\n          0,\n          1,\n          this.rotate,\n          this.rotate + p.HALF_PI * this.rotateDirection\n        )\n      );\n      this.canvas.background(255);\n      this.canvas.strokeWeight(GRID / 10);\n      this.canvas.circle(-GRID / 2, -GRID / 2, GRID);\n      this.canvas.circle(GRID / 2, GRID / 2, GRID);\n      this.canvas.pop();\n\n      p.image(this.canvas, this.x, this.y);\n    }\n  }\n\n  p.setup = function() {\n    if (RENDER) {\n      p.frameRate(30);\n    }\n\n    p.createCanvas(660, 840);\n\n    p.createLoop(DURATION, {\n      gif: RENDER ? { render: false, open: true } : false,\n      noiseRadius: 0.3,\n    });\n\n    for (let x = 0; x < p.width; x += GRID) {\n      for (let y = 0; y < p.height; y += GRID) {\n        boxes.push(new Box(x, y));\n      }\n    }\n  };\n\n  p.draw = function() {\n    p.background(255);\n\n    boxes.forEach(b => b.draw(p.animLoop.theta % p.HALF_PI <= prevMod));\n    prevMod = p.animLoop.theta % p.HALF_PI;\n  };\n};\n\nconst SketchPage = () => (\n  <Layout>\n    <Sketch sketch={sketch} />\n    <p>\n      Hat-tip to{\" \"}\n      <a href=\"https://www.instagram.com/p/BwKuLHMA1Ho/\">Jack Rusher</a>.\n      Inspired by those rotating truchet tiles, and I wanted to reverse engineer\n      it.\n    </p>\n  </Layout>\n);\n\nexport default SketchPage;\n","// https://gist.github.com/gre/1650294\n\n// no easing, no acceleration\nconst linear = t => t;\n\n// accelerating from zero velocity\nconst easeInQuad = t => t * t;\n\n// decelerating to zero velocity\nconst easeOutQuad = t => t * (2 - t);\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n\n// accelerating from zero velocity\nconst easeInCubic = t => t * t * t;\n\n// decelerating to zero velocity\nconst easeOutCubic = t => --t * t * t + 1;\n\n// acceleration until halfway, then deceleration\nconst easeInOutCubic = t =>\n  t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\n// accelerating from zero velocity\nconst easeInQuart = t => t * t * t * t;\n\n// decelerating to zero velocity\nconst easeOutQuart = t => 1 - --t * t * t * t;\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuart = t =>\n  t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n\n// accelerating from zero velocity\nconst easeInQuint = t => t * t * t * t * t;\n\n// decelerating to zero velocity\nconst easeOutQuint = t => 1 + --t * t * t * t * t;\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuint = t =>\n  t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n\nexport {\n  linear,\n  easeInQuad,\n  easeOutQuad,\n  easeInOutQuad,\n  easeInCubic,\n  easeOutCubic,\n  easeInOutCubic,\n  easeInQuart,\n  easeOutQuart,\n  easeInOutQuart,\n  easeInQuint,\n  easeOutQuint,\n  easeInOutQuint,\n};\n"],"sourceRoot":""}