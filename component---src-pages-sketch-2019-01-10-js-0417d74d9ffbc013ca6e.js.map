{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/10.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_create-property.js"],"names":["sketch","p","myFont","vectorCount","maxDist","vectors","preload","loadFont","withPrefix","setup","pixelDensity","createCanvas","background","noStroke","fill","textFont","text","width","height","loadPixels","darkPixels","y","x","index","pixels","push","shuffle","floor","length","Array","from","_","i","vector","createVector","reached","reachedBy","dist","draw","stroke","noFill","forEach","_ref","_vectors$reachedBy$ve","strokeWeight","quad","reachedByIndex","unreachedIndex","shortestDist","uv","ui","rv","ri","thisDist","filter","v","noLoop","__webpack_exports__","_ref2","location","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_4__","_components_sketch_layout__WEBPACK_IMPORTED_MODULE_6__","path","pathname","$export","__webpack_require__","P","toObject","toAbsoluteIndex","toLength","module","exports","value","O","this","aLen","arguments","undefined","end","endPos","ctx","call","isArrayIter","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","C","mapfn","mapping","iterFn","next","done","$defineProperty","createDesc","object","f"],"mappings":"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","file":"component---src-pages-sketch-2019-01-10-js-0417d74d9ffbc013ca6e.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport { withPrefix } from \"gatsby\";\n\nconst sketch = function(p) {\n  let myFont;\n  let vectorCount;\n  let vectors = [];\n  let boundary;\n  let maxDist;\n  let drawingComplete = false;\n\n  p.preload = function() {\n    myFont = p.loadFont(withPrefix(\"/assets/NewsCycle-Bold.ttf\"));\n  };\n\n  p.setup = function() {\n    p.pixelDensity(1);\n    p.createCanvas(660, 840);\n    p.background(255);\n    p.noStroke();\n    p.fill(0);\n    p.textFont(myFont, 130);\n    p.text(\n      \"YOUR FUTURE SELF IS A STRANGER\",\n      35,\n      20,\n      p.width - 10,\n      p.height - 10\n    );\n    p.loadPixels();\n    let darkPixels = [];\n    for (let y = 0; y < p.height + 0; y++) {\n      for (let x = 0; x < p.width + 0; x++) {\n        const index = (x + y * p.width) * 4;\n        if (p.pixels[index] !== 255) {\n          darkPixels.push({\n            x,\n            y,\n          });\n        }\n      }\n    }\n    darkPixels = p.shuffle(darkPixels);\n    vectorCount = p.floor(darkPixels.length / 60);\n    vectors = Array.from(Array(vectorCount - 2), (_, i) => ({\n      vector: p.createVector(darkPixels[i].x, darkPixels[i].y),\n      reached: false,\n      reachedBy: 0,\n    }));\n    vectors[0].reached = true;\n    vectors[0].reachedBy = -1;\n    maxDist = p.dist(0, 0, p.width, p.height);\n  };\n\n  p.draw = function() {\n    p.background(0);\n    p.noStroke();\n    p.fill(255);\n    p.textFont(myFont, 130);\n    p.text(\n      \"YOUR FUTURE SELF IS A STRANGER\",\n      25,\n      20,\n      p.width - 10,\n      p.height - 10\n    );\n    p.stroke(0);\n    p.noFill();\n    vectors.forEach(({ vector, reached, reachedBy }, i) => {\n      if (reached && reachedBy > -1) {\n        const { x, y } = vectors[reachedBy].vector;\n        p.strokeWeight(p.dist(vector.x, vector.y, x, y) / 4);\n        p.quad(vector.x, vector.y, vector.x, y, x, y, x, vector.y);\n      }\n    });\n    let shortestDist = maxDist;\n    let reachedByIndex;\n    let unreachedIndex;\n    vectors.forEach((uv, ui) => {\n      if (!uv.reached) {\n        vectors.forEach((rv, ri) => {\n          if (rv.reached) {\n            const thisDist = p.dist(\n              uv.vector.x,\n              uv.vector.y,\n              rv.vector.x,\n              rv.vector.y\n            );\n            if (thisDist < shortestDist) {\n              shortestDist = thisDist;\n              unreachedIndex = ui;\n              reachedByIndex = ri;\n            }\n          }\n        });\n      }\n    });\n    vectors[unreachedIndex].reached = true;\n    vectors[unreachedIndex].reachedBy = reachedByIndex;\n\n    if (vectors.filter(v => v.reached).length === vectors.length) {\n      p.noLoop();\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} />\n);\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n"],"sourceRoot":""}