{"version":3,"sources":["webpack:///./src/pages/sketch/2019/10/25.js","webpack:///./src/lib/easing.js","webpack:///./node_modules/pack-spheres/index.js"],"names":["RENDER","process","DEV","sketch","p","circles","Circle","position","radius","this","x","y","diameter","draw","animLoop","theta","noise2D","height","d","sqrt","width","push","translate","scale","map","ease","abs","noStroke","fill","cos","circle","pop","noFill","stroke","setup","createCanvas","w","pack","dimensions","maxCount","minRadius","maxRadius","padding","outside","createLoop","gif","render","open","noiseRadius","background","forEach","c","SketchPage","easeInQuad","t","easeInOutQuad","easeOutQuint","easeInOutQuint","module","exports","outsideFn","opt","arguments","length","undefined","bounds","defined","packAttempts","sampleFn","sample","_i3","random","Math","maxBound","_i2","component","Error","shapes","i","result","a","defaultValue","shape","_i","place","radiusGrowth","count","maxGrowthSteps","newRadius","reject","min","expand","arg","Infinity","some","other","pointA","radiusA","pointB","radiusB","radiusSq","b","sum","n","delta","distanceSq","collision"],"mappings":"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","file":"component---src-pages-sketch-2019-10-25-js-cce8c61ce9aa79735b12.js","sourcesContent":["import React from \"react\";\nimport Layout from \"~components/layout\";\nimport Sketch from \"~components/sketch\";\nimport pack from \"pack-spheres\";\nimport { easeInOutQuint as ease } from \"~lib/easing\";\nimport \"p5.createloop\";\n\nconst RENDER = process.env.DEV && false;\n\nconst sketch = function(p) {\n  let circles;\n\n  class Circle {\n    constructor(position, radius) {\n      this.x = position[0];\n      this.y = position[1];\n      this.diameter = radius * 2;\n    }\n    draw() {\n      const { theta, noise2D } = p.animLoop;\n      const x = (p.height / 2) * this.x;\n      const y = (p.height / 2) * this.y;\n      const d = p.sqrt(x * x + y * y) / p.sqrt(p.width / 2, p.height / 2);\n\n      p.push();\n\n      p.translate(p.width / 2, p.height / 2);\n      p.translate(x, y);\n\n      p.push();\n      p.scale(p.map(ease(p.abs(noise2D(this.x, this.y))), 0, 1, 0.5, 1));\n      p.noStroke();\n      p.fill(p.map(p.cos(d + theta), -1, 1, 0, 192));\n      p.circle(0, 0, (p.height / 2) * this.diameter);\n      p.pop();\n\n      p.noFill();\n      p.stroke(200);\n      p.circle(0, 0, (p.height / 2) * this.diameter);\n\n      p.pop();\n    }\n  }\n\n  p.setup = function() {\n    p.createCanvas(660, 840);\n\n    const w = p.width / p.height;\n    circles = pack({\n      dimensions: 2,\n      maxCount: 5000,\n      minRadius: 0.01,\n      maxRadius: 0.1,\n      padding: 0.0025,\n      outside: (position, radius) => {\n        return (\n          position[0] - radius < -w ||\n          position[0] + radius > w ||\n          position[1] - radius < -1 ||\n          position[1] + radius > 1\n        );\n      },\n    }).map(({ position, radius }) => new Circle(position, radius));\n\n    p.createLoop(10, {\n      gif: RENDER ? { render: false, open: true } : false,\n      noiseRadius: 1,\n    });\n  };\n\n  p.draw = function() {\n    p.background(255);\n    circles.forEach(c => c.draw());\n  };\n};\n\nconst SketchPage = () => (\n  <Layout>\n    <Sketch sketch={sketch} />\n  </Layout>\n);\n\nexport default SketchPage;\n","// https://gist.github.com/gre/1650294\n\n// no easing, no acceleration\nconst linear = t => t;\n\n// accelerating from zero velocity\nconst easeInQuad = t => t * t;\n\n// decelerating to zero velocity\nconst easeOutQuad = t => t * (2 - t);\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n\n// accelerating from zero velocity\nconst easeInCubic = t => t * t * t;\n\n// decelerating to zero velocity\nconst easeOutCubic = t => --t * t * t + 1;\n\n// acceleration until halfway, then deceleration\nconst easeInOutCubic = t =>\n  t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\n// accelerating from zero velocity\nconst easeInQuart = t => t * t * t * t;\n\n// decelerating to zero velocity\nconst easeOutQuart = t => 1 - --t * t * t * t;\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuart = t =>\n  t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n\n// accelerating from zero velocity\nconst easeInQuint = t => t * t * t * t * t;\n\n// decelerating to zero velocity\nconst easeOutQuint = t => 1 + --t * t * t * t * t;\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuint = t =>\n  t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n\nexport {\n  linear,\n  easeInQuad,\n  easeOutQuad,\n  easeInOutQuad,\n  easeInCubic,\n  easeOutCubic,\n  easeInOutCubic,\n  easeInQuart,\n  easeOutQuart,\n  easeInOutQuart,\n  easeInQuint,\n  easeOutQuint,\n  easeInOutQuint,\n};\n","require(\"core-js/modules/es6.array.some\");\n\nmodule.exports = packSphere;\n\nfunction packSphere() {\n  var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bounds = defined(opt.bounds, 1);\n  var packAttempts = defined(opt.packAttempts, 500);\n  var maxCount = defined(opt.maxCount, 1000);\n  var sampleFn = opt.sample || sample;\n  var dimensions = defined(opt.dimensions, 3);\n\n  var random = opt.random || function () {\n    return Math.random();\n  };\n\n  var outsideFn;\n  if (opt.outside === false) outsideFn = null;else outsideFn = opt.outside || outside;\n\n  if (dimensions !== 2 && dimensions !== 3) {\n    throw new Error(\"Dimensions must be 2 or 3\");\n  }\n\n  var shapes = [];\n\n  for (var i = 0; i < maxCount; i++) {\n    var result = pack();\n\n    if (result) {\n      shapes.push(result);\n    }\n  }\n\n  return shapes;\n\n  function defined(a, defaultValue) {\n    return a != null ? a : defaultValue;\n  }\n\n  function pack() {\n    // try to pack\n    var shape;\n\n    for (var _i = 0; _i < packAttempts; _i++) {\n      shape = place();\n      if (shape) break;\n    } // exhausted all pack attempts\n\n\n    if (!shape) return false;\n    var radius = shape.minRadius;\n\n    if (shape.radiusGrowth > 0) {\n      var count = 0;\n\n      while (radius < shape.maxRadius && count < shape.maxGrowthSteps) {\n        var newRadius = radius + shape.radiusGrowth;\n\n        if (reject(shape.position, newRadius, shape.padding)) {\n          break;\n        }\n\n        radius = newRadius;\n        count++;\n      }\n    }\n\n    shape.radius = Math.min(shape.maxRadius, radius);\n    return shape;\n  }\n\n  function expand(arg, defaultValue) {\n    var result = defined(arg, defaultValue);\n    if (typeof result === \"function\") return result();\n    return result;\n  }\n\n  function place() {\n    var maxRadius = expand(opt.maxRadius, 0.5);\n    var radiusGrowth = expand(opt.radiusGrowth, 0.01);\n    var maxGrowthSteps = expand(opt.maxGrowthSteps, Infinity);\n    var position = sampleFn();\n    var radius = expand(opt.minRadius, 0.01);\n    var padding = expand(opt.padding, 0);\n\n    if (reject(position, radius, padding)) {\n      return false;\n    }\n\n    return {\n      maxGrowthSteps: maxGrowthSteps,\n      minRadius: radius,\n      maxRadius: maxRadius,\n      radiusGrowth: radiusGrowth,\n      position: position,\n      padding: padding\n    };\n  }\n\n  function reject(position, radius, padding) {\n    if (outsideFn && outsideFn(position, radius, padding)) {\n      return true;\n    }\n\n    return shapes.some(function (other) {\n      return collision(position, radius + padding, other.position, other.radius + other.padding);\n    });\n  }\n\n  function outside(position, radius, padding) {\n    var maxBound = Math.abs(bounds);\n\n    for (var _i2 = 0; _i2 < position.length; _i2++) {\n      var component = position[_i2];\n\n      if (Math.abs(component + radius) >= maxBound || Math.abs(component - radius) >= maxBound) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function sample() {\n    var p = [];\n\n    for (var _i3 = 0; _i3 < dimensions; _i3++) {\n      p.push((random() * 2 - 1) * bounds);\n    }\n\n    return p;\n  }\n\n  function distanceSq(a, b) {\n    var sum = 0;\n\n    for (var n = 0; n < a.length; n++) {\n      var delta = a[n] - b[n];\n      sum += delta * delta;\n    }\n\n    return sum;\n  }\n\n  function magnitude(a) {\n    var sum = 0;\n\n    for (var n = 0; n < a.length; n++) {\n      var d = a[n];\n      sum += d * d;\n    }\n\n    return Math.sqrt(sum);\n  }\n\n  function collision(pointA, radiusA, pointB, radiusB) {\n    var radius = radiusA + radiusB;\n    var radiusSq = radius * radius;\n    return distanceSq(pointA, pointB) < radiusSq;\n  }\n}"],"sourceRoot":""}