{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/18.js"],"names":["sketch","p","drawing","lastPoint","circles","viewGuides","speeds","Array","fill","map","_","i","setup","createCanvas","createGraphics","width","height","THIS_SPEED","random","THIS_SIZE","filter","s","push","r","HALF_PI","speed","TWO_PI","size","direction","noFill","draw","background","frameRate","image","alpha","X0_AXIS","cos","Y0_AXIS","X0","Y0","sin","X1_AXIS","Y1_AXIS","X1","Y1","X2_AXIS","Y2_AXIS","X2","Y2","X3_AXIS","Y3_AXIS","X3","Y3","stroke","color","strokeWeight","ellipse","line","length","x1","y1","x2","y2","x3","y3","x4","y4","uA","uB","x","floor","y","frameCount","l","mousePressed","location","path","pathname","description"],"mappings":"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","file":"component---src-pages-sketch-2019-01-18-js-a2d275784ced650eb2f5.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\n\nconst sketch = function(p) {\n  let circleCount = 3;\n  let circles = [];\n  let viewGuides = false;\n  let drawing;\n  let speeds = new Array(10).fill().map((_, i) => (i + 1) / 10);\n  let lastPoint;\n\n  function guideColor(alpha) {\n    return p.color(255, 0, 0, alpha);\n  }\n\n  function lineIntersection(x1, y1, x2, y2, x3, y3, x4, y4) {\n    const uA =\n      ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) /\n      ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1));\n    const uB =\n      ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) /\n      ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1));\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n      return {\n        x: p.floor(x1 + uA * (x2 - x1)),\n        y: p.floor(y1 + uA * (y2 - y1)),\n      };\n    }\n    return {\n      x: null,\n      y: null,\n    };\n  }\n\n  p.setup = function() {\n    p.createCanvas(660, 840);\n    drawing = p.createGraphics(p.width, p.height);\n    for (let i = 0; i < circleCount; i++) {\n      const THIS_SPEED = p.random(speeds);\n      const THIS_SIZE = (p.width / 6) * p.random(0.1, 1);\n      speeds = speeds.filter(s => s !== THIS_SPEED);\n      circles.push({\n        r: p.HALF_PI * i,\n        speed: THIS_SPEED / p.TWO_PI,\n        size: THIS_SIZE,\n        direction: p.random([1, -1]),\n      });\n    }\n    p.noFill();\n  };\n\n  p.draw = function() {\n    p.background(255);\n    p.frameRate(viewGuides ? 15 : 30);\n    p.image(drawing, 0, 0);\n    const X0_AXIS =\n      p.width / 2 + p.cos(circles[0].r) * (p.width / 2 - circles[1].size * 2);\n    const Y0_AXIS = circles[0].size / 2;\n    const X0 = X0_AXIS + p.cos(circles[0].r) * (circles[0].size / 2);\n    const Y0 = Y0_AXIS + p.sin(circles[0].r) * (circles[0].size / 2);\n    const X1_AXIS = p.width - circles[1].size / 2;\n    const Y1_AXIS =\n      p.height / 2 +\n      p.cos(circles[1].r) *\n        (p.height / 2 - (circles[0].size + circles[2].size));\n    const X1 = X1_AXIS + p.cos(circles[1].r) * (circles[1].size / 2);\n    const Y1 = Y1_AXIS + p.sin(circles[1].r) * (circles[1].size / 2);\n    const X2_AXIS =\n      p.width / 2 + p.cos(circles[2].r) * (p.width / 2 - circles[1].size * 2);\n    const Y2_AXIS = p.height - circles[2].size / 2;\n    const X2 = X2_AXIS + p.cos(circles[2].r) * (circles[2].size / 2);\n    const Y2 = Y2_AXIS + p.sin(circles[2].r) * (circles[2].size / 2);\n    const X3_AXIS = circles[1].size / 2;\n    const Y3_AXIS =\n      p.height / 2 +\n      p.cos(circles[1].r) *\n        (p.height / 2 - (circles[0].size + circles[2].size));\n    const X3 =\n      X3_AXIS + p.cos(circles[1].r + p.HALF_PI) * (circles[1].size / 2);\n    const Y3 =\n      Y3_AXIS + p.sin(circles[1].r + p.HALF_PI) * (circles[1].size / 2);\n    if (viewGuides) {\n      p.stroke(guideColor(128));\n      p.strokeWeight(1);\n      p.ellipse(X0_AXIS, Y0_AXIS, circles[0].size);\n      p.ellipse(X1_AXIS, Y1_AXIS, circles[1].size);\n      p.ellipse(X2_AXIS, Y2_AXIS, circles[2].size);\n      p.ellipse(X3_AXIS, Y3_AXIS, circles[1].size);\n      p.line(X0, Y0, X2, Y2);\n      p.line(X1, Y1, X3, Y3);\n    }\n    for (let i = 0; i < circles.length; i++) {\n      circles[i].r += circles[i].speed * circles[i].direction;\n    }\n    const { x, y } = lineIntersection(X0, Y0, X2, Y2, X1, Y1, X3, Y3);\n    if (x && y && p.frameCount > 1) {\n      for (let l = 0; l < 1; l += 0.01) {\n        drawing.line(x, y, lastPoint.x, lastPoint.y);\n      }\n    }\n    lastPoint =\n      x && y\n        ? {\n            x,\n            y,\n          }\n        : lastPoint;\n  };\n\n  p.mousePressed = function() {\n    viewGuides = !viewGuides;\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout\n    sketch={sketch}\n    path={location.pathname}\n    description=\"\n      Reload page for a different variation. Click or tap sketch to toggle\n      guides.\n    \"\n  />\n);\n"],"sourceRoot":""}