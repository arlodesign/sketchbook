{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/10.js"],"names":["sketch","p","myFont","vectorCount","maxDist","vectors","preload","loadFont","withPrefix","setup","pixelDensity","createCanvas","background","noStroke","fill","textFont","text","width","height","loadPixels","darkPixels","y","x","index","pixels","push","shuffle","floor","length","Array","from","_","i","vector","createVector","reached","reachedBy","dist","draw","stroke","noFill","forEach","strokeWeight","quad","reachedByIndex","unreachedIndex","shortestDist","uv","ui","rv","ri","thisDist","filter","v","noLoop","location","path","pathname"],"mappings":"mLAIMA,EAAS,SAASC,GACtB,IAAIC,EACAC,EAGAC,EAFAC,EAAU,GAKdJ,EAAEK,QAAU,WACVJ,EAASD,EAAEM,SAASC,qBAAW,gCAGjCP,EAAEQ,MAAQ,WACRR,EAAES,aAAa,GACfT,EAAEU,aAAa,IAAK,KACpBV,EAAEW,WAAW,KACbX,EAAEY,WACFZ,EAAEa,KAAK,GACPb,EAAEc,SAASb,EAAQ,KACnBD,EAAEe,KACA,iCACA,GACA,GACAf,EAAEgB,MAAQ,GACVhB,EAAEiB,OAAS,IAEbjB,EAAEkB,aAEF,IADA,IAAIC,EAAa,GACRC,EAAI,EAAGA,EAAIpB,EAAEiB,OAAS,EAAGG,IAChC,IAAK,IAAIC,EAAI,EAAGA,EAAIrB,EAAEgB,MAAQ,EAAGK,IAAK,CACpC,IAAMC,EAA4B,GAAnBD,EAAID,EAAIpB,EAAEgB,OACD,MAApBhB,EAAEuB,OAAOD,IACXH,EAAWK,KAAK,CACdH,IACAD,MAKRD,EAAanB,EAAEyB,QAAQN,GACvBjB,EAAcF,EAAE0B,MAAMP,EAAWQ,OAAS,KAC1CvB,EAAUwB,MAAMC,KAAKD,MAAM1B,EAAc,IAAI,SAAC4B,EAAGC,GAAJ,MAAW,CACtDC,OAAQhC,EAAEiC,aAAad,EAAWY,GAAGV,EAAGF,EAAWY,GAAGX,GACtDc,SAAS,EACTC,UAAW,OAEL,GAAGD,SAAU,EACrB9B,EAAQ,GAAG+B,WAAa,EACxBhC,EAAUH,EAAEoC,KAAK,EAAG,EAAGpC,EAAEgB,MAAOhB,EAAEiB,SAGpCjB,EAAEqC,KAAO,WACPrC,EAAEW,WAAW,GACbX,EAAEY,WACFZ,EAAEa,KAAK,KACPb,EAAEc,SAASb,EAAQ,KACnBD,EAAEe,KACA,iCACA,GACA,GACAf,EAAEgB,MAAQ,GACVhB,EAAEiB,OAAS,IAEbjB,EAAEsC,OAAO,GACTtC,EAAEuC,SACFnC,EAAQoC,SAAQ,WAAiCT,GAAO,IAArCC,EAAoC,EAApCA,OAAQE,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,UAClC,GAAID,GAAWC,GAAa,EAAG,CAAC,IAAD,EACZ/B,EAAQ+B,GAAWH,OAA5BX,EADqB,EACrBA,EAAGD,EADkB,EAClBA,EACXpB,EAAEyC,aAAazC,EAAEoC,KAAKJ,EAAOX,EAAGW,EAAOZ,EAAGC,EAAGD,GAAK,GAClDpB,EAAE0C,KAAKV,EAAOX,EAAGW,EAAOZ,EAAGY,EAAOX,EAAGD,EAAGC,EAAGD,EAAGC,EAAGW,EAAOZ,OAG5D,IACIuB,EACAC,EAFAC,EAAe1C,EAGnBC,EAAQoC,SAAQ,SAACM,EAAIC,GACdD,EAAGZ,SACN9B,EAAQoC,SAAQ,SAACQ,EAAIC,GACnB,GAAID,EAAGd,QAAS,CACd,IAAMgB,EAAWlD,EAAEoC,KACjBU,EAAGd,OAAOX,EACVyB,EAAGd,OAAOZ,EACV4B,EAAGhB,OAAOX,EACV2B,EAAGhB,OAAOZ,GAER8B,EAAWL,IACbA,EAAeK,EACfN,EAAiBG,EACjBJ,EAAiBM,UAM3B7C,EAAQwC,GAAgBV,SAAU,EAClC9B,EAAQwC,GAAgBT,UAAYQ,EAEhCvC,EAAQ+C,QAAO,SAAAC,GAAC,OAAIA,EAAElB,WAASP,SAAWvB,EAAQuB,QACpD3B,EAAEqD,WAKO,0BAAGC,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CAAcvD,OAAQA,EAAQwD,KAAMD,EAASE","file":"component---src-pages-sketch-2019-01-10-js-e8a9deef51b93c386428.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport { withPrefix } from \"gatsby\";\n\nconst sketch = function(p) {\n  let myFont;\n  let vectorCount;\n  let vectors = [];\n  let boundary;\n  let maxDist;\n  let drawingComplete = false;\n\n  p.preload = function() {\n    myFont = p.loadFont(withPrefix(\"/assets/NewsCycle-Bold.ttf\"));\n  };\n\n  p.setup = function() {\n    p.pixelDensity(1);\n    p.createCanvas(660, 840);\n    p.background(255);\n    p.noStroke();\n    p.fill(0);\n    p.textFont(myFont, 130);\n    p.text(\n      \"YOUR FUTURE SELF IS A STRANGER\",\n      35,\n      20,\n      p.width - 10,\n      p.height - 10\n    );\n    p.loadPixels();\n    let darkPixels = [];\n    for (let y = 0; y < p.height + 0; y++) {\n      for (let x = 0; x < p.width + 0; x++) {\n        const index = (x + y * p.width) * 4;\n        if (p.pixels[index] !== 255) {\n          darkPixels.push({\n            x,\n            y,\n          });\n        }\n      }\n    }\n    darkPixels = p.shuffle(darkPixels);\n    vectorCount = p.floor(darkPixels.length / 60);\n    vectors = Array.from(Array(vectorCount - 2), (_, i) => ({\n      vector: p.createVector(darkPixels[i].x, darkPixels[i].y),\n      reached: false,\n      reachedBy: 0,\n    }));\n    vectors[0].reached = true;\n    vectors[0].reachedBy = -1;\n    maxDist = p.dist(0, 0, p.width, p.height);\n  };\n\n  p.draw = function() {\n    p.background(0);\n    p.noStroke();\n    p.fill(255);\n    p.textFont(myFont, 130);\n    p.text(\n      \"YOUR FUTURE SELF IS A STRANGER\",\n      25,\n      20,\n      p.width - 10,\n      p.height - 10\n    );\n    p.stroke(0);\n    p.noFill();\n    vectors.forEach(({ vector, reached, reachedBy }, i) => {\n      if (reached && reachedBy > -1) {\n        const { x, y } = vectors[reachedBy].vector;\n        p.strokeWeight(p.dist(vector.x, vector.y, x, y) / 4);\n        p.quad(vector.x, vector.y, vector.x, y, x, y, x, vector.y);\n      }\n    });\n    let shortestDist = maxDist;\n    let reachedByIndex;\n    let unreachedIndex;\n    vectors.forEach((uv, ui) => {\n      if (!uv.reached) {\n        vectors.forEach((rv, ri) => {\n          if (rv.reached) {\n            const thisDist = p.dist(\n              uv.vector.x,\n              uv.vector.y,\n              rv.vector.x,\n              rv.vector.y\n            );\n            if (thisDist < shortestDist) {\n              shortestDist = thisDist;\n              unreachedIndex = ui;\n              reachedByIndex = ri;\n            }\n          }\n        });\n      }\n    });\n    vectors[unreachedIndex].reached = true;\n    vectors[unreachedIndex].reachedBy = reachedByIndex;\n\n    if (vectors.filter(v => v.reached).length === vectors.length) {\n      p.noLoop();\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} />\n);\n"],"sourceRoot":""}