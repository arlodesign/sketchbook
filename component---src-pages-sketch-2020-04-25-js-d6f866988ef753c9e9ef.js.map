{"version":3,"sources":["webpack:///./src/pages/sketch/2020/04/25.js","webpack:///./src/lib/lerpLine.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-pad.js"],"names":["sketch","p","margin","gap","w","mask","RENDER","getURLParams","render","HUE","random","HUES","shuffle","setup","pixelDensity","frameRate","createCanvas","background","createLoop","noiseRadius","noFill","colorMode","HSB","width","createGraphics","height","noStroke","fill","circle","draw","animLoop","noise2D","noise1D","canvas","strokeWeight","push","translate","x","blendMode","BLEND","y","y1","y2","r","abs","stroke","lerpLine","pop","SCREEN","canvasPixels","get","image","process","DEV","frameCount","DURATION","save","String","padStart","length","location","path","pathname","description","x1","x2","rate","showFirstDot","noisy","thisRate","Math","max","dist","l","point","lerp","$export","$pad","userAgent","WEBKIT_BUG","test","P","F","maxLength","this","arguments","undefined","toLength","repeat","defined","module","exports","that","fillString","left","S","stringLength","fillStr","intMaxLength","fillLen","stringFiller","call","ceil","slice"],"mappings":"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","file":"component---src-pages-sketch-2020-04-25-js-d6f866988ef753c9e9ef.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport \"p5.createloop\";\nimport lerpLine from \"~lib/lerpLine\";\n\nconst sketch = function(p) {\n  const RENDER = p.getURLParams().render;\n  const DURATION = 20;\n  const RATE = 30;\n  const LINES = 150;\n  const HUE = p.random(0, 1 / 3);\n  const HUES = p.shuffle([HUE, HUE + 1 / 3, HUE + 2 / 3]);\n\n  let margin;\n  let gap;\n  let w;\n  let mask;\n\n  p.setup = function() {\n    p.pixelDensity(RENDER ? 2 : 1);\n    p.frameRate(RATE);\n    p.createCanvas(660, 840);\n    p.background(0);\n    p.createLoop(DURATION, {\n      noiseRadius: 0.8,\n    });\n    p.noFill();\n    p.colorMode(p.HSB, 1);\n\n    margin = p.width / 20;\n    w = p.width / 2 - margin;\n    gap = (p.width - margin * 2) / LINES;\n\n    mask = p.createGraphics(p.width, p.height);\n    mask.noStroke();\n    mask.fill(0);\n    mask.circle(p.width / 2, p.height / 2, w * 2 - margin);\n  };\n\n  p.draw = function() {\n    const { noise2D, noise1D } = p.animLoop;\n    const canvas = p.createGraphics(p.width, p.height);\n\n    canvas.colorMode(p.HSB, 1);\n    canvas.background(0);\n    canvas.strokeWeight(gap);\n\n    canvas.push();\n    canvas.translate(canvas.width / 2, canvas.height / 2);\n\n    for (let x = -w; x <= w; x += gap) {\n      canvas.blendMode(canvas.BLEND);\n\n      canvas.push();\n      for (let y = -w; y < w; y += gap) {\n        const y1 = y + noise2D(x, y) * gap;\n        const y2 = y1 + gap * noise2D(y / 50, x / 50);\n        const r = p.abs(noise2D(x / 50, y / 50));\n\n        canvas.stroke(HUES[0], 1, p.abs(noise1D(y1 / 2)), 0.5);\n        lerpLine(canvas, x, y1, x, y2, r);\n      }\n      canvas.pop();\n\n      canvas.blendMode(canvas.SCREEN);\n\n      canvas.push();\n      for (let y = -w; y < w; y += gap) {\n        const y1 = y + noise2D(x / 25, y / 25) * gap;\n        const y2 = y1 + gap * noise2D(y / 100, x / 100);\n        const r = p.abs(noise2D(x / 100, y / 100));\n\n        canvas.stroke(HUES[1], 1, p.abs(noise1D(y1)), 0.5);\n        lerpLine(canvas, x, y1, x, y2, r);\n      }\n      canvas.pop();\n\n      canvas.push();\n      for (let y = -w; y <= w; y += gap) {\n        const y1 = y + noise2D(x / 50, y / 50) * gap;\n        const y2 = y1 + gap * noise2D(y / 150, x / 150);\n        const r = p.abs(noise2D(x / 150, y / 150));\n\n        canvas.stroke(HUES[2], 1, p.abs(noise1D(y1 / 3)), 0.5);\n        lerpLine(canvas, x, y1, x, y2, r);\n      }\n      canvas.pop();\n    }\n\n    canvas.pop();\n\n    const canvasPixels = canvas.get();\n    canvasPixels.mask(mask);\n    p.image(canvasPixels, 0, 0);\n\n    RENDER &&\n      process.env.DEV &&\n      p.frameCount <= DURATION * RATE &&\n      p.save(\n        `${String(p.frameCount).padStart(\n          String(DURATION * RATE).length,\n          \"0\"\n        )}.png`\n      );\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"\" />\n);\n","/**\n * Creates a line of points at a specified interval (the rate)\n *\n * @param {obj} p The current p5.js drawing context\n * @param {*} x1\n * @param {*} y1\n * @param {*} x2\n * @param {*} y2\n * @param {*} rate Number between 0 and 1 to determine how often to draw a point\n * @param {*} showFirstDot Defaults to true\n * @param {*} noisy Defaults to true\n */\nexport default function(\n  p,\n  x1,\n  y1,\n  x2,\n  y2,\n  rate,\n  showFirstDot = true,\n  noisy = true\n) {\n  const thisRate = Math.max(rate, 0.01 / p.dist(x1, y1, x2, y2));\n\n  for (let l = 0; l < 1; l += thisRate) {\n    if (l === 0 && !showFirstDot) continue;\n    if ((noisy && p.random() > l) || !noisy) {\n      p.point(p.lerp(x1, x2, l), p.lerp(y1, y2, l));\n    }\n  }\n}\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n"],"sourceRoot":""}