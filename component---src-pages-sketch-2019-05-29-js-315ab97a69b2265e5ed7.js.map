{"version":3,"sources":["webpack:///./src/pages/sketch/2019/05/29.js","webpack:///./src/lib/lerpLine.js"],"names":["sketch","p","w","h","GRID_SIZE","SIZES","LINES","grid","Doodad","x","y","size","this","lines","rate","drawFunc","random","square","triangle","_proto","prototype","push","translate","rotate","HALF_PI","PI","i","DIST","lerpLine","pop","setup","createCanvas","colorMode","HSB","hue","background","stroke","strokeWeight","strokeCap","ROUND","noFill","floor","width","height","xx","yy","visited","draw","_ref","_ref3","_p$random","concat","apply","filter","_ref2","overlap","Math","max","s","_ref4","length","noLoop","__webpack_exports__","_ref5","location","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","_components_sketch_layout__WEBPACK_IMPORTED_MODULE_2__","path","pathname","description","x1","y1","x2","y2","showFirstDot","Error","l","point","lerp"],"mappings":"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","file":"component---src-pages-sketch-2019-05-29-js-315ab97a69b2265e5ed7.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport lerpLine from \"~lib/lerpLine\";\n\nconst sketch = function(p) {\n  const GRID_SIZE = 60;\n  const SIZES = [1, 2, 3];\n  const LINES = 10;\n\n  let grid = [];\n  let w;\n  let h;\n\n  class Doodad {\n    constructor(x, y, size) {\n      this.x = x * GRID_SIZE;\n      this.y = y * GRID_SIZE;\n      this.size = size * GRID_SIZE;\n      this.lines = size * LINES;\n      this.rate = 0.03 / size;\n\n      this.drawFunc = p.random([this.square, this.triangle]);\n      this.drawFunc();\n    }\n\n    square() {\n      p.push();\n      p.translate(this.x + this.size / 2, this.y + this.size / 2);\n      p.rotate(p.random([0, p.HALF_PI, p.PI, p.HALF_PI + p.PI]));\n\n      for (let i = 0; i <= this.lines; i++) {\n        const DIST = (this.size / this.lines) * i;\n\n        lerpLine(\n          p,\n          -this.size / 2 + DIST,\n          -this.size / 2,\n          -this.size / 2 + DIST,\n          this.size / 2,\n          this.rate\n        );\n      }\n      p.pop();\n    }\n\n    triangle() {\n      p.push();\n      p.translate(this.x + this.size / 2, this.y + this.size / 2);\n      p.rotate(p.random([0, p.HALF_PI, p.PI, p.HALF_PI + p.PI]));\n\n      for (let i = 0; i <= this.lines; i++) {\n        const DIST = (this.size / this.lines) * i;\n\n        lerpLine(\n          p,\n          this.size / 2,\n          -this.size / 2 + DIST,\n          -this.size / 2 + DIST,\n          this.size / 2,\n          this.rate\n        );\n      }\n      for (let i = 0; i <= this.lines; i++) {\n        const DIST = (this.size / this.lines) * i;\n\n        lerpLine(\n          p,\n          this.size / 2 - DIST,\n          -this.size / 2,\n          -this.size / 2,\n          this.size / 2 - DIST,\n          this.rate\n        );\n      }\n      p.pop();\n    }\n  }\n\n  p.setup = function() {\n    p.createCanvas(660, 840);\n    p.colorMode(p.HSB, 100);\n\n    const hue = p.random(100);\n    p.background(hue, 75, 100);\n    p.stroke(hue, 50, 15);\n    p.strokeWeight(2);\n    p.strokeCap(p.ROUND);\n\n    p.noFill();\n\n    w = p.floor(p.width / GRID_SIZE);\n    h = p.floor(p.height / GRID_SIZE);\n\n    for (let xx = 0; xx < w; xx++) {\n      grid.push([]);\n      for (let yy = 0; yy < h; yy++) {\n        grid[xx].push({\n          x: xx,\n          y: yy,\n          visited: false,\n        });\n      }\n    }\n  };\n\n  p.draw = function() {\n    const { x, y } = p.random(\n      [].concat(...grid).filter(({ visited }) => !visited)\n    );\n\n    if (!grid[x][y].visited) {\n      let size = Math.max(...SIZES);\n      let overlap;\n\n      do {\n        overlap = false;\n        for (let xx = x; xx < size + x; xx++) {\n          for (let yy = y; yy < size + y; yy++) {\n            if (x + size > w || y + size > h || grid[xx][yy].visited) {\n              overlap = true;\n            }\n          }\n        }\n        if (overlap) {\n          size = Math.max(...SIZES.filter(s => s < size));\n        }\n      } while (overlap);\n\n      new Doodad(x, y, size);\n\n      for (let xx = x; xx < size + x; xx++) {\n        for (let yy = y; yy < size + y; yy++) {\n          grid[xx][yy].visited = true;\n        }\n      }\n    }\n\n    if (![].concat(...grid).filter(({ visited }) => !visited).length) {\n      p.noLoop();\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"\" />\n);\n","export default function(p, x1, y1, x2, y2, rate, showFirstDot = true) {\n  if (rate <= 0)\n    throw new Error(\"rate for lerpLine() must be greater than zero\");\n\n  for (let l = 0; l < 1; l += rate) {\n    if (l === 0 && !showFirstDot) continue;\n    p.random() > l && p.point(p.lerp(x1, x2, l), p.lerp(y1, y2, l));\n  }\n}\n"],"sourceRoot":""}