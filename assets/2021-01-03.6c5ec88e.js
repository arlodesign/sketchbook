"use strict";(self.webpackChunksketchbook=self.webpackChunksketchbook||[]).push([[3264],{68622:function(e,t,r){var n=r(94035),o=r.n(n),i=(r(96995),r(8372)),a=r(61025),u=r(7953);function c(e,t,r){return c=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&l(o,r.prototype),o},c.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}new(o())((function(e){var t,r,n,s,l,p,d,x,b,g,m,w="true"===e.getURLParams().render,P=57*(w?60:1),k=w?1:60,O=P*k,S=1e6,j=[],A=[],C=function(){return e.sin(2*e.PI*e.animLoop.progress-e.PI/2)/2+.5};function L(){var e={hue:r.value(),particleCount:s.value(),scale:n.value()};return l.attribute("href","?"+new URLSearchParams(v(v({},e),{},{render:!w})).toString()),window.history.replaceState(null,document.title,"?"+new URLSearchParams(v(v({},e),{},{render:w})).toString()),"?"+new URLSearchParams(v(v({},e),{},{render:w})).toString()}var M=function(){function t(r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=r,this._y=n,this.index=o,this.edgeCount=0,this.alpha=0,this.hue=g(o),this.pos=e.createVector(r,n),this.vel=e.createVector(0,0),this.acc=e.createVector(0,0),this.prevPos=this.pos.copy()}var o,i;return o=t,(i=[{key:"noiseVal",get:function(){return e.animLoop.noise2D(this._x,this._y)*C()}},{key:"update",value:function(){this.vel.add(this.acc),this.vel.limit(2),this.pos.add(this.vel),this.acc.mult(0)}},{key:"follow",value:function(e){var t=e[~~(this.pos.x/n.value())+~~(this.pos.y/n.value())*p];this.applyForce(t)}},{key:"applyForce",value:function(e){this.acc.add(e)}},{key:"distances",get:function(){var t=this;return A.map((function(r,n){var o=r.pos;return e.dist(t.pos.x,t.pos.y,o.x,o.y)})).sort()}},{key:"lightness",get:function(){return m===this.index?1:1-Math.min(this.distances[1],S)/S}},{key:"show",value:function(){this.alpha+=.1,e.stroke(e.abs(this.hue+r.value()%1),1,this.lightness,Math.min(C()/3,this.alpha)),e.strokeWeight(e.map(this.lightness,0,1,.5,4)),e.line(this.pos.x,this.pos.y,this.prevPos.x,this.prevPos.y),this.updatePrev()}},{key:"updatePrev",value:function(){this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y}},{key:"edges",value:function(){var t,r;(t=u.c7.cartesian([this.pos.x-e.width/2,this.pos.y-e.height/2]).polar(),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,r)||f(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]>Math.min(.4*e.width,.4*e.height)&&(this.edgeCount++,this.edgeCount>20?(this.pos.x=this._x,this.pos.y=this._y,this.edgeCount=0,this.alpha=0):this.vel.rotate(e.HALF_PI),this.updatePrev())}}])&&h(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),t}();e.setup=function(){var o,u;e.pixelDensity(1),e.frameRate(k),e.createCanvas(w?1080:e.windowWidth,w?1080:e.windowHeight),e.createLoop(P,{noiseRadius:.1}),e.colorMode(e.HSL,1),t=Object.assign({hue:e.random(0,1),particleCount:~~e.random(2,5e3),scale:~~e.random(10,200)},e.getURLParams()),w||e.noSmooth(),(r=e.createSlider(0,1,parseFloat(t.hue,10),.01)).attribute("title","hue"),r.changed(L),(n=e.createSlider(10,200,parseFloat(t.scale,10),1)).attribute("title","scale"),n.changed((function(){L(),p=~~(e.width/n.value()),d=~~(e.height/n.value())})),(s=e.createSlider(10,200,parseFloat(t.particleCount,10),1)).attribute("title","particleCount"),s.changed((function(){L(),clearTimeout(o),o=setTimeout((function(){return window.location.reload()}),2e3)})),l=e.createA("?",w?"Draft":"Render"),g=(0,i.getLineBy3Points)([{x:0,y:-.1},{x:(s.value()-1)/2,y:0},{x:s.value()-1,y:.1}]),L(),p=~~(e.width/n.value()),d=~~(e.height/n.value());for(var h=0;h<s.value();h++)if(A[h]=c(M,(u=(0,a.ZP)(e.width/2,e.height/2,e.random([0,e.PI]),e.random(e.width/5),!0),function(e){if(Array.isArray(e))return y(e)}(u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||f(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([h])),h>0){var v=e.dist(A[h].pos.x,A[h].pos.y,A[h-1].pos.x,A[h-1].pos.y);S=v<S?v:S}e.background(r.value(),.8,.3)},e.draw=function(){var t=e.animLoop.progress;e.blendMode(e.OVERLAY),m=A.map((function(t,r){var n=A.map((function(r){return e.dist(t.pos.x,t.pos.y,r.pos.x,r.pos.y)})).sort(),o=~~n.length/2;return{index:r,median:n.length%2?n[o]:(n[o-1]+n[o+1])/2}})).sort((function(e,t){return t.median-e.median})).shift().index,x=0;for(var n=0;n<d;n++){b=0;for(var i=0;i<p;i++){var a=i+n*p,u=e.noise(b,x,0)*e.TWO_PI*4,c=o().Vector.fromAngle(u);c.setMag(.05),j[a]=c,b+=.1}x+=.1}for(var s=0;s<A.length;s++)A[s].follow(j),A[s].update(),A[s].edges(),A[s].show();e.noStroke(),e.fill(r.value(),.8,.9,1/O),e.blendMode(e.SOFT_LIGHT),e.rect(0,0,e.width,e.height),e.frameCount%100==0&&console.info("".concat(e.ceil(100*t),"%")),w&&e.frameCount<=O&&e.save("".concat(String(e.frameCount).padStart(String(O).length,"0"),".png")),e.frameCount===O&&e.noLoop()},e.windowResized=function(){!w&&e.resizeCanvas(e.windowWidth,e.windowHeight)}}),"sketch"),document.getElementById("description").innerHTML='<a href="https://genuary2021.github.io/">#genuary2021</a>: Make something human'},61025:function(e,t,r){r.d(t,{Y2:function(){return n},C$:function(){return o},vy:function(){return i}});var n=function(e,t,r){return e+Math.cos(t)*r},o=function(e,t,r){return e+Math.sin(t)*r},i=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e+Math.cos(r)*n,u=t+Math.sin(r)*o;return i?[a,u]:{x:a,y:u}};t.ZP=function(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=n(e,r,i),c=o(t,r,i);return a?[u,c]:{x:u,y:c}}},8372:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(11833),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=Math.pow;return n(e,null,[{key:"by2Points",value:function(e){return(0,o.getKB)(function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),r=t[0],n=t[1];return{x1:r.x,y1:r.y,x2:n.x,y2:n.y}}(e))}},{key:"getLineBy2Points",value:function(t){var r=e.by2Points(t),n=r.k,o=r.b;return function(e){return n*e+o}}},{key:"by3Points",value:function(e){var r,n=void 0,o=void 0,i=void 0,a=void 0,u=void 0,c=void 0,s=null,l=null,f=null,y=null,h=["x","y"],p=["x1","x2","x3","y1","y2","y3"];if(Array.isArray(e)){if(r=[],e.map((function(e){for(var t=Object.keys(e),n=0;n<h.length;n++)t.includes(h[n])?r.push(!0):r.push(!1);return!1})),r.includes(!1))return{error:"FUCKUP! Каких-то полей не хватает =)"};e.map((function(e,t){switch(t){case 0:n=e.x,a=e.y;break;case 1:o=e.x,u=e.y;break;case 2:i=e.x,c=e.y}return!1}))}else{if(!function(e){for(var t=[],r=Object.keys(e),n=0;n<p.length;n++)r.includes(p[n])?t.push(!0):t.push(!1);return!t.includes(!1)}(e))return{error:"FUCKUP! Каких-то полей не хватает =)"};n=e.x1,a=e.y1,o=e.x2,u=e.y2,i=e.x3,c=e.y3}return n===o||o===i||i===n?y="Impossible / Указанные точки не для квадратичной функции!":(l=(a-u-(s=(a*(o-i)+u*(i-n)+c*(n-o))/((n-o)*(o-i)*(n-i)))*(t(n,2)-t(o,2)))/(n-o),f=a-s*t(n,2)-l*n),{a:s,b:l,c:f,error:y}}},{key:"getLineBy3Points",value:function(t){var r=e.by3Points(t),n=r.error,o=r.a,i=r.b,a=r.c;return n?null:function(e){return o*e*e+i*e+a}}},{key:"byLeastSquaresApproximation",value:function(e){for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<e.length;n++)r[0][0]+=t(e[n].x,4),r[0][1]+=t(e[n].x,3),r[0][2]+=t(e[n].x,2),r[0][3]+=t(e[n].x,2)*e[n].y,r[1][0]+=t(e[n].x,3),r[1][1]+=t(e[n].x,2),r[1][2]+=e[n].x,r[1][3]+=e[n].x*e[n].y,r[2][0]+=t(e[n].x,2),r[2][1]+=e[n].x,++r[2][2],r[2][3]+=e[n].y;var o=r[0][1]*r[1][2]-r[1][1]*r[0][2],i=r[1][1]*r[2][2]-r[2][1]*r[1][2],a=i*(r[0][3]*r[1][2]-r[1][3]*r[0][2])-o*(r[1][3]*r[2][2]-r[2][3]*r[1][2]);a/=i*(r[0][0]*r[1][2]-r[1][0]*r[0][2])-o*(r[1][0]*r[2][2]-r[2][0]*r[1][2]);var u=(r[1][3]*r[2][2]-r[2][3]*r[1][2]-a*(r[1][0]*r[2][2]-r[2][0]*r[1][2]))/i;return{a:a,b:u,c:(r[0][3]-a*r[0][0]-u*r[0][1])/r[0][2]}}},{key:"getLineByLeastSquaresApproximation",value:function(t){var r=e.byLeastSquaresApproximation(t),n=r.a,o=r.b,i=r.c;return function(e){return n*e*e+o*e+i}}},{key:"getBrokenLineByPoints",value:function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e)).sort((function(e,t){return e.x-t.x}));return function(e){var r=void 0,n=void 0,i=void 0,a=void 0;if(e<=t[0].x)r=t[0].x,n=t[1].x,i=t[0].y,a=t[1].y;else if(e>=t[t.length-1].x)r=t[t.length-2].x,n=t[t.length-1].x,i=t[t.length-2].y,a=t[t.length-1].y;else for(var u=0;u<t.length-1;u++)if(e>=t[u].x&&e<=t[u+1].x){r=t[u].x,n=t[u+1].x,i=t[u].y,a=t[u+1].y;break}return(0,o.linear)({x:e,x1:r,y1:i,x2:n,y2:a})}}}]),e}();t.default=i,e.exports=t.default},11833:function(e,t){var r=function(){function e(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"linear",value:function(e){var t=e.x,r=e.x1,n=e.y1,o=e.x2,i=e.y2;return r===o?(n+i)/2:(t-r)*(i-n)/(o-r)+n}},{key:"getKB",value:function(e){var t=e.x1,r=e.y1,n=e.x2,o=(e.y2-r)/(n-t);return{k:o,b:r-o*t}}},{key:"bilinear",value:function(t){var r=t.x,n=t.y,o=t.x1,i=t.y1,a=t.x2,u=t.y2,c=t.q11,s=t.q12,l=t.q21,f=t.q22,y=e.linear({x:r,x1:o,y1:c,x2:a,y2:s}),h=e.linear({x:r,x1:o,y1:l,x2:a,y2:f});return e.linear({x:n,x1:i,y1:y,x2:u,y2:h})}},{key:"byInternalTable",value:function(t){var r=t.x,n=t.y,o=t.tableAsDoubleArray;try{var i,a,u=void 0,c=void 0;for(u=1;o[u][0]<n;u++);for(i=u-1,c=1;o[0][c]<r;c++);return a=c-1,e.bilinear({x:r,y:n,x1:o[0][a],y1:o[i][0],x2:o[0][c],y2:o[u][0],q11:o[i][a],q12:o[i][c],q21:o[u][a],q22:o[u][c]})}catch(e){return 0}}},{key:"getCommonPointByBisectionMethod",value:function(e){var t=Math.sign,r=e.fn1,n=e.fn2,o=e.xMin,i=void 0===o?-1e3:o,a=e.xMax,u=void 0===a?1e3:a,c=e.eps,s=void 0===c?.001:c,l=e.iMax,f=void 0===l?1e3:l,y=i,h=u,p=function(e){return r(e)-n(e)},v=0,d=0;if(0<t(p(y))*t(p(h)))return{error:!0,descriptrion:"diffFn(x) имеет одинаковый знак на границах отрезка"};for(;Math.abs(h-y)>s;)if(d=(y+h)/2,0>=t(p(y))*t(p(d))?h=d:y=d,++v===f)return{error:!0,descriptrion:"Превышено максимально допустимое количество итераций"};return{error:!1,x:(y+h)/2,y:r((y+h)/2)}}}]),e}();t.default=n,e.exports=t.default}},function(e){e.O(0,[4035,6995,7953],(function(){return 68622,e(e.s=68622)})),e.O()}]);