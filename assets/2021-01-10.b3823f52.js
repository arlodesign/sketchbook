"use strict";(self.webpackChunksketchbook=self.webpackChunksketchbook||[]).push([[2946],{1819:function(e,r,n){var t=n(94035),o=n.n(t),a=n(45456),i=n.n(a),u=n(8372),c=n(61025);function l(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function f(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){y(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function y(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}window.p5=o(),i()(),new(o())((function(e){var r,n,t,o,a,i,l,y,s="true"===e.getURLParams().render,d=60*(s?12:1),v=~~(s?5:60),h=d*v,x=[];function p(r,n,t,i,u){if(!(n<0)){var l=(0,c.ZP)(r,n,t,i),f=l.x,y=l.y;u>0&&y>0&&(x.push({x1:r,y1:n,x2:f,y2:y}),p(f,y,e.random(e.PI+a.value(),e.HALF_PI+e.PI),e.random(e.height/10,i*o.value()),u-1),p(f,y,e.random(e.HALF_PI+e.PI,e.TWO_PI-a.value()),e.random(e.height/10,i*o.value()),u-1))}}function g(){var r={startLength:n.value(),treeStep:t.value(),treeScale:o.value(),treeWidth:a.value()};i.attribute("href","?"+new URLSearchParams(f(f({},r),{},{render:!s})).toString()),window.history.replaceState(null,document.title,"?"+new URLSearchParams(f(f({},r),{},{render:s})).toString()),x=[],p(e.width/2,e.height,e.PI+e.HALF_PI,e.height*n.value(),t.value())}function b(r,n){return e.animLoop.noise2D(r/1e3,n/1e3)*(e.width/2)*y(n/e.height)}e.setup=function(){e.frameRate(v),e.pixelDensity(1),e.createCanvas(s?1080:e.windowWidth,s?1080:e.windowHeight),e.createLoop(d,{noiseRadius:.8}),e.colorMode(e.HSB,1),s||e.noSmooth(),e.ellipseMode(e.CENTER),r=Object.assign({startLength:e.random(),treeStep:~~e.random(2,20),treeScale:e.random(.01,1),treeWidth:e.random(0,e.HALF_PI)},e.getURLParams()),(n=e.createSlider(0,1,parseFloat(r.startLength,10),.01)).changed(g),(t=e.createSlider(2,20,parseFloat(r.treeStep,10),1)).changed(g),(o=e.createSlider(.01,1,parseFloat(r.treeScale,10),.01)).changed(g),(a=e.createSlider(0,e.HALF_PI,parseFloat(r.treeWidth,10),.01)).changed(g),e.createButton("Random").mousePressed((function(){n.value(e.random()),t.value(~~e.random(2,20)),o.value(e.random(.01,1)),a.value(e.random(0,e.HALF_PI)),g()})),i=e.createA("?",s?"Draft":"Render"),g(),l=(0,u.getLineBy3Points)([{x:0,y:15},{x:.5,y:7},{x:1,y:.5}]),y=(0,u.getLineBy3Points)([{x:0,y:1},{x:.5,y:.25},{x:1,y:0}]),p(e.width/2,e.height,e.PI+e.HALF_PI,e.height*n.value(),t.value())},e.draw=function(){var r=e.animLoop.progress;e.blendMode(e.BLEND),e.background(.6,0,1),e.blendMode(e.DARKEST),x.forEach((function(r,n){var t=r.x1,o=r.y1,a=r.x2,i=r.y2;e.stroke(e.lerpColor(e.color(.5,.6,.8),e.color(.5,.6,.1),o/e.height)),e.strokeWeight(l((e.height-o)/e.height)),e.line(t+b(t,o),o,a+b(a,i),i)})),e.noStroke(),s&&e.frameCount<=h&&(e.frameCount%100==0&&console.info("".concat(e.ceil(100*r),"%")),e.save("".concat(String(e.frameCount).padStart(String(h).length,"0"),".png")))},e.windowResized=function(){!s&&e.resizeCanvas(e.windowWidth,e.windowHeight)}}),"sketch"),document.getElementById("description").innerHTML='<a href="https://genuary2021.github.io/">#genuary2021</a>: // TREE'},61025:function(e,r,n){n.d(r,{Y2:function(){return t},C$:function(){return o},vy:function(){return a}});var t=function(e,r,n){return e+Math.cos(r)*n},o=function(e,r,n){return e+Math.sin(r)*n},a=function(e,r,n,t,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=e+Math.cos(n)*t,u=r+Math.sin(n)*o;return a?[i,u]:{x:i,y:u}};r.ZP=function(e,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=t(e,n,a),c=o(r,n,a);return i?[u,c]:{x:u,y:c}}},8372:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e,r){for(var n,t=0;t<r.length;t++)(n=r[t]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),o=n(11833),a=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r=Math.pow;return t(e,null,[{key:"by2Points",value:function(e){return(0,o.getKB)(function(e){var r=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var n=[],t=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(t=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);t=!0);}catch(e){o=!0,a=e}finally{try{!t&&u.return&&u.return()}finally{if(o)throw a}}return n}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),n=r[0],t=r[1];return{x1:n.x,y1:n.y,x2:t.x,y2:t.y}}(e))}},{key:"getLineBy2Points",value:function(r){var n=e.by2Points(r),t=n.k,o=n.b;return function(e){return t*e+o}}},{key:"by3Points",value:function(e){var n,t=void 0,o=void 0,a=void 0,i=void 0,u=void 0,c=void 0,l=null,f=null,y=null,s=null,d=["x","y"],v=["x1","x2","x3","y1","y2","y3"];if(Array.isArray(e)){if(n=[],e.map((function(e){for(var r=Object.keys(e),t=0;t<d.length;t++)r.includes(d[t])?n.push(!0):n.push(!1);return!1})),n.includes(!1))return{error:"FUCKUP! Каких-то полей не хватает =)"};e.map((function(e,r){switch(r){case 0:t=e.x,i=e.y;break;case 1:o=e.x,u=e.y;break;case 2:a=e.x,c=e.y}return!1}))}else{if(!function(e){for(var r=[],n=Object.keys(e),t=0;t<v.length;t++)n.includes(v[t])?r.push(!0):r.push(!1);return!r.includes(!1)}(e))return{error:"FUCKUP! Каких-то полей не хватает =)"};t=e.x1,i=e.y1,o=e.x2,u=e.y2,a=e.x3,c=e.y3}return t===o||o===a||a===t?s="Impossible / Указанные точки не для квадратичной функции!":(f=(i-u-(l=(i*(o-a)+u*(a-t)+c*(t-o))/((t-o)*(o-a)*(t-a)))*(r(t,2)-r(o,2)))/(t-o),y=i-l*r(t,2)-f*t),{a:l,b:f,c:y,error:s}}},{key:"getLineBy3Points",value:function(r){var n=e.by3Points(r),t=n.error,o=n.a,a=n.b,i=n.c;return t?null:function(e){return o*e*e+a*e+i}}},{key:"byLeastSquaresApproximation",value:function(e){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=0;t<e.length;t++)n[0][0]+=r(e[t].x,4),n[0][1]+=r(e[t].x,3),n[0][2]+=r(e[t].x,2),n[0][3]+=r(e[t].x,2)*e[t].y,n[1][0]+=r(e[t].x,3),n[1][1]+=r(e[t].x,2),n[1][2]+=e[t].x,n[1][3]+=e[t].x*e[t].y,n[2][0]+=r(e[t].x,2),n[2][1]+=e[t].x,++n[2][2],n[2][3]+=e[t].y;var o=n[0][1]*n[1][2]-n[1][1]*n[0][2],a=n[1][1]*n[2][2]-n[2][1]*n[1][2],i=a*(n[0][3]*n[1][2]-n[1][3]*n[0][2])-o*(n[1][3]*n[2][2]-n[2][3]*n[1][2]);i/=a*(n[0][0]*n[1][2]-n[1][0]*n[0][2])-o*(n[1][0]*n[2][2]-n[2][0]*n[1][2]);var u=(n[1][3]*n[2][2]-n[2][3]*n[1][2]-i*(n[1][0]*n[2][2]-n[2][0]*n[1][2]))/a;return{a:i,b:u,c:(n[0][3]-i*n[0][0]-u*n[0][1])/n[0][2]}}},{key:"getLineByLeastSquaresApproximation",value:function(r){var n=e.byLeastSquaresApproximation(r),t=n.a,o=n.b,a=n.c;return function(e){return t*e*e+o*e+a}}},{key:"getBrokenLineByPoints",value:function(e){var r=[].concat(function(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}(e)).sort((function(e,r){return e.x-r.x}));return function(e){var n=void 0,t=void 0,a=void 0,i=void 0;if(e<=r[0].x)n=r[0].x,t=r[1].x,a=r[0].y,i=r[1].y;else if(e>=r[r.length-1].x)n=r[r.length-2].x,t=r[r.length-1].x,a=r[r.length-2].y,i=r[r.length-1].y;else for(var u=0;u<r.length-1;u++)if(e>=r[u].x&&e<=r[u+1].x){n=r[u].x,t=r[u+1].x,a=r[u].y,i=r[u+1].y;break}return(0,o.linear)({x:e,x1:n,y1:a,x2:t,y2:i})}}}]),e}();r.default=a,e.exports=r.default},11833:function(e,r){var n=function(){function e(e,r){for(var n,t=0;t<r.length;t++)(n=r[t]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"linear",value:function(e){var r=e.x,n=e.x1,t=e.y1,o=e.x2,a=e.y2;return n===o?(t+a)/2:(r-n)*(a-t)/(o-n)+t}},{key:"getKB",value:function(e){var r=e.x1,n=e.y1,t=e.x2,o=(e.y2-n)/(t-r);return{k:o,b:n-o*r}}},{key:"bilinear",value:function(r){var n=r.x,t=r.y,o=r.x1,a=r.y1,i=r.x2,u=r.y2,c=r.q11,l=r.q12,f=r.q21,y=r.q22,s=e.linear({x:n,x1:o,y1:c,x2:i,y2:l}),d=e.linear({x:n,x1:o,y1:f,x2:i,y2:y});return e.linear({x:t,x1:a,y1:s,x2:u,y2:d})}},{key:"byInternalTable",value:function(r){var n=r.x,t=r.y,o=r.tableAsDoubleArray;try{var a,i,u=void 0,c=void 0;for(u=1;o[u][0]<t;u++);for(a=u-1,c=1;o[0][c]<n;c++);return i=c-1,e.bilinear({x:n,y:t,x1:o[0][i],y1:o[a][0],x2:o[0][c],y2:o[u][0],q11:o[a][i],q12:o[a][c],q21:o[u][i],q22:o[u][c]})}catch(e){return 0}}},{key:"getCommonPointByBisectionMethod",value:function(e){var r=Math.sign,n=e.fn1,t=e.fn2,o=e.xMin,a=void 0===o?-1e3:o,i=e.xMax,u=void 0===i?1e3:i,c=e.eps,l=void 0===c?.001:c,f=e.iMax,y=void 0===f?1e3:f,s=a,d=u,v=function(e){return n(e)-t(e)},h=0,x=0;if(0<r(v(s))*r(v(d)))return{error:!0,descriptrion:"diffFn(x) имеет одинаковый знак на границах отрезка"};for(;Math.abs(d-s)>l;)if(x=(s+d)/2,0>=r(v(s))*r(v(x))?d=x:s=x,++h===y)return{error:!0,descriptrion:"Превышено максимально допустимое количество итераций"};return{error:!1,x:(s+d)/2,y:n((s+d)/2)}}}]),e}();r.default=t,e.exports=r.default}},function(e){e.O(0,[4035,5456],(function(){return 1819,e(e.s=1819)})),e.O()}]);