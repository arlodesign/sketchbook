{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/10.js"],"names":["sketch","p","myFont","vectorCount","maxDist","vectors","preload","loadFont","withPrefix","setup","pixelDensity","createCanvas","background","noStroke","fill","textFont","text","width","height","loadPixels","darkPixels","y","x","index","pixels","push","shuffle","floor","length","Array","from","_","i","vector","createVector","reached","reachedBy","dist","draw","stroke","noFill","forEach","_ref","_vectors$reachedBy$ve","strokeWeight","quad","reachedByIndex","unreachedIndex","shortestDist","uv","ui","rv","ri","thisDist","filter","v","noLoop","__webpack_exports__","_ref2","location","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_3__","_components_sketch_layout__WEBPACK_IMPORTED_MODULE_5__","path","pathname"],"mappings":"2JAIMA,EAAS,SAASC,GACtB,IAAIC,EACAC,EAGAC,EAFAC,EAAU,GAKdJ,EAAEK,QAAU,WACVJ,EAASD,EAAEM,SAASC,YAAW,gCAGjCP,EAAEQ,MAAQ,WACRR,EAAES,aAAa,GACfT,EAAEU,aAAa,IAAK,KACpBV,EAAEW,WAAW,KACbX,EAAEY,WACFZ,EAAEa,KAAK,GACPb,EAAEc,SAASb,EAAQ,KACnBD,EAAEe,KACA,iCACA,GACA,GACAf,EAAEgB,MAAQ,GACVhB,EAAEiB,OAAS,IAEbjB,EAAEkB,aAEF,IADA,IAAIC,EAAa,GACRC,EAAI,EAAGA,EAAIpB,EAAEiB,OAAS,EAAGG,IAChC,IAAK,IAAIC,EAAI,EAAGA,EAAIrB,EAAEgB,MAAQ,EAAGK,IAAK,CACpC,IAAMC,EAA4B,GAAnBD,EAAID,EAAIpB,EAAEgB,OACD,MAApBhB,EAAEuB,OAAOD,IACXH,EAAWK,KAAK,CACdH,IACAD,MAKRD,EAAanB,EAAEyB,QAAQN,GACvBjB,EAAcF,EAAE0B,MAAMP,EAAWQ,OAAS,KAC1CvB,EAAUwB,MAAMC,KAAKD,MAAM1B,EAAc,GAAI,SAAC4B,EAAGC,GAAJ,MAAW,CACtDC,OAAQhC,EAAEiC,aAAad,EAAWY,GAAGV,EAAGF,EAAWY,GAAGX,GACtDc,SAAS,EACTC,UAAW,MAEL,GAAGD,SAAU,EACrB9B,EAAQ,GAAG+B,WAAa,EACxBhC,EAAUH,EAAEoC,KAAK,EAAG,EAAGpC,EAAEgB,MAAOhB,EAAEiB,SAGpCjB,EAAEqC,KAAO,WACPrC,EAAEW,WAAW,GACbX,EAAEY,WACFZ,EAAEa,KAAK,KACPb,EAAEc,SAASb,EAAQ,KACnBD,EAAEe,KACA,iCACA,GACA,GACAf,EAAEgB,MAAQ,GACVhB,EAAEiB,OAAS,IAEbjB,EAAEsC,OAAO,GACTtC,EAAEuC,SACFnC,EAAQoC,QAAQ,SAAAC,EAAiCV,GAAM,IAApCC,EAAoCS,EAApCT,OAAQE,EAA4BO,EAA5BP,QAASC,EAAmBM,EAAnBN,UAClC,GAAID,GAAWC,GAAa,EAAG,KAAAO,EACZtC,EAAQ+B,GAAWH,OAA5BX,EADqBqB,EACrBrB,EAAGD,EADkBsB,EAClBtB,EACXpB,EAAE2C,aAAa3C,EAAEoC,KAAKJ,EAAOX,EAAGW,EAAOZ,EAAGC,EAAGD,GAAK,GAClDpB,EAAE4C,KAAKZ,EAAOX,EAAGW,EAAOZ,EAAGY,EAAOX,EAAGD,EAAGC,EAAGD,EAAGC,EAAGW,EAAOZ,MAG5D,IACIyB,EACAC,EAFAC,EAAe5C,EAGnBC,EAAQoC,QAAQ,SAACQ,EAAIC,GACdD,EAAGd,SACN9B,EAAQoC,QAAQ,SAACU,EAAIC,GACnB,GAAID,EAAGhB,QAAS,CACd,IAAMkB,EAAWpD,EAAEoC,KACjBY,EAAGhB,OAAOX,EACV2B,EAAGhB,OAAOZ,EACV8B,EAAGlB,OAAOX,EACV6B,EAAGlB,OAAOZ,GAERgC,EAAWL,IACbA,EAAeK,EACfN,EAAiBG,EACjBJ,EAAiBM,QAM3B/C,EAAQ0C,GAAgBZ,SAAU,EAClC9B,EAAQ0C,GAAgBX,UAAYU,EAEhCzC,EAAQiD,OAAO,SAAAC,GAAC,OAAIA,EAAEpB,UAASP,SAAWvB,EAAQuB,QACpD3B,EAAEuD,WAKOC,EAAA,iBAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAH,OACbC,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,CAAc9D,OAAQA,EAAQ+D,KAAMJ,EAASK","file":"component---src-pages-sketch-2019-01-10-js-22cf99fde15ec679568c.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport { withPrefix } from \"gatsby\";\n\nconst sketch = function(p) {\n  let myFont;\n  let vectorCount;\n  let vectors = [];\n  let boundary;\n  let maxDist;\n  let drawingComplete = false;\n\n  p.preload = function() {\n    myFont = p.loadFont(withPrefix(\"/assets/NewsCycle-Bold.ttf\"));\n  };\n\n  p.setup = function() {\n    p.pixelDensity(1);\n    p.createCanvas(660, 840);\n    p.background(255);\n    p.noStroke();\n    p.fill(0);\n    p.textFont(myFont, 130);\n    p.text(\n      \"YOUR FUTURE SELF IS A STRANGER\",\n      35,\n      20,\n      p.width - 10,\n      p.height - 10\n    );\n    p.loadPixels();\n    let darkPixels = [];\n    for (let y = 0; y < p.height + 0; y++) {\n      for (let x = 0; x < p.width + 0; x++) {\n        const index = (x + y * p.width) * 4;\n        if (p.pixels[index] !== 255) {\n          darkPixels.push({\n            x,\n            y,\n          });\n        }\n      }\n    }\n    darkPixels = p.shuffle(darkPixels);\n    vectorCount = p.floor(darkPixels.length / 60);\n    vectors = Array.from(Array(vectorCount - 2), (_, i) => ({\n      vector: p.createVector(darkPixels[i].x, darkPixels[i].y),\n      reached: false,\n      reachedBy: 0,\n    }));\n    vectors[0].reached = true;\n    vectors[0].reachedBy = -1;\n    maxDist = p.dist(0, 0, p.width, p.height);\n  };\n\n  p.draw = function() {\n    p.background(0);\n    p.noStroke();\n    p.fill(255);\n    p.textFont(myFont, 130);\n    p.text(\n      \"YOUR FUTURE SELF IS A STRANGER\",\n      25,\n      20,\n      p.width - 10,\n      p.height - 10\n    );\n    p.stroke(0);\n    p.noFill();\n    vectors.forEach(({ vector, reached, reachedBy }, i) => {\n      if (reached && reachedBy > -1) {\n        const { x, y } = vectors[reachedBy].vector;\n        p.strokeWeight(p.dist(vector.x, vector.y, x, y) / 4);\n        p.quad(vector.x, vector.y, vector.x, y, x, y, x, vector.y);\n      }\n    });\n    let shortestDist = maxDist;\n    let reachedByIndex;\n    let unreachedIndex;\n    vectors.forEach((uv, ui) => {\n      if (!uv.reached) {\n        vectors.forEach((rv, ri) => {\n          if (rv.reached) {\n            const thisDist = p.dist(\n              uv.vector.x,\n              uv.vector.y,\n              rv.vector.x,\n              rv.vector.y\n            );\n            if (thisDist < shortestDist) {\n              shortestDist = thisDist;\n              unreachedIndex = ui;\n              reachedByIndex = ri;\n            }\n          }\n        });\n      }\n    });\n    vectors[unreachedIndex].reached = true;\n    vectors[unreachedIndex].reachedBy = reachedByIndex;\n\n    if (vectors.filter(v => v.reached).length === vectors.length) {\n      p.noLoop();\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} />\n);\n"],"sourceRoot":""}