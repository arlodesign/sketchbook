const SIZE=20;let hue,blocks=[],loc={},brightCount=0;function setup(){pixelDensity(4),createCanvas(660,840).parent("my-canvas"),blocks=[...Array(floor(height/SIZE)).keys()].fill([...Array(floor(width/SIZE)).keys()].fill({})),hue=random(20,80),background(255),colorMode(HSB,100),noStroke();for(let o=0;o<width/SIZE;o++)for(let l=0;l<height/SIZE;l++){const t=map(dist(o*SIZE,l*SIZE,width,height),SIZE,dist(0,0,width,height),hue-20,hue+20),c=map(dist(o*SIZE,l*SIZE,width,height),SIZE,dist(0,0,width,height),0,100);fill(t,c,100),rect(o*SIZE,l*SIZE,SIZE,SIZE),blocks[l][o]={clr:color(100-t,50-c,80,10),visitCount:0}}blendMode(DODGE)}function draw(){loc={row:constrain(floor(randomGaussian(blocks.length/2,blocks.length/5)),0,blocks.length-1),col:constrain(floor(randomGaussian(blocks[0].length/2,blocks[0].length/5)),0,blocks[0].length-1)},blocks[loc.row][loc.col].visitCount++;const{clr:o,visitCount:l}=blocks[loc.row][loc.col];fill(o),ellipse(loc.col*SIZE+SIZE/2,loc.row*SIZE+SIZE/2,SIZE-.4*SIZE,SIZE-.4*SIZE),10===l&&brightCount++,25===brightCount&&noLoop()}