const vectorCount=250;let boundary,maxDist,vectors=[];function getVectorValue(e){return constrain(randomGaussian(0,.75*e),-e,e)}function setup(){createCanvas(660,840,WEBGL).parent("my-canvas"),boundary=width/3,vectors=(vectors=Array.from(Array(vectorCount/2),()=>({vector:createVector(getVectorValue(boundary/2),getVectorValue(boundary/2),getVectorValue(boundary/2)),reached:!1,reachedBy:0}))).concat(Array.from(Array(vectorCount),()=>({vector:createVector(getVectorValue(boundary),getVectorValue(boundary),getVectorValue(boundary)),reached:!1,reachedBy:0}))),[-1,1].forEach(e=>{[-1,1].forEach(r=>{[-1,1].forEach(o=>{vectors.push({vector:createVector(boundary*e,boundary*r,boundary*o),reached:!1,reachedBy:0})})})}),vectors[0].reached=!0,vectors[0].reachedBy=-1,maxDist=dist(-boundary,-boundary,-boundary,boundary,boundary,boundary)}function draw(){background(0),rotateX(sin(frameCount/200)),rotateY(cos(frameCount/300)),stroke(255),noFill(),vectors.forEach(({vector:e,reached:r,reachedBy:o},t)=>{if(r&&o>-1){const{x:r,y:a,z:c}=vectors[o].vector;stroke(t%2?255:0),strokeWeight(map(dist(0,0,0,e.x,e.y,e.z),0,maxDist/2,4,.25)),bezier(e.x,e.y,e.z,0,0,0,0,0,0,r,a,c)}});let e,r,o=maxDist;drawingComplete||(vectors.forEach((t,a)=>{t.reached||vectors.forEach((c,n)=>{if(c.reached){const d=dist(t.vector.x,t.vector.y,t.vector.z,c.vector.x,c.vector.y,c.vector.z);d<o&&(o=d,r=a,e=n)}})}),vectors[r].reached=!0,vectors[r].reachedBy=e),vectors.filter(e=>e.reached).length===vectorCount+vectorCount/2+8&&(drawingComplete=!0)}