let dark,scalar,x,y,x2,y2,rOpt,gOpt,bOpt,aOpt;const colorFunctions=[a=>240*abs(sin(a)),a=>240*abs(cos(a)),a=>240*abs(tan(a)),a=>240*abs(sin(a+PI)),a=>240*abs(cos(a+PI)),a=>240*abs(tan(a+PI)),a=>240*abs(sin(-a)),a=>240*abs(cos(-a)),a=>240*abs(tan(-a)),a=>240*abs(sin(-a+PI)),a=>240*abs(cos(-a+PI)),a=>240*abs(tan(-a+PI))];function setStroke(a){stroke(rOpt(a),gOpt(a),bOpt(a),aOpt(a*scalar))}function setup(){for(pixelDensity(4),createCanvas(660,840).parent("my-canvas"),dark=random([0,1]),background(dark?0:255),noFill(),stroke(0),scalar=random([3,5,7,9]),x=x2=scalar,y=y2=scalar;[...new Set([rOpt,gOpt,bOpt,aOpt])].length<4;)rOpt=random(colorFunctions),gOpt=random(colorFunctions),bOpt=random(colorFunctions),aOpt=random(colorFunctions);blendMode(dark?LIGHTEST:DARKEST)}function draw(){translate(width/2,height/2);const a=random([-10,10]),t=random([-10,10]);if(x=x2+a,y=y2+t,strokeWeight(7*noise(a,t)),setStroke(frameCount/200),x>-width/2&&y>-height/2&&x<width/2&&y<height/2)for(let a=0;a<scalar;a++)push(),rotate(TWO_PI/scalar*a),triangle(x,y,lerp(x,y2,.5),lerp(y,x2,.5),x2,y2),endShape(),pop();else noLoop(),drawingComplete=!0;x2=x,y2=y}