function guideColor(e){return color(255,0,0,e)}let speeds,drawing,lastPoint,guides=[],viewGuides=!1;function setup(){pixelDensity(4),createCanvas(660,840).parent("my-canvas"),(drawing=createGraphics(width,height)).background(255),drawing.stroke(0,0,0,63.75),drawing.strokeWeight(.5),drawing.noFill(),speeds=[random(.2,.3),random(.2,.3),random(.2,.3)],guides.push({r:HALF_PI,speed:speeds[0]/TWO_PI,direction:random([-1,1])}),guides.push({r:0,speed:speeds[1]/TWO_PI,direction:-1}),guides.push({r:1.5*PI,speed:speeds[2]/TWO_PI,direction:random([-1,1])}),guides.push(Object.assign({},guides[1]))}function draw(){background(255),image(drawing,0,0);const e=polarToCartesianX(width/2,guides[0].r,width/2-100),i=width,s=height/2+sin(guides[1].r)*(height/2-100),t=polarToCartesianX(width/2,guides[2].r,width/2-100),d=height,n=height/2+sin(guides[3].r)*(height/2-100);viewGuides&&(stroke(guideColor(64)),strokeWeight(1),line(e,0,t,d),line(i,s,0,n));for(let e=0;e<guides.length;e++)guides[e].r+=guides[e].speed*guides[e].direction;const{x:r,y:o}=lineIntersection(e,0,t,d,i,s,0,n);if(r&&o&&frameCount>1)for(let e=0;e<1;e+=.01)drawing.line(r,o,lastPoint.x,lastPoint.y);lastPoint=r&&o?{x:r,y:o}:lastPoint}function mousePressed(){viewGuides=!viewGuides}setTimeout(()=>{drawingComplete=!0},6e4);