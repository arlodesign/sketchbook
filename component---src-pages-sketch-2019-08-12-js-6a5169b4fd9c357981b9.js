(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{479:function(e,t,r){"use strict";r.r(t);var i=r(0),n=(r(1),r(251)),o=(r(517),r(532)),a={}.DEV&&!1,s=function(e){var t,r,i,n=e.random(100);e.setup=function(){a&&(e.pixelDensity(1),e.frameRate(30)),e.createCanvas(660,840,e.WEBGL),e.colorMode(e.HSB,100),t=e.floor(e.width/30),r=e.floor(e.height/30),i=e.dist(0,0,e.width,e.height),e.noStroke(),e.createLoop(60,{gif:!!a&&{render:!1,open:!0},noiseRadius:1})},e.draw=function(){var a=e.animLoop,s=(a.noise1D,a.noise2D,a.theta),h=e.map(s,0,e.TWO_PI,-e.width/2,e.width/2),l=e.map(s,0,e.TWO_PI,e.height/2,-e.height/2);e.background(n,100,50),e.specularMaterial(n,100,75),e.pointLight.apply(e,[0,0,100].concat(Object(o.spherical)([100,s,0]).cart())),e.pointLight.apply(e,[100-n,25,50].concat(Object(o.spherical)([1e3,e.map(e.sin(s),-1,1,0,e.PI),e.map(e.cos(s),-1,1,0,e.PI)]).cart()));for(var c=-t/2;c<t;c++)for(var d=-r/2;d<r;d++)e.push(),e.translate(30*c-15,30*d-15),e.rotateX(e.map(e.dist(c,d,h,l),0,i,0,15*-e.TWO_PI)),e.box(31,31,3),e.pop()}};t.default=function(e){var t=e.location;return Object(i.c)(n.a,{sketch:s,path:t.pathname,description:""})}},517:function(e,t,r){r(518)()},518:function(e,t,r){r(30),r(519);var i=r(528);e.exports=function(){var e=void 0===window.p5?r(103):window.p5;if(void 0===e)return void console.error("p5.createLoop: p5 not found");var t=i(),n=i(),o=i();e.prototype.registerMethod("init",t.invoke),e.prototype.registerMethod("pre",n.invoke),e.prototype.registerMethod("post",o.invoke);var a=window.createLoop;e.prototype.createLoop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,i={framesPerSecond:r._targetFrameRate||r._frameRate||60,duration:3,canvas:r.canvas};return void 0!==e&&isNaN(e)&&Object.assign(i,e),isNaN(e)||(i.duration=e),void 0!==t&&Object.assign(i,t),console.log("creating ".concat(i.duration," second loop at ").concat(i.framesPerSecond," fps")),r.animLoop=a(i),r._isGlobal&&(window.animLoop=r.animLoop),n.addListener(r.animLoop.preRender),o.addListener(r.animLoop.postRender),r.animLoop}}},519:function(e,t,r){window.createLoop=r(520)},520:function(e,t,r){var i=r(521),n=r(523),o=r(525);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,r=void 0===t?3:t,a=e.framesPerSecond,s=void 0===a?30:a,h=e.gif,l=void 0!==h&&h,c=e.gifRender,d=void 0===c?void 0:c,p=e.gifOpen,u=void 0===p?void 0:p,f=e.gifDownload,v=void 0===f?void 0:f,g=e.gifStartLoop,m=void 0===g?void 0:g,y=e.gifEndLoop,b=void 0===y?void 0:y,w=e.gifFileName,x=void 0===w?void 0:w,_=e.gifOptions,E=void 0===_?void 0:_,k=e.noise,F=void 0===k?{}:k,P=e.noiseRadius,L=void 0===P?void 0:P,j=e.noiseSeed,C=void 0===j?void 0:j,T=e.canvas,I=void 0===T?void 0:T,M={};i({framesPerSecond:s,duration:r,loop:M}),void 0!==L&&(F.radius=L);void 0!==C&&(F.seed=C);n(M,F),!1!==l&&(l=!0===l?{}:l,void 0!==I&&(l.canvas=I),void 0!==d&&(l.render=d),void 0!==u&&(l.open=u),void 0!==v&&(l.download=v),void 0!==m&&(l.startLoop=m),void 0!==E&&(l.options=E),void 0!==b&&(l.endLoop=b),void 0!==x&&(l.fileName=x),o(M,l));return M}},521:function(e,t,r){r(73),r(30);var i=r(522);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.framesPerSecond,r=e.duration,n=e.loop,o=i(),a=i(),s=i();s.addListener((function(){n.elapsedFrames++,n.elapsedFramesTotal++,n.elapsedFrames%n.framesPerLoop==0?(n.elapsedFrames=0,n.elapsedLoops++,n.progress=n.elapsedFrames/n.framesPerLoop,n.theta=n.progress*Math.PI*2,o.invoke()):(n.progress=n.elapsedFrames/n.framesPerLoop,n.theta=n.progress*Math.PI*2)}));var h=Math.floor(r*t),l=1/t*1e3;Object.assign(n,{start:function(e){var t=Date.now();!function r(){var i=n.elapsedFramesTotal*n.frameDeltaTime;var o=Date.now()-t;o>=i&&(s.invoke(),e(),a.invoke());requestAnimationFrame(r)}()},onLoop:o,onPreRender:s,onPostRender:a,preRender:function(e){return s.invoke()},postRender:function(e){return a.invoke()},animationFrame:function(e){return onAnimationFrame.invoke()},get framesPerLoop(){return h},get framesPerSecond(){return t},get frameDeltaTime(){return l},elapsedFrames:-1,elapsedFramesTotal:-1,elapsedLoops:-1,progress:void 0,theta:void 0})}},522:function(e,t,r){r(22),r(19),r(178),e.exports=function(){var e=[];return{_listeners:e,addListener:function(t){void 0===e.find((function(e){return t===e}))?e.push(t):console.log("listener already in event: ".concat(t))},removeListener:function(t){void 0!==e.find((function(e){return t===e}))?e.splice(e.indexOf(t),1):console.log("listener not found: ".concat(t))},invoke:function(t){return e.forEach((function(e){return e(t)}))}}}},523:function(e,t,r){"use strict";r(30);var i=r(524);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({frequency:void 0,seed:Math.random()*n,radius:1},t);var r=new i(0);void 0!==t.frequency&&(t.radius=t.frequency);Object.assign(e,{noiseFrequency:function(e){return t.radius=e},noise:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.theta,a=void 0===n?e.theta:n,s=i.radius,h=void 0===s?t.radius:s,l=i.seed,c=void 0===l?t.seed:l,d=o(a,h);return r.noise2D(c+d.x,c+d.y)},noise1D:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.theta,s=void 0===a?e.theta:a,h=n.radius,l=void 0===h?t.radius:h,c=n.seed,d=void 0===c?t.seed:c,p=o(s,l);return r.noise3D(d+p.x,d+p.y,d+i)},noise2D:function(i,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a.theta,h=void 0===s?e.theta:s,l=a.radius,c=void 0===l?t.radius:l,d=a.seed,p=void 0===d?t.seed:d,u=o(h,c);return r.noise4D(p+u.x,p+u.y,p+i,p+n)},noiseSeed:function(e){return t.seed=e},noiseRadius:function(e){return t.radius=e}})};var n=999999;function o(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}}},524:function(e,t,r){var i;r(48),r(59),r(7),r(180),r(177),function(){"use strict";var n=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,a=1/6,s=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function l(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,r=0,i=1,n=(o=4022871197,function(e){e=e.toString();for(var t=0;t<e.length;t++){var r=.02519603282416938*(o+=e.charCodeAt(t));r-=o=r>>>0,o=(r*=o)>>>0,o+=4294967296*(r-=o)}return 2.3283064365386963e-10*(o>>>0)});var o;e=n(" "),t=n(" "),r=n(" ");for(var a=0;a<arguments.length;a++)(e-=n(arguments[a]))<0&&(e+=1),(t-=n(arguments[a]))<0&&(t+=1),(r-=n(arguments[a]))<0&&(r+=1);return n=null,function(){var n=2091639*e+2.3283064365386963e-10*i;return e=t,t=r,r=n-(i=0|n)}}(e):Math.random,this.p=c(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function c(e){var t,r=new Uint8Array(256);for(t=0;t<256;t++)r[t]=t;for(t=0;t<255;t++){var i=t+~~(e()*(256-t)),n=r[t];r[t]=r[i],r[i]=n}return r}l.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var r,i,a=this.permMod12,s=this.perm,h=this.grad3,l=0,c=0,d=0,p=(e+t)*n,u=Math.floor(e+p),f=Math.floor(t+p),v=(u+f)*o,g=e-(u-v),m=t-(f-v);g>m?(r=1,i=0):(r=0,i=1);var y=g-r+o,b=m-i+o,w=g-1+2*o,x=m-1+2*o,_=255&u,E=255&f,k=.5-g*g-m*m;if(k>=0){var F=3*a[_+s[E]];l=(k*=k)*k*(h[F]*g+h[F+1]*m)}var P=.5-y*y-b*b;if(P>=0){var L=3*a[_+r+s[E+i]];c=(P*=P)*P*(h[L]*y+h[L+1]*b)}var j=.5-w*w-x*x;if(j>=0){var C=3*a[_+1+s[E+1]];d=(j*=j)*j*(h[C]*w+h[C+1]*x)}return 70*(l+c+d)},noise3D:function(e,t,r){var i,n,o,s,h,l,c,d,p,u,f=this.permMod12,v=this.perm,g=this.grad3,m=(e+t+r)*(1/3),y=Math.floor(e+m),b=Math.floor(t+m),w=Math.floor(r+m),x=(y+b+w)*a,_=e-(y-x),E=t-(b-x),k=r-(w-x);_>=E?E>=k?(h=1,l=0,c=0,d=1,p=1,u=0):_>=k?(h=1,l=0,c=0,d=1,p=0,u=1):(h=0,l=0,c=1,d=1,p=0,u=1):E<k?(h=0,l=0,c=1,d=0,p=1,u=1):_<k?(h=0,l=1,c=0,d=0,p=1,u=1):(h=0,l=1,c=0,d=1,p=1,u=0);var F=_-h+a,P=E-l+a,L=k-c+a,j=_-d+2*a,C=E-p+2*a,T=k-u+2*a,I=_-1+.5,M=E-1+.5,D=k-1+.5,S=255&y,B=255&b,q=255&w,G=.6-_*_-E*E-k*k;if(G<0)i=0;else{var O=3*f[S+v[B+v[q]]];i=(G*=G)*G*(g[O]*_+g[O+1]*E+g[O+2]*k)}var A=.6-F*F-P*P-L*L;if(A<0)n=0;else{var z=3*f[S+h+v[B+l+v[q+c]]];n=(A*=A)*A*(g[z]*F+g[z+1]*P+g[z+2]*L)}var R=.6-j*j-C*C-T*T;if(R<0)o=0;else{var N=3*f[S+d+v[B+p+v[q+u]]];o=(R*=R)*R*(g[N]*j+g[N+1]*C+g[N+2]*T)}var W=.6-I*I-M*M-D*D;if(W<0)s=0;else{var U=3*f[S+1+v[B+1+v[q+1]]];s=(W*=W)*W*(g[U]*I+g[U+1]*M+g[U+2]*D)}return 32*(i+n+o+s)},noise4D:function(e,t,r,i){var n,o,a,l,c,d,p,u,f,v,g,m,y,b,w,x,_,E=this.perm,k=this.grad4,F=(e+t+r+i)*s,P=Math.floor(e+F),L=Math.floor(t+F),j=Math.floor(r+F),C=Math.floor(i+F),T=(P+L+j+C)*h,I=e-(P-T),M=t-(L-T),D=r-(j-T),S=i-(C-T),B=0,q=0,G=0,O=0;I>M?B++:q++,I>D?B++:G++,I>S?B++:O++,M>D?q++:G++,M>S?q++:O++,D>S?G++:O++;var A=I-(d=B>=3?1:0)+h,z=M-(p=q>=3?1:0)+h,R=D-(u=G>=3?1:0)+h,N=S-(f=O>=3?1:0)+h,W=I-(v=B>=2?1:0)+2*h,U=M-(g=q>=2?1:0)+2*h,Q=D-(m=G>=2?1:0)+2*h,Z=S-(y=O>=2?1:0)+2*h,H=I-(b=B>=1?1:0)+3*h,X=M-(w=q>=1?1:0)+3*h,V=D-(x=G>=1?1:0)+3*h,J=S-(_=O>=1?1:0)+3*h,$=I-1+4*h,K=M-1+4*h,Y=D-1+4*h,ee=S-1+4*h,te=255&P,re=255&L,ie=255&j,ne=255&C,oe=.6-I*I-M*M-D*D-S*S;if(oe<0)n=0;else{var ae=E[te+E[re+E[ie+E[ne]]]]%32*4;n=(oe*=oe)*oe*(k[ae]*I+k[ae+1]*M+k[ae+2]*D+k[ae+3]*S)}var se=.6-A*A-z*z-R*R-N*N;if(se<0)o=0;else{var he=E[te+d+E[re+p+E[ie+u+E[ne+f]]]]%32*4;o=(se*=se)*se*(k[he]*A+k[he+1]*z+k[he+2]*R+k[he+3]*N)}var le=.6-W*W-U*U-Q*Q-Z*Z;if(le<0)a=0;else{var ce=E[te+v+E[re+g+E[ie+m+E[ne+y]]]]%32*4;a=(le*=le)*le*(k[ce]*W+k[ce+1]*U+k[ce+2]*Q+k[ce+3]*Z)}var de=.6-H*H-X*X-V*V-J*J;if(de<0)l=0;else{var pe=E[te+b+E[re+w+E[ie+x+E[ne+_]]]]%32*4;l=(de*=de)*de*(k[pe]*H+k[pe+1]*X+k[pe+2]*V+k[pe+3]*J)}var ue=.6-$*$-K*K-Y*Y-ee*ee;if(ue<0)c=0;else{var fe=E[te+1+E[re+1+E[ie+1+E[ne+1]]]]%32*4;c=(ue*=ue)*ue*(k[fe]*$+k[fe+1]*K+k[fe+2]*Y+k[fe+3]*ee)}return 27*(n+o+a+l+c)}},l._buildPermutationTable=c,void 0===(i=function(){return l}.call(t,r,t,e))||(e.exports=i),t.SimplexNoise=l,e.exports=l}()},525:function(e,t,r){r(73),r(30);var i=r(526),n=r(527);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.render,o=void 0===r||r,a=t.open,s=void 0!==a&&a,h=t.download,l=void 0!==h&&h,c=t.startLoop,d=void 0===c?0:c,p=t.endLoop,u=void 0===p?1:p,f=t.fileName,v=void 0===f?"image.gif":f,g=t.canvas,m=void 0===g?document.getElementsByTagName("canvas")[0]:g,y=t.options,b=void 0===y?{}:y;if(void 0===m)return void console.error("GIF module: no canvas found");var w=new i(Object.assign({workerScript:n},b)),x=!1,_=void 0;function E(){e.elapsedLoops===d?(console.log("creating GIF with ".concat(k," frames")),e.onPostRender.addListener(F)):e.elapsedLoops===u&&(e.onPostRender.removeListener(F),e.onLoop.removeListener(E),console.log("rendering GIF"),_=Date.now(),w.render())}e.onLoop.addListener(E),w.on("finished",(function(t){if(x)return;x=!0;var r=Date.now()-_;console.log("finished rendering GIF\n                    render time: ".concat((r/1e3).toFixed(1)," seconds\n                    approx size: ").concat((t.size/1e3).toFixed(0)," kb\n                    frame count: ").concat(k,"\n                    frame delay: ").concat(e.frameDeltaTime.toFixed(1)," ms\n                    "));var i=URL.createObjectURL(t);if(o){e.onLoop.addListener((function t(){e.onLoop.removeListener(t),function(e,t){var r=document.createElement("a");r.download=t,document.body.appendChild(r);var i=document.createElement("img");i.src=e,r.href=i.src,r.appendChild(i)}(i,v)}))}s&&window.open(i);l&&function(e,t){var r=document.createElement("a");r.style.display="none",r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}(i,v)}));var k=e.framesPerLoop*(u-d);function F(){w.addFrame(m,{copy:!0,delay:e.frameDeltaTime})}}},526:function(e,t,r){var i;r(181),r(177),r(22),r(19),r(26),r(74),e.exports=function e(t,r,n){function o(s,h){if(!r[s]){if(!t[s]){if(!h&&"function"==typeof i&&i)return i(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,(function(e){var r=t[s][1][e];return o(r||e)}),c,c.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof i&&i,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,r,i,s,h,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),i=(l=r.slice()).length,h=0;h<i;h++)l[h].apply(this,s);return!0},i.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,r){var i,n,o,a,s;s=navigator.userAgent.toLowerCase(),a=navigator.platform.toLowerCase(),o="ie"===(i=s.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(n={name:"version"===i[1]?i[3]:i[1],version:o||parseFloat("opera"===i[1]&&i[4]?i[4]:i[2]),platform:{name:s.match(/ip(?:ad|od|hone)/)?"ios":(s.match(/(?:webos|android)/)||a.match(/mac|win|linux/)||["other"])[0]}})[n.name]=!0,n[n.name+parseInt(n.version,10)]=!0,n.platform[n.platform.name]=!0,t.exports=n},{}],3:[function(e,t,r){var i,n,o,a={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},h=[].slice;i=e("events").EventEmitter,o=e("./browser.coffee"),n=function(e){var t,r;function i(e){var r,i,n;for(i in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)n=t[i],null==(r=this.options)[i]&&(r[i]=n)}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},r={delay:500,copy:!1},i.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},i.prototype.setOptions=function(e){var t,r,i;for(t in r=[],e)a.call(e,t)&&(i=e[t],r.push(this.setOption(t,i)));return r},i.prototype.addFrame=function(e,t){var i,n;for(n in null==t&&(t={}),(i={}).transparent=this.options.transparent,r)i[n]=t[n]||r[n];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)i.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?i.data=this.getContextData(e):i.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?i.data=this.getImageData(e):i.image=e}return this.frames.push(i)},i.prototype.render=function(){var e,t,r;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,r;for(r=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)r.push(null);return r}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,r=t;0<=r?e<r:e>r;0<=r?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},i.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},i.prototype.spawnWorkers=function(){var e,t,r,i;return e=Math.min(this.options.workers,this.frames.length),function(){r=[];for(var i=t=this.freeWorkers.length;t<=e?i<e:i>e;t<=e?i++:i--)r.push(i);return r}.apply(this).forEach((i=this,function(e){var t;return i.log("spawning worker "+e),(t=new Worker(i.options.workerScript)).onmessage=function(e){return i.activeWorkers.splice(i.activeWorkers.indexOf(t),1),i.freeWorkers.push(t),i.frameFinished(e.data)},i.freeWorkers.push(t)})),e},i.prototype.frameFinished=function(e){var t,r;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,r=this.freeWorkers.length;1<=r?t<r:t>r;1<=r?++t:--t)this.renderNextFrame();return s.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},i.prototype.finishRendering=function(){var e,t,r,i,n,o,a,s,h,l,c,d,p,u,f,v;for(s=0,n=0,h=(u=this.imageParts).length;n<h;n++)s+=((t=u[n]).data.length-1)*t.pageSize+t.cursor;for(s+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(s/1e3)+"kb"),e=new Uint8Array(s),d=0,o=0,l=(f=this.imageParts).length;o<l;o++)for(r=a=0,c=(v=(t=f[o]).data).length;a<c;r=++a)p=v[r],e.set(p,d),r===t.data.length-1?d+=t.cursor:d+=t.pageSize;return i=new Blob([e],{type:"image/gif"}),this.emit("finished",i,e)},i.prototype.renderNextFrame=function(){var e,t,r;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],r=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(r),r.postMessage(t)},i.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},i.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},i.prototype.getTask=function(e){var t,r;if(r={index:t=this.frames.indexOf(e),last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===o.name},null!=e.data)r.data=e.data;else if(null!=e.context)r.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");r.data=this.getImageData(e.image)}return r},i.prototype.log=function(){var e;if(e=1<=arguments.length?h.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},i}(i),t.exports=n},{"./browser.coffee":2,events:1}]},{},[3])(3)},527:function(e,t){var r=window.URL.createObjectURL(new Blob(['(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module \'"+o+"\'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require("./TypedNeuQuant.js");var LZWEncoder=require("./LZWEncoder.js");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv="";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither="FloydSteinberg";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw"Unknown dithering kernel: "+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes("NETSCAPE2.0");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require("./GIFEncoder.js");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{"./GIFEncoder.js":1}]},{},[4]);'],{type:"text/javascript"}));e.exports=r},528:function(e,t,r){r(22),r(19),r(178),e.exports=function(){var e=[];return{_listeners:e,addListener:function(t){void 0===e.find((function(e){return t===e}))?e.push(t):console.log("listener already in event: ".concat(t))},removeListener:function(t){void 0!==e.find((function(e){return t===e}))?e.splice(e.indexOf(t),1):console.log("listener not found: ".concat(t))},invoke:function(t){return e.forEach((function(e){return e(t)}))}}}},529:function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)}},532:function(e,t,r){"use strict";r(60);var i=r(533),n=r(534),o=r(529),a=r(535),s=180/Math.PI,h=function(e){var t,r,i,n,o,a,s,h,l={};if(Object.defineProperty(this,"isRadian",{get:function(e){return t},set:function(e){t=!!e,r!==!e&&(r=!e)}}),Object.defineProperty(this,"isDegree",{get:function(e){return r},set:function(e){r=e,t!==!e&&(t=!e)}}),Object.defineProperty(l,"cartesian2d",{get:function(e){return[i,n]},set:function(e){i=e[0],n=e[1]}}),Object.defineProperty(l,"cartesian3d",{get:function(e){return[i,n,o]},set:function(e){i=e[0],n=e[1],o=e[2]}}),Object.defineProperty(l,"polar",{get:function(e){return[a,s]},set:function(e){a=e[0],s=e[1]}}),Object.defineProperty(l,"cylindrical",{get:function(e){return[a,s,o]},set:function(e){a=e[0],s=e[1],o=e[2]}}),Object.defineProperty(l,"spherical",{get:function(e){return[a,s,h]},set:function(e){a=e[0],s=e[1],h=e[2]}}),e.isDegree&&!e.isRadian?this.isDegree=!0:this.isRadian=!0,!e.label||!e.coords)throw new Error("no coordinate type defined");this.initialType=e.label,this.pos=l,this.pos[e.label]=e.coords};h.prototype.cartesian=function(){return this.cart.apply(this,arguments)},h.prototype.cart=function(e){var t;switch(e=e||{},this.initialType){case"cartesian2d":return this.pos.cartesian2d;case"cartesian3d":return this.pos.cartesian3d;case"polar":return this.pos.cartesian2d=h.polarToCart2d(this.pos.polar,this.isDegree),this.pos.cartesian2d;case"cylindrical":return t=h.polarToCart2d(this.pos.polar,this.isDegree),this.pos.cartesian3d=[t[0],t[1],this.pos.cylindrical[2]],this.pos.cartesian3d;case"spherical":return this.pos.cartesian3d=h.sphericalToCart3d(this.pos.spherical,this.isDegree),this.pos.cartesian3d;default:throw new Error("cannot convert to/from original/requested types")}},h.prototype.cylindrical=function(){return this.cyl.apply(this,arguments)},h.prototype.cyl=function(e){var t;switch(e=e||{},this.initialType){case"cartesian2d":return t=h.cartesian2dToPolar(this.pos.cartesian2d,this.isDegree,e.center),this.pos.cylindrical=[t[0],t[1],0],this.pos.cylindrical;case"cartesian3d":return this.pos.cylindrical=h.cartesian3dToCylindrical(this.pos.cartesian3d,this.isDegree,e.center),this.pos.cylindrical;case"polar":return[(t=this.pos.polar)[0],t[1],0];case"cylindrical":return this.pos.cylindrical;case"spherical":return this.pos.cylindrical=h.sphericalToCylindrical(this.pos.spherical,this.isDegree),this.pos.cylindrical;default:throw new Error("cannot convert to/from original/requested types")}},h.prototype.pol=function(){return this.polar.apply(this,arguments)},h.prototype.polar=function(e){switch(e=e||{},this.initialType){case"cartesian2d":return this.pos.polar=h.cartesian2dToPolar(this.pos.cartesian2d,this.isDegree,e.center),this.pos.polar;case"polar":return this.pos.polar;default:throw new Error("cannot convert to/from original/requested types")}},h.prototype.spherical=function(){return this.sph.apply(this,arguments)},h.prototype.sph=function(e){var t;switch(e=e||{},this.initialType){case"cartesian2d":return t=h.cartesian2dToPolar(this.pos.cartesian2d,this.isDegree,e.center),this.pos.spherical=[t[0],t[1],0],this.pos.spherical;case"cartesian3d":return this.pos.spherical=h.cartesian3dToSpherical(this.pos.cartesian3d,this.isDegree,e.center),this.pos.spherical;case"polar":return[(t=this.pos.polar)[0],t[1],0];case"cylindrical":return this.pos.spherical=h.cylindricalToSpherical(this.pos.cylindrical,this.isDegree),this.pos.spherical;case"spherical":return this.pos.spherical;default:throw new Error("cannot convert to/from original/requested types")}},h.cartesian=function(e){return h.cart(e)},h.cart=function(e){var t;if(i(e)&&(e={coords:e}),o(e)&&i(e.coords)){if(h.arrToNumeric(e.coords),e.coords.length<2||e.coords.length>3)throw new Error("expected exactly 2 or exactly 3 cartesian options");return t={label:"cartesian2d",options:e.coords},t=a(t,e),2===e.coords.length?new h(t):(t.label="cartesian3d",new h(t))}throw new Error("expected options w/ array of [x,y,(z?)] coords")},h.cylindrical=function(e){return h.cyl(e)},h.cyl=function(e){var t;if(i(e)&&(e={coords:e}),o(e)&&i(e.coords)){if(h.arrToNumeric(e.coords),3!==e.coords.length)throw new Error("expected exactly 3 params [r, t, z]");return t={label:"cylindrical",coords:e.coords},t=a(t,e),new h(t)}throw new Error("expected options w/ array of [r, t, z] coords")},h.polar=function(e){return h.pol(e)},h.pol=function(e){var t;if(i(e)&&(e={coords:e}),o(e)&&i(e.coords)){if(h.arrToNumeric(e.coords),2!==e.coords.length)throw new Error("expected exactly 2 params [r, t]");return t={label:"polar",coords:e.coords},t=a(t,e),new h(t)}throw new Error("expected array of [r, t] options")},h.spherical=function(e){return h.sph(e)},h.sph=function(e){var t;if(i(e)&&(e={coords:e}),o(e)&&i(e.coords)){if(h.arrToNumeric(e.coords),3!==e.coords.length)throw new Error("expected exactly 3 params [r, t, p]");return t={label:"spherical",coords:e.coords},t=a(t,e),new h(t)}throw new Error("expected options w/ array of [r, t, p] coords")},h.arrToNumeric=function(e){var t;if(!i(e))throw new TypeError("expected array of number-like values");for(var r=e.length-1;r>=0;r--)if("string"==typeof(t=e[r])&&(t=parseFloat(t)),!n(t))throw new TypeError(t+" not numeric or numeric-like")},h.polarToCart2d=function(e,t){var r,i;return r=e[0],i=e[1],t&&(i*=1/s),[r*Math.cos(i),r*Math.sin(i)]},h.cartesian2dToPolar=function(e,t,r){var n,o,a,h;if(!i(e)&&2!==e.length)throw new TypeError("expected [x, y] xy array");if(n=e[0],o=e[1],r&&!i(r)&&2!==r.length)throw new TypeError("expected [x, y] center array");return r&&(n-=r[0],o-=r[1]),a=Math.sqrt(n*n+o*o),h=Math.atan2(o,n),t&&(h*=s),[a,h]},h.cartesian3dToCylindrical=function(e,t,r){var i,n=e[0],o=e[1],a=e[2];return[(i=h.cartesian2dToPolar([n,o],t,r))[0],i[1],a]},h.cartesian3dToSpherical=function(e,t,r){if(r&&3!==r.length)throw new Error("expected center value to have [x, y, z] coordsfor locating sphere center");var i,n,o,a,h,l,c=e[0],d=e[1],p=e[2];return r&&(c-=r[0],d-=r[1],p-=r[2]),i=c*c,n=d*d,o=p*p,(a=Math.sqrt(i+n+o))?(h=Math.atan2(d,c),l=Math.atan2(Math.sqrt(i+n),p),t&&(h*=s,l*=s)):l=h=0,[a,h,l]},h.cylindricalToSpherical=function(e,t){var r,i,n=e[0],o=e[1],a=e[2];return t&&(o/=s),r=Math.sqrt(n*n+a*a),i=Math.atan2(n,a),t&&(i*=s,o*=s),[r,o,i]},h.sphericalToCart3d=function(e,t){var r=e[0],i=e[1],n=e[2];return t&&(i/=s,n/=s),[r*Math.sin(n)*Math.cos(i),r*Math.sin(n)*Math.sin(i),r*Math.cos(n)]},h.sphericalToCylindrical=function(e,t){var r,i,n=e[0],o=e[1],a=e[2];return t&&(o/=s,a/=s),r=n*Math.sin(a),i=n*Math.cos(a),t&&(o*=s,a*=s),[r,o,i]},e.exports=h},533:function(e,t,r){r(35),r(48),r(59),r(7);var i=Object.prototype.toString,n=Array.isArray;e.exports=n||function(e){return"[object Array]"===i.call(e)}},534:function(e,t,r){r(48),r(59),r(7);var i=Object.prototype.toString;e.exports=function(e){return"[object Number]"===i.call(e)}},535:function(e,t,r){var i=r(529);e.exports=function(e){if(!i(e))return e;for(var t,r,n=1,o=arguments.length;n<o;n++)for(r in t=arguments[n])e[r]=t[r];return e}}}]);
//# sourceMappingURL=component---src-pages-sketch-2019-08-12-js-6a5169b4fd9c357981b9.js.map