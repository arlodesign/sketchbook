{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@thi.ng/checks/is-number.js","webpack:///./node_modules/@thi.ng/geom-api/isec.js","webpack:///./node_modules/@thi.ng/geom-clip-line/index.js","webpack:///./node_modules/@thi.ng/math/interval.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@thi.ng/transducers/func/compr.js","webpack:///./node_modules/@thi.ng/api/constants.js","webpack:///./node_modules/@thi.ng/checks/is-iterable.js","webpack:///./node_modules/@thi.ng/checks/implements-function.js","webpack:///./node_modules/@thi.ng/transducers/internal/ensure.js","webpack:///./node_modules/@thi.ng/transducers/reduced.js","webpack:///./node_modules/@thi.ng/checks/is-arraylike.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/@thi.ng/errors/deferror.js","webpack:///./node_modules/@thi.ng/errors/illegal-arity.js","webpack:///./node_modules/@thi.ng/transducers/reduce.js","webpack:///./node_modules/@thi.ng/transducers/rfn/push.js","webpack:///./node_modules/@thi.ng/transducers/iterator.js","webpack:///./node_modules/@thi.ng/transducers/xform/map.js","webpack:///./node_modules/@thi.ng/transducers/iter/range.js","webpack:///./node_modules/@thi.ng/transducers/transduce.js","webpack:///./node_modules/@thi.ng/compose/comp.js","webpack:///./node_modules/@thi.ng/transducers/func/comp.js","webpack:///./node_modules/@thi.ng/transducers/xform/take.js","webpack:///./node_modules/@thi.ng/transducers/xform/map-indexed.js","webpack:///./node_modules/@thi.ng/transducers/rfn/str.js","webpack:///./node_modules/@thi.ng/transducers/iter/zip.js","webpack:///./node_modules/@thi.ng/vectors/internal/templates.js","webpack:///./node_modules/@thi.ng/errors/unsupported.js","webpack:///./node_modules/@thi.ng/vectors/internal/vop.js","webpack:///./node_modules/@thi.ng/vectors/internal/codegen.js","webpack:///./node_modules/@thi.ng/vectors/sub.js","webpack:///./node_modules/@thi.ng/vectors/magsq.js","webpack:///./node_modules/@thi.ng/vectors/dot.js","webpack:///./node_modules/@thi.ng/vectors/mixn.js","webpack:///./node_modules/@thi.ng/vectors/distsq.js","webpack:///./node_modules/@thi.ng/math/api.js","webpack:///./node_modules/@thi.ng/vectors/setn.js","webpack:///./node_modules/@thi.ng/vectors/empty.js","webpack:///./node_modules/@thi.ng/vectors/set.js","webpack:///./node_modules/@thi.ng/vectors/mag.js","webpack:///./node_modules/@thi.ng/vectors/muln.js","webpack:///./node_modules/@thi.ng/vectors/add.js","webpack:///./node_modules/@thi.ng/geom-closest-point/index.js","webpack:///./node_modules/@thi.ng/math/eqdelta.js","webpack:///./node_modules/@thi.ng/geom-isec/line-line.js","webpack:///./node_modules/@thi.ng/errors/illegal-arguments.js","webpack:///./node_modules/@thi.ng/vectors/divn.js","webpack:///./node_modules/@thi.ng/geom-poly-utils/centroid.js","webpack:///./node_modules/@thi.ng/math/abs.js","webpack:///./node_modules/@thi.ng/vectors/signed-area.js","webpack:///./node_modules/@thi.ng/vectors/clockwise.js","webpack:///./node_modules/@thi.ng/geom-clip-poly/index.js","webpack:///./node_modules/@thi.ng/geom-isec/point.js","webpack:///./node_modules/@thi.ng/geom-poly-utils/circumcenter.js","webpack:///./node_modules/@thi.ng/quad-edge/index.js","webpack:///./node_modules/@thi.ng/vectors/eqdelta.js","webpack:///./node_modules/@thi.ng/vectors/api.js","webpack:///./node_modules/@thi.ng/geom-voronoi/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","TypeError","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","IntersectionType","isNumber","x","liangBarsky2","a","b","min","max","ca","arguments","cb","res","liangBarsky2Raw","ax","ay","bx","by","minx","miny","maxx","maxy","dx","dy","alpha","beta","clip","p","q","r","_r","clamp01","_toConsumableArray","iter","compR","rfn","fn","SEMAPHORE","NO_OP","isIterable","implementsFunction","xform","Reduced","val","this","isReduced","unreduced","deref","isArrayLike","_setPrototypeOf","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","_typeof","obj","_possibleConstructorReturn","self","ReferenceError","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","Parent","args","Class","apply","Function","bind","_cache","Map","indexOf","has","get","set","Wrapper","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","prefix","suffix","msg","_Error","_class","_super","Error","IllegalArityError","illegalArity","_createForOfIteratorHelper","F","s","f","it","normalCompletion","didErr","step","_e2","_len","_key","init","complete","reduce","acc","xs","$reduce","_step","_iterator","reducer","_marked","mark","_marked2","iterator1","y","wrap","_context","prev","delegateYield","abrupt","t2","finish","stop","_iterator2","_step2","_context2","_","t0","impl","map","src","range","to","Range","Infinity","transduce","comp","fns","c","d","g","h","j","concat","take","m","ensureReduced","reduced","mapIndexed","str","sep","first","join","zip","iters","tuple","v","_args","_ref29","_ref30","UnsupportedOperationError","unsupported","fallback","dispatch","impls","add","dim","sym","lookup","tpl","syms","ret","opJoin","pre","post","strided","split","assembleG","defaultOut","compile","hofArgs","compileG","$","op","_ref","_ref2","_ref3","_ref4","_defMathOp2","sub","magSq","dot","_ref31","_ref32","_defOp","_ref39","_ref40","_defOp2","mixN","mixN2","distSq","Crossing","_ref35","empty","fill","_ref33","_ref34","EPS","Math","PI","sqrt","SQRT2","_defMathOpN2","l","out","insideOnly","eps","t","abs","bax","bay","dcx","dcy","acx","acy","det","isec","type","COINCIDENT","COINCIDENT_NO_INTERSECT","PARALLEL","ieps","INTERSECT","INTERSECT_OUTSIDE","IllegalArgumentError","divN","pts","num","illegalArgs","signedArea2","bounds","bc","ne","clipped","sign","np","k","cqsign","pointInPolygon2","px","py","inside","classifyPointPolyPair","pointInBox","pos","size","z","boxMin","boxSize","pointInCenteredBox","_ref5","_ref6","_ref7","_ref8","boxCenter","boxExtent","cx","cy","cbx","cby","deltaAB","deltaBC","m1","m2","mx1","mx2","my1","my2","xc","yc","abx2","aby2","bcx2","bcy2","NEXT_ID","Edge","parent","id","origin","splice","lnext","setEnds","dest","oprev","onext","rot","t1","t3","t4","invrot","quad","v1","v2","eqDelta","eqDelta2","ia","ib","sa","sb","mi","mx","ZERO2","freeze","DVMesh","eab","ebc","eca","boundsTri","nextID","addKeys","addAll","_this$locate","locate","_this$locate2","exists","remove","base","connect","swap","lprev","computeDual","pairs","dprev","work","visitedEdges","visitedVerts","pop","isBounds","isBoundary","cells","usedEdges","traverse","va","vb","vc","verts","needsClip","_this","voronoi","boundsMinMax","edges","proc","runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","arg","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","__await","then","unwrapped","error","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","awrap","async","Promise","keys","object","reverse","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","module","regeneratorRuntime","accidentalStrictMode"],"mappings":"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","file":"e1b02d330e34f7c095c7301994be1e1a02330326-4658af7547d8cbd3713e.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export var isNumber = function isNumber(x) {\n  return typeof x === \"number\";\n};","export var IntersectionType;\n\n(function (IntersectionType) {\n  IntersectionType[IntersectionType[\"NONE\"] = 0] = \"NONE\";\n  IntersectionType[IntersectionType[\"PARALLEL\"] = 1] = \"PARALLEL\";\n  IntersectionType[IntersectionType[\"COINCIDENT\"] = 2] = \"COINCIDENT\";\n  IntersectionType[IntersectionType[\"COINCIDENT_NO_INTERSECT\"] = 3] = \"COINCIDENT_NO_INTERSECT\";\n  IntersectionType[IntersectionType[\"INTERSECT\"] = 4] = \"INTERSECT\";\n  IntersectionType[IntersectionType[\"INTERSECT_OUTSIDE\"] = 5] = \"INTERSECT_OUTSIDE\";\n})(IntersectionType || (IntersectionType = {}));","/**\n * Performs Liang-Barsky clipping of the line segment with endpoints\n * `a`, `b` against the clipping rect defined by `min` and `max`. The\n * optional `ca` and `cb` vectors can be given to store the result\n * (clipped points). If omitted creates new vectors. Returns a tuple of\n * `[ca, cb, a, b]`, where the latter two values represent the\n * normalized distances of the clipped points relative to original given\n * line segment. Returns `undefined` iff the line lies completely\n * outside the rect.\n *\n * - {@link https://en.wikipedia.org/wiki/Liang%E2%80%93Barsky_algorithm}\n * - {@link https://github.com/thi-ng/c-thing/blob/master/src/geom/clip/liangbarsky.c}\n *\n * @param a - line endpoint\n * @param b - line endpoint\n * @param min - bbox min\n * @param max - bbox max\n * @param ca - result A\n * @param cb - result B\n */\nexport var liangBarsky2 = function liangBarsky2(a, b, min, max) {\n  var ca = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var cb = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n  var res = liangBarsky2Raw(a[0], a[1], b[0], b[1], min[0], min[1], max[0], max[1]);\n  if (!res) return;\n  ca[0] = res[0];\n  ca[1] = res[1];\n  cb[0] = res[2];\n  cb[1] = res[3];\n  return [ca, cb, res[4], res[5]];\n};\n/**\n * Same as {@link liangBarsky2} but for non-vector arguments.\n *\n * @param ax\n * @param ay\n * @param bx\n * @param by\n * @param minx\n * @param miny\n * @param maxx\n * @param maxy\n */\n\nexport var liangBarsky2Raw = function liangBarsky2Raw(ax, ay, bx, by, minx, miny, maxx, maxy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var alpha = 0;\n  var beta = 1;\n\n  var clip = function clip(p, q) {\n    if (p < 0) {\n      var r = q / p;\n\n      if (r > beta) {\n        return false;\n      }\n\n      if (r > alpha) {\n        alpha = r;\n      }\n    } else if (p > 0) {\n      var _r = q / p;\n\n      if (_r < alpha) {\n        return false;\n      }\n\n      if (_r < beta) {\n        beta = _r;\n      }\n    } else if (q < 0) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return clip(-dx, ax - minx) && clip(dx, maxx - ax) && clip(-dy, ay - miny) && clip(dy, maxy - ay) ? [alpha * dx + ax, alpha * dy + ay, beta * dx + ax, beta * dy + ay, alpha, beta] : undefined;\n};","/**\n * Clamps value `x` to given closed interval.\n *\n * @param x - value to clamp\n * @param min - lower bound\n * @param max - upper bound\n */\nexport var clamp = function clamp(x, min, max) {\n  return x < min ? min : x > max ? max : x;\n};\n/**\n * Clamps value `x` to closed [0 .. 1] interval.\n *\n * @param x\n */\n\nexport var clamp01 = function clamp01(x) {\n  return x < 0 ? 0 : x > 1 ? 1 : x;\n};\n/**\n * Clamps value `x` to closed [-1 .. 1] interval.\n *\n * @param x\n */\n\nexport var clamp11 = function clamp11(x) {\n  return x < -1 ? -1 : x > 1 ? 1 : x;\n};\n/**\n * Clamps value `x` to closed [0 .. 0.5] interval.\n *\n * @param x\n */\n\nexport var clamp05 = function clamp05(x) {\n  return x < 0 ? 0 : x > 0.5 ? 0.5 : x;\n};\n/**\n * Folds `x` back inside closed [min..max] interval. Also see\n * {@link wrapOnce}.\n *\n * @param x -\n * @param min -\n * @param max -\n */\n\nexport var wrap = function wrap(x, min, max) {\n  if (min === max) return min;\n\n  if (x > max) {\n    var d = max - min;\n    x -= d;\n    if (x > max) x -= d * ((x - min) / d | 0);\n  } else if (x < min) {\n    var _d = max - min;\n\n    x += _d;\n    if (x < min) x += _d * ((min - x) / _d + 1 | 0);\n  }\n\n  return x;\n};\n/**\n * Like {@link wrap}, but optimized for cases where `x` is guaranteed to\n * be in `[min - d, max + d]` interval, where `d = max - min`. Result\n * will be in closed `[min..max]` interval.\n *\n * @param x -\n * @param min -\n * @param max -\n */\n\nexport var wrapOnce = function wrapOnce(x, min, max) {\n  return x < min ? x - min + max : x > max ? x - max + min : x;\n};\n/**\n * Similar to {@link wrapOnce} for [0..1] interval.\n *\n * @param x -\n */\n\nexport var wrap01 = function wrap01(x) {\n  return x < 0 ? x + 1 : x > 1 ? x - 1 : x;\n};\n/**\n * Similar to {@link wrapOnce} for [-1..1] interval.\n *\n * @param x -\n */\n\nexport var wrap11 = function wrap11(x) {\n  return x < -1 ? x + 2 : x > 1 ? x - 2 : x;\n};\nexport var min2id = function min2id(a, b) {\n  return a <= b ? 0 : 1;\n};\nexport var min3id = function min3id(a, b, c) {\n  return a <= b ? a <= c ? 0 : 2 : b <= c ? 1 : 2;\n};\nexport var min4id = function min4id(a, b, c, d) {\n  return a <= b ? a <= c ? a <= d ? 0 : 3 : c <= d ? 2 : 3 : b <= c ? b <= d ? 1 : 3 : c <= d ? 2 : 3;\n};\nexport var max2id = function max2id(a, b) {\n  return a >= b ? 0 : 1;\n};\nexport var max3id = function max3id(a, b, c) {\n  return a >= b ? a >= c ? 0 : 2 : b >= c ? 1 : 2;\n};\nexport var max4id = function max4id(a, b, c, d) {\n  return a >= b ? a >= c ? a >= d ? 0 : 3 : c >= d ? 2 : 3 : b >= c ? b >= d ? 1 : 3 : c >= d ? 2 : 3;\n};\n/**\n * Returns the non-zero minimum value of the given `a`, `b` args.\n *\n * @param a\n * @param b\n */\n\nexport var minNonZero2 = function minNonZero2(a, b) {\n  return a !== 0 ? b !== 0 ? Math.min(a, b) : a : b;\n};\n/**\n * Returns the non-zero minimum value of the given `a`, `b`, `c` args.\n *\n * @param a\n * @param b\n * @param c\n */\n\nexport var minNonZero3 = function minNonZero3(a, b, c) {\n  return minNonZero2(minNonZero2(a, b), c);\n};\n/**\n * See `smax()`.\n *\n * @param a -\n * @param b -\n * @param k - smooth exponent (MUST be > 0)\n */\n\nexport var smin = function smin(a, b, k) {\n  return smax(a, b, -k);\n};\n/**\n * Smooth maximum. Note: Result values will be slightly larger than max\n * value near max(a,b) + eps due to exponential decay. Higher `k` values\n * reduce the error, but also reduce the smoothing. Recommended k=16.\n *\n * {@link https://en.wikipedia.org/wiki/Smooth_maximum}\n *\n * @param a -\n * @param b -\n * @param k - smooth exponent (MUST be > 0)\n */\n\nexport var smax = function smax(a, b, k) {\n  var ea = Math.exp(a * k);\n  var eb = Math.exp(b * k);\n  return (a * ea + b * eb) / (ea + eb);\n};\n/**\n * Same as `smin(smax(x, min, k), max, k)`.\n *\n * @param x -\n * @param min -\n * @param max -\n * @param k -\n */\n\nexport var sclamp = function sclamp(x, min, max, k) {\n  return smin(smax(x, min, k), max, k);\n};\nexport var absMin = function absMin(a, b) {\n  return Math.abs(a) < Math.abs(b) ? a : b;\n};\nexport var absMax = function absMax(a, b) {\n  return Math.abs(a) > Math.abs(b) ? a : b;\n};\n/**\n * If `abs(x) > abs(e)`, recursively mirrors `x` back into `[-e .. +e]`\n * interval at respective positive/negative boundary.\n *\n * @remarks\n * References:\n * - https://www.desmos.com/calculator/lkyf2ag3ta\n * - https://www.musicdsp.org/en/latest/Effects/203-fold-back-distortion.html\n *\n * @param e - threshold (> 0)\n * @param x - input value\n */\n\nexport var foldback = function foldback(e, x) {\n  return x < -e || x > e ? Math.abs(Math.abs((x - e) % (4 * e)) - 2 * e) - e : x;\n};\n/**\n * Returns true iff `x` is in closed interval `[min .. max]`\n *\n * @param x -\n * @param min -\n * @param max -\n */\n\nexport var inRange = function inRange(x, min, max) {\n  return x >= min && x <= max;\n};\n/**\n * Returns true iff `x` is in open interval `(min .. max)`\n *\n * @param x -\n * @param min -\n * @param max -\n */\n\nexport var inOpenRange = function inOpenRange(x, min, max) {\n  return x > min && x < max;\n};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * Reducer composition helper, internally used by various transducers\n * during initialization. Takes existing reducer `rfn` (a 3-tuple) and a\n * reducing function `fn`. Returns a new reducer tuple.\n *\n * @remarks\n * `rfn[2]` reduces values of type `B` into an accumulator of type `A`.\n * `fn` accepts values of type `C` and produces interim results of type\n * `B`, which are then (possibly) passed to the \"inner\" `rfn[2]`\n * function. Therefore the resulting reducer takes inputs of `C` and an\n * accumulator of type `A`.\n *\n * It is assumed that `fn` internally calls `rfn[2]` to pass its own\n * results for further processing by the nested reducer `rfn`.\n *\n * @example\n * ```ts\n * compR(rfn, fn)\n * // [rfn[0], rfn[1], fn]\n * ```\n *\n * @param rfn -\n * @param fn -\n */\nexport var compR = function compR(rfn, fn) {\n  return [rfn[0], rfn[1], fn];\n};","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nexport var DEFAULT_EPS = 1e-6;\n/**\n * Internal use only. **Do NOT use in user land code!**\n *\n * @internal\n */\n\nexport var SEMAPHORE = Symbol();\n/**\n * No-effect placeholder function.\n */\n\nexport var NO_OP = function NO_OP() {};\n/**\n * Catch-all event ID\n */\n\nexport var EVENT_ALL = \"*\";\nexport var EVENT_ENABLE = \"enable\";\nexport var EVENT_DISABLE = \"disable\";","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nexport var isIterable = function isIterable(x) {\n  return x != null && typeof x[Symbol.iterator] === \"function\";\n};","export var implementsFunction = function implementsFunction(x, fn) {\n  return x != null && typeof x[fn] === \"function\";\n};","import { implementsFunction } from \"@thi.ng/checks\";\nexport var ensureTransducer = function ensureTransducer(x) {\n  return implementsFunction(x, \"xform\") ? x.xform() : x;\n};","import _classCallCheck from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var Reduced = /*#__PURE__*/function () {\n  function Reduced(val) {\n    _classCallCheck(this, Reduced);\n\n    this.value = val;\n  }\n\n  _createClass(Reduced, [{\n    key: \"deref\",\n    value: function deref() {\n      return this.value;\n    }\n  }]);\n\n  return Reduced;\n}();\nexport var reduced = function reduced(x) {\n  return new Reduced(x);\n};\nexport var isReduced = function isReduced(x) {\n  return x instanceof Reduced;\n};\nexport var ensureReduced = function ensureReduced(x) {\n  return x instanceof Reduced ? x : new Reduced(x);\n};\nexport var unreduced = function unreduced(x) {\n  return x instanceof Reduced ? x.deref() : x;\n};","export var isArrayLike = function isArrayLike(x) {\n  return x != null && typeof x !== \"function\" && x.length !== undefined;\n};","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _wrapNativeSuper from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nexport var defError = function defError(prefix) {\n  var suffix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (msg) {\n    return msg !== undefined ? \": \" + msg : \"\";\n  };\n  return /*#__PURE__*/function (_Error) {\n    _inherits(_class, _Error);\n\n    var _super = _createSuper(_class);\n\n    function _class(msg) {\n      _classCallCheck(this, _class);\n\n      return _super.call(this, prefix(msg) + suffix(msg));\n    }\n\n    return _class;\n  }( /*#__PURE__*/_wrapNativeSuper(Error));\n};","import { defError } from \"./deferror\";\nexport var IllegalArityError = defError(function () {\n  return \"illegal arity\";\n});\nexport var illegalArity = function illegalArity(n) {\n  throw new IllegalArityError(n);\n};","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { implementsFunction, isArrayLike, isIterable } from \"@thi.ng/checks\";\nimport { illegalArity } from \"@thi.ng/errors\";\nimport { isReduced, unreduced } from \"./reduced\";\n\nvar parseArgs = function parseArgs(args) {\n  return args.length === 2 ? [undefined, args[1]] : args.length === 3 ? [args[1], args[2]] : illegalArity(args.length);\n};\n\nexport function reduce() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var rfn = args[0];\n  var init = rfn[0];\n  var complete = rfn[1];\n  var reduce = rfn[2];\n  args = parseArgs(args);\n  var acc = args[0] == null ? init() : args[0];\n  var xs = args[1];\n  return unreduced(complete(implementsFunction(xs, \"$reduce\") ? xs.$reduce(reduce, acc) : isArrayLike(xs) ? reduceArray(reduce, acc, xs) : reduceIterable(reduce, acc, xs)));\n}\n\nvar reduceArray = function reduceArray(rfn, acc, xs) {\n  for (var i = 0, n = xs.length; i < n; i++) {\n    acc = rfn(acc, xs[i]);\n\n    if (isReduced(acc)) {\n      acc = acc.deref();\n      break;\n    }\n  }\n\n  return acc;\n};\n\nvar reduceIterable = function reduceIterable(rfn, acc, xs) {\n  var _iterator = _createForOfIteratorHelper(xs),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var x = _step.value;\n      acc = rfn(acc, x);\n\n      if (isReduced(acc)) {\n        acc = acc.deref();\n        break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return acc;\n};\n/**\n * Convenience helper for building a full {@link Reducer} using the identity\n * function (i.e. `(x) => x`) as completion step (true for 90% of all\n * bundled transducers).\n *\n * @param init - init step of reducer\n * @param rfn - reduction step of reducer\n */\n\n\nexport var reducer = function reducer(init, rfn) {\n  return [init, function (acc) {\n    return acc;\n  }, rfn];\n};\nexport var $$reduce = function $$reduce(rfn, args) {\n  var n = args.length - 1;\n  return isIterable(args[n]) ? args.length > 1 ? reduce(rfn.apply(null, args.slice(0, n)), args[n]) : reduce(rfn(), args[0]) : undefined;\n};","import _toConsumableArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { reducer } from \"../reduce\";\nexport function push(xs) {\n  return xs ? _toConsumableArray(xs) : reducer(function () {\n    return [];\n  }, function (acc, x) {\n    return acc.push(x), acc;\n  });\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _regeneratorRuntime from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(iterator),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(iterator1);\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { NO_OP, SEMAPHORE } from \"@thi.ng/api\";\nimport { isIterable } from \"@thi.ng/checks\";\nimport { ensureTransducer } from \"./internal/ensure\";\nimport { isReduced, unreduced } from \"./reduced\";\nimport { push } from \"./rfn/push\";\n/**\n * Takes a transducer and input iterable. Returns iterator of\n * transformed results.\n *\n * @param xform -\n * @param xs -\n */\n\nexport function iterator(xform, xs) {\n  var rfn, complete, reduce, _iterator, _step, x, y;\n\n  return _regeneratorRuntime.wrap(function iterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          rfn = ensureTransducer(xform)(push());\n          complete = rfn[1];\n          reduce = rfn[2];\n          _iterator = _createForOfIteratorHelper(xs);\n          _context.prev = 4;\n\n          _iterator.s();\n\n        case 6:\n          if ((_step = _iterator.n()).done) {\n            _context.next = 16;\n            break;\n          }\n\n          x = _step.value;\n          y = reduce([], x);\n\n          if (!isReduced(y)) {\n            _context.next = 12;\n            break;\n          }\n\n          return _context.delegateYield(unreduced(complete(y.deref())), \"t0\", 11);\n\n        case 11:\n          return _context.abrupt(\"return\");\n\n        case 12:\n          if (!y.length) {\n            _context.next = 14;\n            break;\n          }\n\n          return _context.delegateYield(y, \"t1\", 14);\n\n        case 14:\n          _context.next = 6;\n          break;\n\n        case 16:\n          _context.next = 21;\n          break;\n\n        case 18:\n          _context.prev = 18;\n          _context.t2 = _context[\"catch\"](4);\n\n          _iterator.e(_context.t2);\n\n        case 21:\n          _context.prev = 21;\n\n          _iterator.f();\n\n          return _context.finish(21);\n\n        case 24:\n          return _context.delegateYield(unreduced(complete([])), \"t3\", 25);\n\n        case 25:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[4, 18, 21, 24]]);\n}\n/**\n * Optimized version of {@link iterator} for transducers which are\n * guaranteed to:\n *\n * 1) Only produce none or a single result per input\n * 2) Do not require a `completion` reduction step\n *\n * @param xform -\n * @param xs -\n */\n\nexport function iterator1(xform, xs) {\n  var reduce, _iterator2, _step2, x, y;\n\n  return _regeneratorRuntime.wrap(function iterator1$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          reduce = ensureTransducer(xform)([NO_OP, NO_OP, function (_, x) {\n            return x;\n          }])[2];\n          _iterator2 = _createForOfIteratorHelper(xs);\n          _context2.prev = 2;\n\n          _iterator2.s();\n\n        case 4:\n          if ((_step2 = _iterator2.n()).done) {\n            _context2.next = 18;\n            break;\n          }\n\n          x = _step2.value;\n          y = reduce(SEMAPHORE, x);\n\n          if (!isReduced(y)) {\n            _context2.next = 13;\n            break;\n          }\n\n          y = unreduced(y.deref());\n\n          if (!(y !== SEMAPHORE)) {\n            _context2.next = 12;\n            break;\n          }\n\n          _context2.next = 12;\n          return y;\n\n        case 12:\n          return _context2.abrupt(\"return\");\n\n        case 13:\n          if (!(y !== SEMAPHORE)) {\n            _context2.next = 16;\n            break;\n          }\n\n          _context2.next = 16;\n          return y;\n\n        case 16:\n          _context2.next = 4;\n          break;\n\n        case 18:\n          _context2.next = 23;\n          break;\n\n        case 20:\n          _context2.prev = 20;\n          _context2.t0 = _context2[\"catch\"](2);\n\n          _iterator2.e(_context2.t0);\n\n        case 23:\n          _context2.prev = 23;\n\n          _iterator2.f();\n\n          return _context2.finish(23);\n\n        case 26:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[2, 20, 23, 26]]);\n}\n/**\n * Helper function used by various transducers to wrap themselves as\n * transforming iterators. Delegates to {@link iterator1} by default.\n *\n * @param xform -\n * @param args -\n * @param impl -\n *\n * @internal\n */\n\nexport var $iter = function $iter(xform, args) {\n  var impl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : iterator1;\n  var n = args.length - 1;\n  return isIterable(args[n]) ? args.length > 1 ? impl(xform.apply(null, args.slice(0, n)), args[n]) : impl(xform(), args[0]) : undefined;\n};","import { compR } from \"../func/compr\";\nimport { iterator1 } from \"../iterator\";\nexport function map(fn, src) {\n  return src ? iterator1(map(fn), src) : function (rfn) {\n    var r = rfn[2];\n    return compR(rfn, function (acc, x) {\n      return r(acc, fn(x));\n    });\n  };\n}","import _regeneratorRuntime from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _classCallCheck from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { isReduced } from \"../reduced\";\nexport function range(from, to, step) {\n  return new Range(from, to, step);\n}\n/**\n * Simple class wrapper around given range interval and implementing\n * `Iterable` and {@link IReducible} interfaces, the latter is used to\n * accelerate use with {@link (reduce:1)}.\n */\n\nexport var Range = /*#__PURE__*/function () {\n  function Range(from, to, step) {\n    _classCallCheck(this, Range);\n\n    if (from === undefined) {\n      from = 0;\n      to = Infinity;\n    } else if (to === undefined) {\n      to = from;\n      from = 0;\n    }\n\n    step = step === undefined ? from < to ? 1 : -1 : step;\n    this.from = from;\n    this.to = to;\n    this.step = step;\n  }\n\n  _createClass(Range, [{\n    key: Symbol.iterator,\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function value() {\n      var step, to, from;\n      return _regeneratorRuntime.wrap(function value$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              step = this.step;\n              to = this.to;\n              from = this.from;\n\n              if (!(step > 0)) {\n                _context.next = 12;\n                break;\n              }\n\n            case 4:\n              if (!(from < to)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 7;\n              return from;\n\n            case 7:\n              from += step;\n              _context.next = 4;\n              break;\n\n            case 10:\n              _context.next = 19;\n              break;\n\n            case 12:\n              if (!(step < 0)) {\n                _context.next = 19;\n                break;\n              }\n\n            case 13:\n              if (!(from > to)) {\n                _context.next = 19;\n                break;\n              }\n\n              _context.next = 16;\n              return from;\n\n            case 16:\n              from += step;\n              _context.next = 13;\n              break;\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, value, this);\n    })\n  }, {\n    key: \"$reduce\",\n    value: function $reduce(rfn, acc) {\n      var step = this.step;\n\n      if (step > 0) {\n        for (var i = this.from, n = this.to; i < n && !isReduced(acc); i += step) {\n          acc = rfn(acc, i);\n        }\n      } else {\n        for (var _i = this.from, _n = this.to; _i > _n && !isReduced(acc); _i += step) {\n          acc = rfn(acc, _i);\n        }\n      }\n\n      return acc;\n    }\n  }]);\n\n  return Range;\n}();","import { illegalArity } from \"@thi.ng/errors\";\nimport { ensureTransducer } from \"./internal/ensure\";\nimport { reduce } from \"./reduce\";\nimport { map } from \"./xform/map\";\nexport function transduce() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var acc, xs;\n\n  switch (args.length) {\n    case 4:\n      xs = args[3];\n      acc = args[2];\n      break;\n\n    case 3:\n      xs = args[2];\n      break;\n\n    case 2:\n      return map(function (x) {\n        return transduce(args[0], args[1], x);\n      });\n\n    default:\n      illegalArity(args.length);\n  }\n\n  return reduce(ensureTransducer(args[0])(args[1]), acc, xs);\n}","import _toConsumableArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { illegalArity } from \"@thi.ng/errors\";\nexport function comp() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  var a = fns[0],\n      b = fns[1],\n      c = fns[2],\n      d = fns[3],\n      e = fns[4],\n      f = fns[5],\n      g = fns[6],\n      h = fns[7],\n      i = fns[8],\n      j = fns[9];\n\n  switch (fns.length) {\n    case 0:\n      illegalArity(0);\n\n    case 1:\n      return a;\n\n    case 2:\n      return function () {\n        return a(b.apply(void 0, arguments));\n      };\n\n    case 3:\n      return function () {\n        return a(b(c.apply(void 0, arguments)));\n      };\n\n    case 4:\n      return function () {\n        return a(b(c(d.apply(void 0, arguments))));\n      };\n\n    case 5:\n      return function () {\n        return a(b(c(d(e.apply(void 0, arguments)))));\n      };\n\n    case 6:\n      return function () {\n        return a(b(c(d(e(f.apply(void 0, arguments))))));\n      };\n\n    case 7:\n      return function () {\n        return a(b(c(d(e(f(g.apply(void 0, arguments)))))));\n      };\n\n    case 8:\n      return function () {\n        return a(b(c(d(e(f(g(h.apply(void 0, arguments))))))));\n      };\n\n    case 9:\n      return function () {\n        return a(b(c(d(e(f(g(h(i.apply(void 0, arguments)))))))));\n      };\n\n    case 10:\n    default:\n      var fn = function fn() {\n        return a(b(c(d(e(f(g(h(i(j.apply(void 0, arguments))))))))));\n      };\n\n      return fns.length === 10 ? fn : comp.apply(void 0, [fn].concat(_toConsumableArray(fns.slice(10))));\n  }\n}\nexport function compL() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return comp.apply(null, fns.reverse());\n}\n/**\n * @deprecated renamed to {@link (compL:1)}\n */\n\nexport var compI = compL;","import \"core-js/modules/es6.array.map\";\nimport { comp as _comp } from \"@thi.ng/compose\";\nimport { ensureTransducer } from \"../internal/ensure\";\nexport function comp() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  fns = fns.map(ensureTransducer);\n  return _comp.apply(null, fns);\n}","import { compR } from \"../func/compr\";\nimport { iterator } from \"../iterator\";\nimport { ensureReduced, reduced } from \"../reduced\";\nexport function take(n, src) {\n  return src ? iterator(take(n), src) : function (rfn) {\n    var r = rfn[2];\n    var m = n;\n    return compR(rfn, function (acc, x) {\n      return --m > 0 ? r(acc, x) : m === 0 ? ensureReduced(r(acc, x)) : reduced(acc);\n    });\n  };\n}","import { compR } from \"../func/compr\";\nimport { $iter } from \"../iterator\";\nexport function mapIndexed() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return $iter(mapIndexed, args) || function (rfn) {\n    var r = rfn[2];\n    var fn = args[0];\n    var i = args[1] || 0;\n    return compR(rfn, function (acc, x) {\n      return r(acc, fn(i++, x));\n    });\n  };\n}","import _toConsumableArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { reducer } from \"../reduce\";\nexport function str(sep, xs) {\n  sep = sep || \"\";\n  var first = true;\n  return xs ? _toConsumableArray(xs).join(sep) : reducer(function () {\n    return \"\";\n  }, function (acc, x) {\n    return acc = first ? acc + x : acc + sep + x, first = false, acc;\n  });\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _regeneratorRuntime from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.map\";\nimport \"regenerator-runtime/runtime\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(zip);\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport function zip() {\n  var _len,\n      src,\n      _key,\n      iters,\n      tuple,\n      _iterator,\n      _step,\n      i,\n      v,\n      _args = arguments;\n\n  return _regeneratorRuntime.wrap(function zip$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          for (_len = _args.length, src = new Array(_len), _key = 0; _key < _len; _key++) {\n            src[_key] = _args[_key];\n          }\n\n          iters = src.map(function (s) {\n            return s[Symbol.iterator]();\n          });\n\n        case 2:\n          if (!true) {\n            _context.next = 27;\n            break;\n          }\n\n          tuple = [];\n          _iterator = _createForOfIteratorHelper(iters);\n          _context.prev = 5;\n\n          _iterator.s();\n\n        case 7:\n          if ((_step = _iterator.n()).done) {\n            _context.next = 15;\n            break;\n          }\n\n          i = _step.value;\n          v = i.next();\n\n          if (!v.done) {\n            _context.next = 12;\n            break;\n          }\n\n          return _context.abrupt(\"return\");\n\n        case 12:\n          tuple.push(v.value);\n\n        case 13:\n          _context.next = 7;\n          break;\n\n        case 15:\n          _context.next = 20;\n          break;\n\n        case 17:\n          _context.prev = 17;\n          _context.t0 = _context[\"catch\"](5);\n\n          _iterator.e(_context.t0);\n\n        case 20:\n          _context.prev = 20;\n\n          _iterator.f();\n\n          return _context.finish(20);\n\n        case 23:\n          _context.next = 25;\n          return tuple;\n\n        case 25:\n          _context.next = 2;\n          break;\n\n        case 27:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[5, 17, 20, 23]]);\n}","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\n/** @internal */\n// prettier-ignore\nexport var MATH = function MATH(op) {\n  return function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        o = _ref2[0],\n        a = _ref2[1],\n        b = _ref2[2];\n\n    return \"\".concat(o, \"=\").concat(a).concat(op).concat(b, \";\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var MATH_N = function MATH_N(op) {\n  return function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        o = _ref4[0],\n        a = _ref4[1];\n\n    return \"\".concat(o, \"=\").concat(a).concat(op, \"n;\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var MATH2 = function MATH2(op1, op2) {\n  return function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 4),\n        o = _ref6[0],\n        a = _ref6[1],\n        b = _ref6[2],\n        c = _ref6[3];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op1).concat(b, \")\").concat(op2).concat(c, \";\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var MATH2_N = function MATH2_N(op1, op2) {\n  return function (_ref7) {\n    var _ref8 = _slicedToArray(_ref7, 3),\n        o = _ref8[0],\n        a = _ref8[1],\n        b = _ref8[2];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op1).concat(b, \")\").concat(op2, \"n;\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var MATH2A_N = function MATH2A_N(op1, op2) {\n  return function (_ref9) {\n    var _ref10 = _slicedToArray(_ref9, 3),\n        o = _ref10[0],\n        a = _ref10[1],\n        b = _ref10[2];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op1, \"n)\").concat(op2).concat(b, \";\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var SIGNED = function SIGNED(op) {\n  return function (_ref11) {\n    var _ref12 = _slicedToArray(_ref11, 3),\n        o = _ref12[0],\n        a = _ref12[1],\n        b = _ref12[2];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op).concat(b, \")|0;\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var UNSIGNED = function UNSIGNED(op) {\n  return function (_ref13) {\n    var _ref14 = _slicedToArray(_ref13, 3),\n        o = _ref14[0],\n        a = _ref14[1],\n        b = _ref14[2];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op).concat(b, \")>>>0;\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var SIGNED_N = function SIGNED_N(op) {\n  return function (_ref15) {\n    var _ref16 = _slicedToArray(_ref15, 2),\n        o = _ref16[0],\n        a = _ref16[1];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op, \"n)|0;\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var UNSIGNED_N = function UNSIGNED_N(op) {\n  return function (_ref17) {\n    var _ref18 = _slicedToArray(_ref17, 2),\n        o = _ref18[0],\n        a = _ref18[1];\n\n    return \"\".concat(o, \"=(\").concat(a).concat(op, \"n)>>>0;\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var FN = function FN() {\n  var op = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"op\";\n  return function (_ref19) {\n    var _ref20 = _slicedToArray(_ref19, 2),\n        o = _ref20[0],\n        a = _ref20[1];\n\n    return \"\".concat(o, \"=\").concat(op, \"(\").concat(a, \");\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var FN2 = function FN2() {\n  var op = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"op\";\n  return function (_ref21) {\n    var _ref22 = _slicedToArray(_ref21, 3),\n        o = _ref22[0],\n        a = _ref22[1],\n        b = _ref22[2];\n\n    return \"\".concat(o, \"=\").concat(op, \"(\").concat(a, \",\").concat(b, \");\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var FN3 = function FN3() {\n  var op = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"op\";\n  return function (_ref23) {\n    var _ref24 = _slicedToArray(_ref23, 4),\n        o = _ref24[0],\n        a = _ref24[1],\n        b = _ref24[2],\n        c = _ref24[3];\n\n    return \"\".concat(o, \"=\").concat(op, \"(\").concat(a, \",\").concat(b, \",\").concat(c, \");\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var FN5 = function FN5() {\n  var op = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"op\";\n  return function (_ref25) {\n    var _ref26 = _slicedToArray(_ref25, 6),\n        o = _ref26[0],\n        a = _ref26[1],\n        b = _ref26[2],\n        c = _ref26[3],\n        d = _ref26[4],\n        e = _ref26[5];\n\n    return \"\".concat(o, \"=\").concat(op, \"(\").concat(a, \",\").concat(b, \",\").concat(c, \",\").concat(d, \",\").concat(e, \");\");\n  };\n};\n/** @internal */\n// prettier-ignore\n\nexport var FN_N = function FN_N() {\n  var op = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"op\";\n  return function (_ref27) {\n    var _ref28 = _slicedToArray(_ref27, 2),\n        o = _ref28[0],\n        a = _ref28[1];\n\n    return \"\".concat(o, \"=\").concat(op, \"(\").concat(a, \",n);\");\n  };\n};\n/** @internal */\n\nexport var DOT = function DOT(_ref29) {\n  var _ref30 = _slicedToArray(_ref29, 2),\n      a = _ref30[0],\n      b = _ref30[1];\n\n  return \"\".concat(a, \"*\").concat(b);\n};\n/** @internal */\n\nexport var DOT_G = function DOT_G(_ref31) {\n  var _ref32 = _slicedToArray(_ref31, 2),\n      a = _ref32[0],\n      b = _ref32[1];\n\n  return \"s+=\".concat(a, \"*\").concat(b, \";\");\n};\n/** @internal */\n\nexport var SET = function SET(_ref33) {\n  var _ref34 = _slicedToArray(_ref33, 2),\n      o = _ref34[0],\n      a = _ref34[1];\n\n  return \"\".concat(o, \"=\").concat(a, \";\");\n};\n/** @internal */\n\nexport var SET_N = function SET_N(_ref35) {\n  var _ref36 = _slicedToArray(_ref35, 1),\n      a = _ref36[0];\n\n  return \"\".concat(a, \"=n;\");\n};\n/** @internal */\n\nexport var MIX = function MIX(_ref37) {\n  var _ref38 = _slicedToArray(_ref37, 4),\n      o = _ref38[0],\n      a = _ref38[1],\n      b = _ref38[2],\n      c = _ref38[3];\n\n  return \"\".concat(o, \"=\").concat(a, \"+(\").concat(b, \"-\").concat(a, \")*\").concat(c, \";\");\n};\n/** @internal */\n\nexport var MIX_N = function MIX_N(_ref39) {\n  var _ref40 = _slicedToArray(_ref39, 3),\n      o = _ref40[0],\n      a = _ref40[1],\n      b = _ref40[2];\n\n  return \"\".concat(o, \"=\").concat(a, \"+(\").concat(b, \"-\").concat(a, \")*n;\");\n};","import { defError } from \"./deferror\";\nexport var UnsupportedOperationError = defError(function () {\n  return \"unsupported operation\";\n});\nexport var unsupported = function unsupported(msg) {\n  throw new UnsupportedOperationError(msg);\n};","import { unsupported } from \"@thi.ng/errors\";\n/**\n * Specialized / optimized version of {@link @thi.ng/defmulti# | @thi.ng/defmulti} for\n * vector operations. Uses simplified logic to dispatch on length\n * (vector size) of `dispatch` argument.\n *\n * @param dispatch - arg index\n */\n\nexport var vop = function vop() {\n  var dispatch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var impls = new Array(5);\n  var fallback;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var g = impls[args[dispatch].length] || fallback;\n    return g ? g.apply(void 0, args) : unsupported(\"no impl for vec size \".concat(args[dispatch].length));\n  };\n\n  fn.add = function (dim, fn) {\n    return impls[dim] = fn;\n  };\n\n  fn[\"default\"] = function (fn) {\n    return fallback = fn;\n  };\n\n  fn.impl = function (dim) {\n    return impls[dim] || fallback;\n  }; // fn.impls = impls;\n\n\n  return fn;\n};","import _toConsumableArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nimport { comp, map, mapIndexed, range, str, take, transduce, zip } from \"@thi.ng/transducers\";\nimport { FN, MATH, MATH_N, SIGNED, SIGNED_N, UNSIGNED, UNSIGNED_N } from \"./templates\";\nimport { vop } from \"./vop\";\n/** @internal */\n\nexport var ARGS_V = \"o,a\";\n/** @internal */\n\nexport var ARGS_VV = \"o,a,b\";\n/** @internal */\n\nexport var ARGS_VVV = \"o,a,b,c\";\n/** @internal */\n\nexport var ARGS_VN = \"o,a,n\";\n/** @internal */\n\nexport var ARGS_VNV = \"o,a,n,b\";\n/** @internal */\n\nexport var ARGS_VVN = \"o,a,b,n\";\n/** @internal */\n\nexport var SARGS_V = \"io=0,ia=0,so=1,sa=1\";\n/** @internal */\n\nexport var SARGS_VV = \"io=0,ia=0,ib=0,so=1,sa=1,sb=1\";\n/** @internal */\n\nexport var SARGS_VVV = \"io=0,ia=0,ib=0,ic=0,so=1,sa=1,sb=1,sc=1\";\n/** @internal */\n\nexport var DEFAULT_OUT = \"!o&&(o=a);\";\n/** @internal */\n\nexport var NEW_OUT = \"!o&&(o=[]);\";\n/**\n * HOF array index lookup gen to provide optimized versions of:\n *\n * @example\n * ```ts\n * lookup(\"a\")(0) // a[ia]\n * lookup(\"a\")(1) // a[ia * sa]\n * lookup(\"a\")(2) // a[ia + 2 * sa]\n * ```\n *\n * @param sym -\n */\n\nvar lookup = function lookup(sym) {\n  return function (i) {\n    return i > 1 ? \"\".concat(sym, \"[i\").concat(sym, \"+\").concat(i, \"*s\").concat(sym, \"]\") : i == 1 ? \"\".concat(sym, \"[i\").concat(sym, \"+s\").concat(sym, \"]\") : \"\".concat(sym, \"[i\").concat(sym, \"]\");\n  };\n};\n/**\n * Infinite iterator of strided index lookups for `sym`.\n *\n * @param sym -\n */\n\n\nvar indicesStrided = function indicesStrided(sym) {\n  return map(lookup(sym), range());\n};\n/**\n * Infinite iterator of simple (non-strided) index lookups for `sym`.\n *\n * @param sym -\n */\n\n\nvar indices = function indices(sym) {\n  return map(function (i) {\n    return \"\".concat(sym, \"[\").concat(i, \"]\");\n  }, range());\n};\n/**\n * Code generator for loop-unrolled vector operations. Takes a vector\n * size `dim`, a code template function `tpl` and an array of symbol\n * names participating in the template. For each symbol, creates\n * iterator of index lookups (e.g. `a[0]` or `a[ia+k*sa]`), forms them\n * into tuples and passes them to template to generate code and joins\n * generated result with `opJoin` separator (default:\n * `\"\"`).\n *\n * If the optional `ret` arg is not `null` (default `\"a\"`), appends a\n * `return` statement to the result array, using `ret` as return value.\n * Returns array of source code lines.\n *\n * The optional `pre` and `post` strings can be used to wrap the\n * generated code. `post` will be injected **before** the generated\n * return statement (if not suppressed).\n *\n * @param dim -\n * @param tpl -\n * @param syms -\n * @param ret -\n * @param opJoin -\n * @param pre -\n * @param post -\n * @param strided -\n */\n\n\nvar assemble = function assemble(dim, tpl, syms) {\n  var ret = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"a\";\n  var opJoin = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"\";\n  var pre = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"\";\n  var post = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : \"\";\n  var strided = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : false;\n  return [pre, transduce(comp(take(dim), mapIndexed(function (i, x) {\n    return tpl(x, i);\n  })), str(opJoin), zip.apply(null, syms.split(\",\").map(strided ? indicesStrided : indices))), post, ret !== \"\" ? \"return \".concat(ret, \";\") : \"\"];\n};\n\nvar assembleG = function assembleG(tpl, syms) {\n  var ret = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"a\";\n  var pre = arguments.length > 3 ? arguments[3] : undefined;\n  var post = arguments.length > 4 ? arguments[4] : undefined;\n  var strided = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  return [pre, \"for(let i=a.length;--i>=0;) {\", tpl(syms.split(\",\").map(strided ? function (x) {\n    return \"\".concat(x, \"[i\").concat(x, \"+i*s\").concat(x, \"]\");\n  } : function (x) {\n    return \"\".concat(x, \"[i]\");\n  })), \"}\", post, ret !== null ? \"return \".concat(ret, \";\") : \"\"];\n};\n/** @internal */\n\n\nexport var defaultOut = function defaultOut(o, args) {\n  return \"!\".concat(o, \" && (\").concat(o, \"=\").concat(args.split(\",\")[1], \");\");\n};\n/** @internal */\n\nexport var compile = function compile(dim, tpl, args) {\n  var syms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : args;\n  var ret = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"a\";\n  var opJoin = arguments.length > 5 ? arguments[5] : undefined;\n  var pre = arguments.length > 6 ? arguments[6] : undefined;\n  var post = arguments.length > 7 ? arguments[7] : undefined;\n  var strided = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : false;\n  return new Function(args, assemble(dim, tpl, syms, ret, opJoin, pre, post, strided).join(\"\"));\n};\n/** @internal */\n\nexport var compileHOF = function compileHOF(dim, fns, tpl, hofArgs, args) {\n  var syms = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : args;\n  var ret = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : \"a\";\n  var opJoin = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : \"\";\n  var pre = arguments.length > 8 ? arguments[8] : undefined;\n  var post = arguments.length > 9 ? arguments[9] : undefined;\n  var strided = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : false;\n  return new Function(hofArgs, \"return (\".concat(args, \")=>{\").concat(assemble(dim, tpl, syms, ret, opJoin, pre, post, strided).join(\"\"), \"}\")).apply(void 0, _toConsumableArray(fns));\n};\n/** @internal */\n\nexport var compileG = function compileG(tpl, args) {\n  var syms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : args;\n  var ret = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"a\";\n  var pre = arguments.length > 4 ? arguments[4] : undefined;\n  var post = arguments.length > 5 ? arguments[5] : undefined;\n  var strided = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n  return new Function(args, assembleG(tpl, syms, ret, pre, post, strided).join(\"\"));\n};\n/** @internal */\n\nexport var compileGHOF = function compileGHOF(fns, tpl, hofArgs, args) {\n  var syms = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : args;\n  var ret = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"a\";\n  var pre = arguments.length > 6 ? arguments[6] : undefined;\n  var post = arguments.length > 7 ? arguments[7] : undefined;\n  var strided = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : false;\n  return new Function(hofArgs, \"return (\".concat(args, \")=>{\").concat(assembleG(tpl, syms, ret, pre, post, strided).join(\"\"), \"}\")).apply(void 0, _toConsumableArray(fns));\n};\nexport var defOp = function defOp(tpl) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ARGS_VV;\n  var syms = arguments.length > 2 ? arguments[2] : undefined;\n  var ret = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"o\";\n  var dispatch = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var pre = arguments.length > 5 ? arguments[5] : undefined;\n  syms = syms || args;\n  pre = pre != null ? pre : defaultOut(ret, args);\n  var fn = vop(dispatch);\n\n  var $ = function $(dim) {\n    return fn.add(dim, compile(dim, tpl, args, syms, ret, \"\", pre));\n  };\n\n  fn[\"default\"](compileG(tpl, args, syms, ret, pre));\n  return [fn, $(2), $(3), $(4)];\n};\nexport var defFnOp = function defFnOp(op) {\n  return defOp(FN(op), ARGS_V);\n};\nexport var defHofOp = function defHofOp(op, tpl) {\n  var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ARGS_V;\n  var syms = arguments.length > 3 ? arguments[3] : undefined;\n  var ret = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"o\";\n  var dispatch = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  var pre = arguments.length > 6 ? arguments[6] : undefined;\n\n  var _tpl = tpl || FN(\"op\");\n\n  syms = syms || args;\n  pre = pre != null ? pre : defaultOut(ret, args);\n\n  var $ = function $(dim) {\n    return compileHOF(dim, [op], _tpl, \"op\", args, syms, ret, \"\", pre);\n  };\n\n  var fn = vop(dispatch);\n  fn[\"default\"](compileGHOF([op], _tpl, \"op\", args, syms, ret, pre));\n  return [fn, $(2), $(3), $(4)];\n};\nexport var defOpS = function defOpS(tpl) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\".concat(ARGS_VV, \",\").concat(SARGS_VV);\n  var syms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ARGS_VV;\n  var ret = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"o\";\n  var pre = arguments.length > 4 ? arguments[4] : undefined;\n  var sizes = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [2, 3, 4];\n  return sizes.map(function (dim) {\n    return compile(dim, tpl, args, syms, ret, \"\", pre != null ? pre : defaultOut(ret, args), \"\", true);\n  });\n};\nexport var defHofOpS = function defHofOpS(op, tpl) {\n  var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\".concat(ARGS_VV, \",\").concat(SARGS_VV);\n  var syms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ARGS_VV;\n  var ret = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"o\";\n  var pre = arguments.length > 5 ? arguments[5] : undefined;\n  var sizes = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [2, 3, 4];\n  return sizes.map(function (dim) {\n    return compileHOF(dim, [op], tpl, \"op\", args, syms, ret, \"\", pre != null ? pre : defaultOut(ret, args), \"\", true);\n  });\n};\nexport var defMathOp = function defMathOp(op) {\n  return defOp(MATH(op));\n};\nexport var defMathOpN = function defMathOpN(op) {\n  return defOp(MATH_N(op), ARGS_VN);\n};\nexport var defBitOp = function defBitOp(op) {\n  var signed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return defOp((signed ? SIGNED : UNSIGNED)(op));\n};\nexport var defBitOpN = function defBitOpN(op) {\n  var signed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return defOp((signed ? SIGNED_N : UNSIGNED_N)(op), ARGS_VN);\n};","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { defMathOp } from \"./internal/codegen\";\n\nvar _defMathOp = defMathOp(\"-\"),\n    _defMathOp2 = _slicedToArray(_defMathOp, 4),\n    sub = _defMathOp2[0],\n    sub2 = _defMathOp2[1],\n    sub3 = _defMathOp2[2],\n    sub4 = _defMathOp2[3];\n\nexport { sub, sub2, sub3, sub4 };","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { compile, compileG } from \"./internal/codegen\";\nimport { vop } from \"./internal/vop\";\n\nvar $ = function $(dim) {\n  return magSq.add(dim, compile(dim, function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        a = _ref2[0];\n\n    return \"\".concat(a, \"*\").concat(a);\n  }, \"a\", \"a\", \"\", \"+\", \"return \", \";\"));\n};\n\nexport var magSq = vop();\nmagSq[\"default\"](compileG(function (_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 1),\n      a = _ref4[0];\n\n  return \"sum+=\".concat(a, \"*\").concat(a, \";\");\n}, \"a\", undefined, \"sum\", \"let sum=0;\"));\nexport var magSq2 = $(2);\nexport var magSq3 = $(3);\nexport var magSq4 = $(4);","import { compile, compileG } from \"./internal/codegen\";\nimport { DOT, DOT_G } from \"./internal/templates\";\nimport { vop } from \"./internal/vop\";\n\nvar $ = function $(dim) {\n  return dot.add(dim, compile(dim, DOT, \"a,b\", undefined, \"\", \"+\", \"return \", \";\"));\n};\n\nexport var dot = vop();\ndot[\"default\"](compileG(DOT_G, \"a,b\", undefined, \"s\", \"let s=0;\"));\nexport var dot2 = $(2);\nexport var dot3 = $(3);\nexport var dot4 = $(4);","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { ARGS_VVN, defOp } from \"./internal/codegen\";\nimport { MIX_N } from \"./internal/templates\";\n\nvar _defOp = defOp(MIX_N, ARGS_VVN),\n    _defOp2 = _slicedToArray(_defOp, 4),\n    mixN = _defOp2[0],\n    mixN2 = _defOp2[1],\n    mixN3 = _defOp2[2],\n    mixN4 = _defOp2[3];\n\nexport { mixN, mixN2, mixN3, mixN4 };","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { compile, compileG } from \"./internal/codegen\";\nimport { vop } from \"./internal/vop\";\n\nvar tpl = function tpl(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      a = _ref2[0],\n      b = _ref2[1];\n\n  return \"t=\".concat(a, \"-\").concat(b, \";s+=t*t;\");\n};\n\nvar pre = \"let t,s=0;\";\n\nvar $ = function $(dim) {\n  return distSq.add(dim, compile(dim, tpl, \"a,b\", undefined, \"s\", \"\", pre));\n};\n\nexport var distSq = vop();\ndistSq[\"default\"](compileG(tpl, \"a,b\", undefined, \"s\", pre));\nexport var distSq2 = $(2);\nexport var distSq3 = $(3);\nexport var distSq4 = $(4);","export var PI = Math.PI;\nexport var TAU = PI * 2;\nexport var HALF_PI = PI / 2;\nexport var THIRD_PI = PI / 3;\nexport var QUARTER_PI = PI / 4;\nexport var SIXTH_PI = PI / 6;\nexport var INV_PI = 1 / PI;\nexport var INV_TAU = 1 / TAU;\nexport var INV_HALF_PI = 1 / HALF_PI;\nexport var DEG2RAD = PI / 180;\nexport var RAD2DEG = 180 / PI;\nexport var PHI = (1 + Math.sqrt(5)) / 2;\nexport var SQRT2 = Math.SQRT2;\nexport var SQRT3 = Math.sqrt(3);\nexport var SQRT2_2 = SQRT2 / 2;\nexport var SQRT2_3 = SQRT3 / 2;\nexport var THIRD = 1 / 3;\nexport var TWO_THIRD = 2 / 3;\nexport var SIXTH = 1 / 6;\nexport var EPS = 1e-6;\nexport var Crossing;\n\n(function (Crossing) {\n  /**\n   * lines A & B are equal\n   */\n  Crossing[Crossing[\"EQUAL\"] = 0] = \"EQUAL\";\n  /**\n   * lines A & B are flat (all same values)\n   */\n\n  Crossing[Crossing[\"FLAT\"] = 1] = \"FLAT\";\n  /**\n   * line A crossed under B\n   */\n\n  Crossing[Crossing[\"UNDER\"] = 2] = \"UNDER\";\n  /**\n   * line A crossed over B\n   */\n\n  Crossing[Crossing[\"OVER\"] = 3] = \"OVER\";\n  Crossing[Crossing[\"OTHER\"] = 4] = \"OTHER\";\n})(Crossing || (Crossing = {}));","import \"core-js/modules/es6.array.fill\";\nimport _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { defOp } from \"./internal/codegen\";\nimport { SET_N } from \"./internal/templates\";\n\nvar _defOp = defOp(SET_N, \"a,n\", \"a\", \"a\", 0, \"\"),\n    _defOp2 = _slicedToArray(_defOp, 4),\n    setN = _defOp2[0],\n    setN2 = _defOp2[1],\n    setN3 = _defOp2[2],\n    setN4 = _defOp2[3];\n\nexport { setN, setN2, setN3, setN4 };\nexport var zero = function zero(a) {\n  return setN(a, 0);\n};\nexport var one = function one(a) {\n  return setN(a, 1);\n};\nexport var zeroes = function zeroes(n) {\n  return new Array(n).fill(0);\n};\nexport var ones = function ones(n) {\n  return new Array(n).fill(1);\n};","import { implementsFunction } from \"@thi.ng/checks\";\nimport { zeroes } from \"./setn\";\nexport var empty = function empty(v) {\n  return implementsFunction(v, \"empty\") ? v.empty() : zeroes(v.length);\n};","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { defOp, NEW_OUT } from \"./internal/codegen\";\nimport { SET } from \"./internal/templates\";\n\nvar _defOp = defOp(SET, \"o,a\", undefined, \"o\", 1, NEW_OUT),\n    _defOp2 = _slicedToArray(_defOp, 4),\n    set = _defOp2[0],\n    set2 = _defOp2[1],\n    set3 = _defOp2[2],\n    set4 = _defOp2[3];\n\nexport { set, set2, set3, set4 };","import { magSq } from \"./magsq\";\nexport var mag = function mag(v) {\n  return Math.sqrt(magSq(v));\n};","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { defMathOpN } from \"./internal/codegen\";\n\nvar _defMathOpN = defMathOpN(\"*\"),\n    _defMathOpN2 = _slicedToArray(_defMathOpN, 4),\n    mulN = _defMathOpN2[0],\n    mulN2 = _defMathOpN2[1],\n    mulN3 = _defMathOpN2[2],\n    mulN4 = _defMathOpN2[3];\n\nexport { mulN, mulN2, mulN3, mulN4 };","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { defMathOp } from \"./internal/codegen\";\n\nvar _defMathOp = defMathOp(\"+\"),\n    _defMathOp2 = _slicedToArray(_defMathOp, 4),\n    add = _defMathOp2[0],\n    add2 = _defMathOp2[1],\n    add3 = _defMathOp2[2],\n    add4 = _defMathOp2[3];\n\nexport { add, add2, add3, add4 };","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { clamp } from \"@thi.ng/math\";\nimport { add, dist, distSq, dot, empty, magSq, mixN, normalize, set, setC2, setC3, sub } from \"@thi.ng/vectors\";\n/**\n * Computes the parametric distance `t` of point `p` projected onto line\n * `a` -> `b`, relative to `a`. I.e. the projection of `p` can then be\n * computed like so:\n *\n * @example\n * ```ts\n * mixN([], a, b, closestT(p, a, b))\n * ```\n *\n * If the return value is outside the closed [0,1] interval, the\n * projected point lies outside the line segment. Returns `undefined` if\n * `a` and `b` are coincident.\n *\n * - {@link closestPointLine}\n * - {@link closestPointSegment}\n *\n * @param p - query point\n * @param a - line point A\n * @param b - line point B\n */\n\nexport var closestT = function closestT(p, a, b) {\n  var d = sub([], b, a);\n  var l = magSq(d);\n  return l > 1e-6 ? dot(sub([], p, a), d) / l : undefined;\n};\n/**\n * Returns closest point to `p` on infinite line defined by points `a`\n * and `b`. Use {@link closestPointSegment} to only consider the actual line\n * segment between these two points.\n *\n * {@link closestPointSegment}\n *\n * @param p - query point\n * @param a - line point A\n * @param b - line point B\n */\n\nexport var closestPointLine = function closestPointLine(p, a, b) {\n  return mixN([], a, b, closestT(p, a, b) || 0);\n};\n/**\n * Returns distance from `p` to closest point to infinite line `a` ->\n * `b`. Use {@link distToSegment} to only consider the actual line segment\n * between these two points.\n *\n * {@link distToSegment}\n *\n * @param p - query point\n * @param a - line point A\n * @param b - line point B\n */\n\nexport var distToLine = function distToLine(p, a, b) {\n  return dist(p, closestPointLine(p, a, b) || a);\n};\n/**\n * Returns closest point to `p` on line segment `a` -> `b`. By default,\n * if the result point lies outside the segment, returns a copy of the\n * closest end point. The result is written to the optional `out` vector\n * (or if omitted, a new one is created).\n *\n * If `insideOnly` is true, only returns the closest point iff it\n * actually is inside the segment. The behavior of this configurable via\n * the optional `eps` arg and by default includes both end points. This\n * function uses {@link closestT} to compute the parametric position of the\n * result point and determine if it lies within the line segment. If\n * `eps > 0`, the end points `a` and `b` will be excluded from the\n * match, effectively shortening the valid line segment from both ends,\n * i.e. the valid interval of the parametric position will be\n * [eps,1-eps]. If the result lies outside this interval, the function\n * returns `undefined`. Likewise, if `a` and `b` are coincident.\n *\n * @param p - query point\n * @param a - line point A\n * @param b - line point B\n * @param out - result\n * @param eps - epsilon value\n */\n\nexport var closestPointSegment = function closestPointSegment(p, a, b, out) {\n  var insideOnly = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var eps = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var t = closestT(p, a, b);\n\n  if (t !== undefined && (!insideOnly || t >= eps && t <= 1 - eps)) {\n    out = out || empty(p);\n    return t <= 0 ? set(out, a) : t >= 1 ? set(out, b) : mixN(out, a, b, t);\n  }\n};\n/**\n * Returns distance from `p` to closest point on line segment `a` ->\n * `b`.\n *\n * @param p - query point\n * @param a - line point A\n * @param b - line point B\n */\n\nexport var distToSegment = function distToSegment(p, a, b) {\n  return dist(p, closestPointSegment(p, a, b) || a);\n};\nexport var closestPointPolyline = function closestPointPolyline(p, pts) {\n  var closed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var out = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  if (!pts.length) return;\n  var tmp = [];\n  var n = pts.length - 1;\n  var minD = Infinity,\n      i,\n      j;\n\n  if (closed) {\n    i = n;\n    j = 0;\n  } else {\n    i = 0;\n    j = 1;\n  }\n\n  for (; j <= n; i = j, j++) {\n    if (closestPointSegment(p, pts[i], pts[j], tmp)) {\n      var d = distSq(p, tmp);\n\n      if (d < minD) {\n        minD = d;\n        set(out, tmp);\n      }\n    }\n  }\n\n  return out;\n};\n/**\n * Returns the index of the start point containing the segment in the\n * polyline array `points` farthest away from `p` with regards to the\n * line segment `a` to `b`. `points` is only checked between indices\n * `from` and `to` (not including the latter).\n *\n * @param a - line point A\n * @param b - line point B\n * @param points - points\n * @param from - start search index\n * @param to - end search index\n */\n\nexport var farthestPointSegment = function farthestPointSegment(a, b, points) {\n  var from = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var to = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : points.length;\n  var maxD = -1;\n  var maxIdx = -1;\n  var tmp = empty(a);\n\n  for (var i = from; i < to; i++) {\n    var p = points[i];\n    var d = distSq(p, closestPointSegment(p, a, b, tmp) || a);\n\n    if (d > maxD) {\n      maxD = d;\n      maxIdx = i;\n    }\n  }\n\n  return [maxIdx, Math.sqrt(maxD)];\n};\nexport var closestPointArray = function closestPointArray(p, pts) {\n  var out = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var minD = Infinity;\n  var closest;\n\n  for (var i = pts.length; --i >= 0;) {\n    var d = distSq(pts[i], p);\n\n    if (d < minD) {\n      minD = d;\n      closest = pts[i];\n    }\n  }\n\n  return closest ? set(out, closest) : undefined;\n};\nexport var distToPlane = function distToPlane(p, n, w) {\n  return dot(n, p) - w;\n};\nexport var closestPointPlane = function closestPointPlane(p, normal, w) {\n  var out = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  return sub(out, p, normalize(out, normal, distToPlane(p, normal, w)));\n};\nexport var closestPointCircle = function closestPointCircle(p, c, r) {\n  var out = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  return add(out, c, normalize(out, sub(out, p, c), r));\n};\nexport var closestPointSphere = closestPointCircle;\nexport var closestPointRect = function closestPointRect(p, bmin, bmax) {\n  var out = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n  var _closestBoxEdge = closestBoxEdge(p, bmin, bmax, 4),\n      _closestBoxEdge2 = _slicedToArray(_closestBoxEdge, 2),\n      minID = _closestBoxEdge2[0],\n      minW = _closestBoxEdge2[1];\n\n  return minID === 0 ? setC2(out, minW, clamp(p[1], bmin[1], bmax[1])) : setC2(out, clamp(p[0], bmin[0], bmax[0]), minW);\n};\nexport var closestPointAABB = function closestPointAABB(p, bmin, bmax) {\n  var out = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n  var _closestBoxEdge3 = closestBoxEdge(p, bmin, bmax, 6),\n      _closestBoxEdge4 = _slicedToArray(_closestBoxEdge3, 2),\n      minID = _closestBoxEdge4[0],\n      minW = _closestBoxEdge4[1];\n\n  return minID === 0 ? setC3(out, minW, clamp(p[1], bmin[1], bmax[1]), clamp(p[2], bmin[2], bmax[2])) : minID === 1 ? setC3(out, clamp(p[0], bmin[0], bmax[0]), minW, clamp(p[2], bmin[2], bmax[2])) : setC3(out, clamp(p[0], bmin[0], bmax[0]), clamp(p[1], bmin[1], bmax[1]), minW);\n};\n\nvar closestBoxEdge = function closestBoxEdge(p, bmin, bmax, n) {\n  var minD = Infinity;\n  var minID;\n  var minW;\n\n  for (var i = 0; i < n; i++) {\n    var j = i >> 1;\n    var w = (i & 1 ? bmax : bmin)[j];\n    var d = Math.abs(p[j] - w);\n\n    if (d < minD) {\n      minD = d;\n      minID = j;\n      minW = w;\n    }\n  }\n\n  return [minID, minW];\n};","import { EPS } from \"./api\";\nvar abs = Math.abs;\nvar max = Math.max;\n/**\n * Checks if `|a - b| <= ε` and adapts given epsilon value to the given\n * arguments:\n *\n * ε is factored with the largest absolute value of `a` or `b` (but\n * never lesser than the given `eps` value):\n *\n * `ε = ε * max(1, |a|, |b|)`\n *\n * @param a - left value\n * @param b - right value\n * @param eps - epsilon / tolerance, default `1e-6`\n */\n\nexport var eqDelta = function eqDelta(a, b) {\n  var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPS;\n  return abs(a - b) <= eps * max(1, abs(a), abs(b));\n};\n/**\n * Similar to {@link eqDelta}, but used given `eps` as is.\n *\n * @param a - left value\n * @param b - right value\n * @param eps - epsilon / tolerance, default `1e-6`\n */\n\nexport var eqDeltaFixed = function eqDeltaFixed(a, b) {\n  var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPS;\n  return abs(a - b) <= eps;\n};","import { IntersectionType } from \"@thi.ng/geom-api\";\nimport { closestPointSegment } from \"@thi.ng/geom-closest-point\";\nimport { EPS, eqDeltaFixed } from \"@thi.ng/math\";\nimport { mixN2 } from \"@thi.ng/vectors\";\nexport var intersectLineLine = function intersectLineLine(a, b, c, d) {\n  var eps = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : EPS;\n  var bax = b[0] - a[0];\n  var bay = b[1] - a[1];\n  var dcx = d[0] - c[0];\n  var dcy = d[1] - c[1];\n  var acx = a[0] - c[0];\n  var acy = a[1] - c[1];\n  var det = dcy * bax - dcx * bay;\n  var alpha = dcx * acy - dcy * acx;\n  var beta = bax * acy - bay * acx;\n\n  if (eqDeltaFixed(det, 0, eps)) {\n    if (eqDeltaFixed(alpha, 0, eps) && eqDeltaFixed(beta, 0, eps)) {\n      var isec = closestPointSegment(c, a, b, undefined, true) || closestPointSegment(d, a, b, undefined, true);\n      return {\n        type: isec ? IntersectionType.COINCIDENT : IntersectionType.COINCIDENT_NO_INTERSECT,\n        isec: isec\n      };\n    }\n\n    return {\n      type: IntersectionType.PARALLEL\n    };\n  }\n\n  alpha /= det;\n  beta /= det;\n  var ieps = 1 - eps;\n  return {\n    type: eps < alpha && alpha < ieps && eps < beta && beta < ieps ? IntersectionType.INTERSECT : IntersectionType.INTERSECT_OUTSIDE,\n    isec: mixN2([], a, b, alpha),\n    alpha: alpha,\n    beta: beta,\n    det: det\n  };\n};\n/**\n * 2D only. Returns true if line `a`,`b` is parallel (or coincident) to\n * line `c`,`d`.\n *\n * @param a - line 1 start point\n * @param b - line 1 end point\n * @param c - line 2 start point\n * @param d - line 2 end point\n */\n\nexport var isParallelLine = function isParallelLine(a, b, c, d) {\n  return eqDeltaFixed((d[1] - c[1]) * (b[0] - a[0]) - (d[0] - c[0]) * (b[1] - a[1]), 0);\n};","import { defError } from \"./deferror\";\nexport var IllegalArgumentError = defError(function () {\n  return \"illegal argument(s)\";\n});\nexport var illegalArgs = function illegalArgs(msg) {\n  throw new IllegalArgumentError(msg);\n};","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { defMathOpN } from \"./internal/codegen\";\n\nvar _defMathOpN = defMathOpN(\"/\"),\n    _defMathOpN2 = _slicedToArray(_defMathOpN, 4),\n    divN = _defMathOpN2[0],\n    divN2 = _defMathOpN2[1],\n    divN3 = _defMathOpN2[2],\n    divN4 = _defMathOpN2[3];\n\nexport { divN, divN2, divN3, divN4 };","import { illegalArgs } from \"@thi.ng/errors\";\nimport { add, divN, empty } from \"@thi.ng/vectors\";\nexport var centroid = function centroid(pts, out) {\n  var num = pts.length;\n  !num && illegalArgs(\"no points\");\n  !out && (out = empty(pts[0]));\n\n  for (var i = num; --i >= 0;) {\n    add(out, out, pts[i]);\n  }\n\n  return divN(out, out, num);\n};","import { EPS } from \"./api\";\nexport var absDiff = function absDiff(x, y) {\n  return Math.abs(x - y);\n};\nexport var sign = function sign(x) {\n  var eps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EPS;\n  return x > eps ? 1 : x < -eps ? -1 : 0;\n};","/**\n * Returns area * 2 of the 2D triangle defined by the input vectors.\n * This is a useful classifier for many geometry processing tasks. In\n * addition to the triangle area, the result can also be interpreted as\n * follows:\n *\n * - `> 0`: points are ordered counterclockwise\n * - `< 0`: points are ordered clockwise\n * - `0`: points are co-linear\n *\n * Same as: `cross2(sub2([], b, a), sub2([], c, a))`\n *\n * - {@link corner2}\n * - {@link clockwise2}\n * - {@link cross2}\n *\n * @param a -\n * @param b -\n * @param c -\n */\nexport var signedArea2 = function signedArea2(a, b, c) {\n  var ax = a[0];\n  var ay = a[1];\n  return (b[0] - ax) * (c[1] - ay) - (c[0] - ax) * (b[1] - ay);\n};\n/**\n * Same as {@link signedArea2}, but expects individual vector component args,\n * instead of vectors.\n *\n * @param ax -\n * @param ay -\n * @param bx -\n * @param by -\n * @param cx -\n * @param cy -\n */\n\nexport var signedAreaC2 = function signedAreaC2(ax, ay, bx, by, cx, cy) {\n  return (bx - ax) * (cy - ay) - (cx - ax) * (by - ay);\n};","import { EPS, sign } from \"@thi.ng/math\";\nimport { signedArea2 } from \"./signed-area\";\n/**\n * Syntax sugar for `sign(signedArea2(a, b, c))`.\n *\n * - {@link @thi.ng/math#sign}\n * - {@link signedArea2}\n *\n * @param a -\n * @param b -\n * @param c -\n * @param eps - zero tolerance for sign computation\n */\n\nexport var corner2 = function corner2(a, b, c) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  return sign(signedArea2(a, b, c), eps);\n};\n/**\n * Returns true, if the triangle `a`, `b`, `c` is in clockwise order,\n * i.e. if `corner2(a,b,c)` returned -1.\n *\n * @param a -\n * @param b -\n * @param c -\n * @param eps -\n */\n\nexport var clockwise2 = function clockwise2(a, b, c) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  return corner2(a, b, c, eps) < 0;\n};","import { intersectLineLine } from \"@thi.ng/geom-isec\";\nimport { centroid } from \"@thi.ng/geom-poly-utils\";\nimport { EPS } from \"@thi.ng/math\";\nimport { corner2 } from \"@thi.ng/vectors\";\n/**\n * Extended version of Sutherland-Hodgeman convex polygon clipping\n * supporting any convex boundary polygon (not only rects). Returns new\n * array of clipped vertices.\n *\n * {@link https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm}\n *\n * @param pts - subject poly vertices\n * @param bounds - clipping boundary vertices\n * @param bc - pre-computed boundary centroid\n * @param eps - edge classification tolerance\n */\n\nexport var sutherlandHodgeman = function sutherlandHodgeman(pts, bounds, bc) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  bc = bc || centroid(bounds);\n\n  for (var ne = bounds.length, j = ne - 1, i = 0; i < ne; j = i, i++) {\n    var clipped = [];\n    var ca = bounds[j];\n    var cb = bounds[i];\n    var sign = corner2(ca, cb, bc, eps);\n\n    for (var np = pts.length, k = np - 1, l = 0; l < np; k = l, l++) {\n      var p = pts[k];\n      var q = pts[l];\n      var cqsign = corner2(ca, cb, q, eps);\n\n      if (corner2(ca, cb, p, eps) === sign) {\n        clipped.push(cqsign !== sign ? intersectLineLine(ca, cb, p, q).isec : q);\n      } else if (cqsign === sign) {\n        clipped.push(intersectLineLine(ca, cb, p, q).isec, q);\n      }\n    }\n\n    if (clipped.length < 2) {\n      return [];\n    }\n\n    pts = clipped;\n  }\n\n  return pts;\n};","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { closestT } from \"@thi.ng/geom-closest-point\";\nimport { clamp01, EPS, sign } from \"@thi.ng/math\";\nimport { clockwise2, distSq, magSq, mixN, signedArea2, vop } from \"@thi.ng/vectors\";\nexport var pointInSegment = function pointInSegment(p, a, b) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  var t = closestT(p, a, b);\n  return t !== undefined ? distSq(p, mixN([], a, b, clamp01(t))) < eps * eps : false;\n};\nexport var pointInCircle = function pointInCircle(p, pos, r) {\n  return distSq(pos, p) <= r * r;\n};\nexport var pointInSphere = pointInCircle;\nexport var classifyPointInCircle = function classifyPointInCircle(p, pos, r) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  return sign(r * r - distSq(pos, p), eps);\n};\nexport var pointInCircumCircle = function pointInCircumCircle(a, b, c, d) {\n  return magSq(a) * signedArea2(b, c, d) - magSq(b) * signedArea2(a, c, d) + magSq(c) * signedArea2(a, b, d) - magSq(d) * signedArea2(a, b, c) > 0;\n};\nexport var pointInTriangle2 = function pointInTriangle2(p, a, b, c) {\n  var s = clockwise2(a, b, c) ? 1 : -1;\n  return s * signedArea2(a, c, p) >= 0 && s * signedArea2(b, a, p) >= 0 && s * signedArea2(c, b, p) >= 0;\n};\nexport var classifyPointInTriangle2 = function classifyPointInTriangle2(p, a, b, c) {\n  var eps = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : EPS;\n  var s = clockwise2(a, b, c) ? 1 : -1;\n  return sign(Math.min(s * signedArea2(a, c, p), s * signedArea2(b, a, p), s * signedArea2(c, b, p)), eps);\n};\nexport var pointInPolygon2 = function pointInPolygon2(p, pts) {\n  var n = pts.length - 1;\n  var px = p[0];\n  var py = p[1];\n  var a = pts[n];\n  var b = pts[0];\n  var inside = 0;\n\n  for (var i = 0; i <= n; a = b, b = pts[++i]) {\n    inside = classifyPointPolyPair(px, py, a[0], a[1], b[0], b[1], inside);\n  }\n\n  return inside;\n};\nexport var classifyPointPolyPair = function classifyPointPolyPair(px, py, ax, ay, bx, by, inside) {\n  return (ay < py && by >= py || by < py && ay >= py) && (ax <= px || bx <= px) ? inside ^ (ax + (py - ay) / (by - ay) * (bx - ax) < px ? 1 : 0) : inside;\n};\nexport var pointInBox = vop(0);\nexport var pointInRect = pointInBox.add(2, function (_ref, pos, size) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      x = _ref2[0],\n      y = _ref2[1];\n\n  return x >= pos[0] && x <= pos[0] + size[0] && y >= pos[1] && y <= pos[1] + size[1];\n});\nexport var pointInAABB = pointInBox.add(3, function (_ref3, pos, size) {\n  var _ref4 = _slicedToArray(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  return x >= pos[0] && x <= pos[0] + size[0] && y >= pos[1] && y <= pos[1] + size[1] && z >= pos[2] && z <= pos[2] + size[2];\n});\npointInBox[\"default\"](function (p, boxMin, boxSize) {\n  for (var i = p.length; --i >= 0;) {\n    var x = p[i];\n    var y = boxMin[i];\n    if (x < y || x > y + boxSize[i]) return false;\n  }\n\n  return true;\n});\nexport var pointInCenteredBox = vop(0);\nexport var pointInCenteredRect = pointInCenteredBox.add(2, function (_ref5, pos, size) {\n  var _ref6 = _slicedToArray(_ref5, 2),\n      x = _ref6[0],\n      y = _ref6[1];\n\n  return x >= pos[0] - size[0] && x <= pos[0] + size[0] && y >= pos[1] - size[1] && y <= pos[1] + size[1];\n});\nexport var pointInCenteredAABB = pointInCenteredBox.add(3, function (_ref7, pos, size) {\n  var _ref8 = _slicedToArray(_ref7, 3),\n      x = _ref8[0],\n      y = _ref8[1],\n      z = _ref8[2];\n\n  return x >= pos[0] - size[0] && x <= pos[0] + size[0] && y >= pos[1] - size[1] && y <= pos[1] + size[1] && z >= pos[2] - size[2] && z <= pos[2] + size[2];\n});\npointInCenteredBox[\"default\"](function (p, boxCenter, boxExtent) {\n  for (var i = p.length; --i >= 0;) {\n    var x = p[i];\n    var y = boxCenter[i];\n    var z = boxExtent[i];\n    if (x < y - z || x > y + z) return false;\n  }\n\n  return true;\n});","import { EPS } from \"@thi.ng/math\";\n/**\n * Computes and returns the center of the circumcircle of the given 2D\n * triangle points. Returns `undefined` if the points are colinear or\n * coincident.\n *\n * @param a - triangle vertex 1\n * @param b - triangle vertex 2\n * @param c - triangle vertex 3\n * @param eps - epsilon value for colinear check\n */\n\nexport var circumCenter2 = function circumCenter2(a, b, c) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  var ax = a[0],\n      ay = a[1];\n  var bx = b[0],\n      by = b[1];\n  var cx = c[0],\n      cy = c[1];\n  var bax = bx - ax;\n  var bay = by - ay;\n  var cbx = cx - bx;\n  var cby = cy - by;\n  var deltaAB = Math.abs(bay);\n  var deltaBC = Math.abs(cby); // colinear check\n\n  if (deltaAB < eps && deltaBC < eps || Math.abs(bax) < eps && Math.abs(cbx) < eps) {\n    return;\n  }\n\n  var m1, m2, mx1, mx2, my1, my2, xc, yc;\n  var abx2 = (ax + bx) / 2;\n  var aby2 = (ay + by) / 2;\n  var bcx2 = (bx + cx) / 2;\n  var bcy2 = (by + cy) / 2;\n\n  if (deltaAB < eps) {\n    m2 = -cbx / cby;\n    mx2 = bcx2;\n    my2 = bcy2;\n    xc = abx2;\n    yc = m2 * (xc - mx2) + my2;\n  } else if (deltaBC < eps) {\n    m1 = -bax / bay;\n    mx1 = abx2;\n    my1 = aby2;\n    xc = bcx2;\n    yc = m1 * (xc - mx1) + my1;\n  } else {\n    m1 = -bax / bay;\n    m2 = -cbx / cby;\n    mx1 = abx2;\n    my1 = aby2;\n    mx2 = bcx2;\n    my2 = bcy2;\n    xc = (m1 * mx1 - m2 * mx2 + my2 - my1) / (m1 - m2);\n    yc = deltaAB > deltaBC ? m1 * (xc - mx1) + my1 : m2 * (xc - mx2) + my2;\n  }\n\n  return [xc, yc];\n};","import _classCallCheck from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar NEXT_ID = 0;\n/**\n * Helper function to set / reset edge ID counter.\n *\n * @param id -\n */\n\nexport var setNextID = function setNextID(id) {\n  return NEXT_ID = id + 3 & -4;\n};\n/**\n * Quad-edge implementation after Guibas & Stolfi. Based on C++ versions\n * by Paul Heckbert, Dani Lischinski et al:\n *\n * References:\n *\n * - {@link http://www.cs.cmu.edu/afs/andrew/scs/cs/15-463/2001/pub/src/a2/quadedge.html}\n * - {@link http://www.cs.cmu.edu/afs/andrew/scs/cs/15-463/2001/pub/src/a2/lischinski/114.ps}\n */\n\nexport var Edge = /*#__PURE__*/function () {\n  function Edge(parent, id) {\n    _classCallCheck(this, Edge);\n\n    this.parent = parent;\n    this.id = id;\n  }\n  /**\n   * Main edge / quadedge factory function. Use this in preference of\n   * direct invocation of the {@link Edge} constructor.\n   *\n   * Creates new {@link QuadEdge} with 4 child edges and returns the first\n   * child/primary edge. If `src` and `dest` are not `null`ish, the\n   * given args will be associated with that new edge as end points.\n   *\n   * @param src -\n   * @param dest -\n   */\n\n\n  _createClass(Edge, [{\n    key: \"setEnds\",\n\n    /**\n     * Sets the origin & dest vertices of this edge (in other words, the\n     * origins of this edge and `this.sym`).\n     *\n     * @param o -\n     * @param d -\n     */\n    value: function setEnds(o, d) {\n      this.origin = o;\n      this.sym.origin = d;\n    }\n  }, {\n    key: \"connect\",\n    value: function connect(e) {\n      var n = Edge.create();\n      n.splice(this.lnext);\n      n.sym.splice(e);\n      n.setEnds(this.dest, e.origin);\n      return n;\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      var a = this.oprev;\n      var b = this.sym.oprev;\n      this.splice(a);\n      this.sym.splice(b);\n      this.splice(a.lnext);\n      this.sym.splice(b.lnext);\n      this.setEnds(a.dest, b.dest);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      this.splice(this.oprev);\n      this.sym.splice(this.sym.oprev);\n      delete this.parent;\n    }\n    /**\n     * Modifies the edge rings around the origins of this edge and `e`,\n     * as well as, independently, the edge rings of both edges' left\n     * dual vertex. In each case, if the rings are separate, this\n     * operator will join them and if both rings are the same ring, they\n     * will be split / separated. Therefore, splice` is it's own reverse\n     * operator and the only operator needed to edit quad edge\n     * topologies.\n     *\n     * @param e -\n     */\n\n  }, {\n    key: \"splice\",\n    value: function splice(e) {\n      var alpha = this.onext.rot;\n      var beta = e.onext.rot;\n      var t1 = e.onext;\n      var t2 = this.onext;\n      var t3 = beta.onext;\n      var t4 = alpha.onext;\n      this.onext = t1;\n      e.onext = t2;\n      alpha.onext = t3;\n      beta.onext = t4;\n      return this;\n    }\n  }, {\n    key: \"oprev\",\n\n    /**\n     * Next CW edge from this edge's origin.\n     */\n    get: function get() {\n      return this.rot.onext.rot;\n    }\n    /**\n     * Dual of this edge, right -> left.\n     */\n\n  }, {\n    key: \"rot\",\n    get: function get() {\n      return this.parent[this.id + 1 & 3];\n    }\n    /**\n     * Dual of this edge, left -> right.\n     * I.e same as `this.rot.sym`\n     */\n\n  }, {\n    key: \"invrot\",\n    get: function get() {\n      return this.parent[this.id + 3 & 3];\n    }\n    /**\n     * Symmetric partner edge of this edge, from dest -> src.\n     * I.e. `this === this.sym.sym`\n     */\n\n  }, {\n    key: \"sym\",\n    get: function get() {\n      return this.parent[this.id + 2 & 3];\n    }\n    /**\n     * Next CCW edge to this edge's dest.\n     */\n\n  }, {\n    key: \"dnext\",\n    get: function get() {\n      return this.sym.onext.sym;\n    }\n    /**\n     * Next CW edge to this edge's dest.\n     */\n\n  }, {\n    key: \"dprev\",\n    get: function get() {\n      return this.invrot.onext.invrot;\n    }\n    /**\n     * Next CCW edge around the left face (dual vertex) from this edge's\n     * dest.\n     */\n\n  }, {\n    key: \"lnext\",\n    get: function get() {\n      return this.invrot.onext.rot;\n    }\n    /**\n     * Next CCW edge around the left face (dual vertex) to this edge's\n     * origin.\n     */\n\n  }, {\n    key: \"lprev\",\n    get: function get() {\n      return this.onext.sym;\n    }\n    /**\n     * Next CCW edge around the right face (dual vertex) to this edge's\n     * dest.\n     */\n\n  }, {\n    key: \"rnext\",\n    get: function get() {\n      return this.rot.onext.invrot;\n    }\n    /**\n     * Next CCW edge around the right face (dual vertex) to this edge's\n     * origin.\n     */\n\n  }, {\n    key: \"rprev\",\n    get: function get() {\n      return this.sym.onext;\n    }\n    /**\n     * Returns this edge's dest vertex. I.e. `this.sym.origin`\n     */\n\n  }, {\n    key: \"dest\",\n    get: function get() {\n      return this.sym.origin;\n    }\n  }], [{\n    key: \"create\",\n    value: function create(src, dest) {\n      var quad = new Array(4);\n      var a = quad[0] = new Edge(quad, NEXT_ID);\n      var b = quad[1] = new Edge(quad, NEXT_ID + 1);\n      var c = quad[2] = new Edge(quad, NEXT_ID + 2);\n      var d = quad[3] = new Edge(quad, NEXT_ID + 3);\n      a.onext = a;\n      c.onext = c;\n      b.onext = d;\n      d.onext = b;\n      NEXT_ID += 4;\n      src && dest && a.setEnds(src, dest);\n      return a;\n    }\n  }]);\n\n  return Edge;\n}();","import _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { implementsFunction } from \"@thi.ng/checks\";\nimport { EPS, eqDelta as _eq } from \"@thi.ng/math\";\nimport { compileHOF } from \"./internal/codegen\";\nimport { vop } from \"./internal/vop\";\n\nvar $ = function $(dim) {\n  return eqDelta.add(dim, compileHOF(dim, [_eq, EPS], function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        a = _ref2[0],\n        b = _ref2[1];\n\n    return \"eq(\".concat(a, \",\").concat(b, \",eps)\");\n  }, \"eq,_eps\", \"a,b,eps=_eps\", \"a,b\", \"\", \"&&\", \"return a.length === b.length && \", \";\"));\n};\n/**\n * Checks given vectors for componentwise equality, taking tolerance\n * `eps` (default: {@link @thi.ng/math#EPS}) into account.\n *\n * @param a\n * @param b\n * @param eps\n */\n\n\nexport var eqDelta = vop();\neqDelta[\"default\"](function (v1, v2) {\n  var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPS;\n\n  if (implementsFunction(v1, \"eqDelta\")) {\n    return v1.eqDelta(v2, eps);\n  }\n\n  if (implementsFunction(v2, \"eqDelta\")) {\n    return v2.eqDelta(v1, eps);\n  }\n\n  return eqDeltaS(v1, v2, v1.length, eps);\n});\nexport var eqDelta2 = $(2);\nexport var eqDelta3 = $(3);\nexport var eqDelta4 = $(4);\n/**\n * Checks given strided vectors for componentwise equality, taking\n * tolerance `eps` (default: {@link @thi.ng/math#EPS}) into account.\n *\n * @param a - first vector\n * @param b - second vector\n * @param n - number of elements\n * @param eps - tolerance\n * @param ia - start index a\n * @param ib - start index b\n * @param sa - stride a\n * @param sb - stride b\n */\n\nexport var eqDeltaS = function eqDeltaS(a, b, n) {\n  var eps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EPS;\n  var ia = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var ib = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var sa = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 1;\n  var sb = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\n\n  for (; n > 0; n--, ia += sa, ib += sb) {\n    if (!_eq(a[ia], b[ib], eps)) {\n      return false;\n    }\n  }\n\n  return true;\n};\nexport var eqDeltaArray = function eqDeltaArray(a, b) {\n  var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPS;\n  if (a === b) return true;\n  if (a.length !== b.length) return false;\n\n  for (var i = a.length; --i >= 0;) {\n    if (!eqDelta(a[i], b[i], eps)) {\n      return false;\n    }\n  }\n\n  return true;\n};\nexport var isInArray = function isInArray(p, pts) {\n  var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPS;\n\n  for (var i = pts.length; --i >= 0;) {\n    if (eqDelta(p, pts[i], eps)) {\n      return true;\n    }\n  }\n\n  return false;\n};","import \"core-js/modules/es6.object.freeze\";\nvar mi = -Infinity;\nvar mx = Infinity;\nexport var MIN2 = Object.freeze([mi, mi]);\nexport var MAX2 = Object.freeze([mx, mx]);\nexport var ONE2 = Object.freeze([1, 1]);\nexport var ZERO2 = Object.freeze([0, 0]);\nexport var X2 = Object.freeze([1, 0]);\nexport var Y2 = Object.freeze([0, 1]);\nexport var MIN3 = Object.freeze([mi, mi, mi]);\nexport var MAX3 = Object.freeze([mx, mx, mx]);\nexport var ONE3 = Object.freeze([1, 1, 1]);\nexport var ZERO3 = Object.freeze([0, 0, 0]);\nexport var X3 = Object.freeze([1, 0, 0]);\nexport var Y3 = Object.freeze([0, 1, 0]);\nexport var Z3 = Object.freeze([0, 0, 1]);\nexport var MIN4 = Object.freeze([mi, mi, mi, mi]);\nexport var MAX4 = Object.freeze([mx, mx, mx, mx]);\nexport var ONE4 = Object.freeze([1, 1, 1, 1]);\nexport var ZERO4 = Object.freeze([0, 0, 0, 0]);\nexport var X4 = Object.freeze([1, 0, 0, 0]);\nexport var Y4 = Object.freeze([0, 1, 0, 0]);\nexport var Z4 = Object.freeze([0, 0, 1, 0]);\nexport var W4 = Object.freeze([0, 0, 0, 1]);","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _slicedToArray from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/u401814/Code/sketchbook/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { isNumber } from \"@thi.ng/checks\";\nimport { liangBarsky2 } from \"@thi.ng/geom-clip-line\";\nimport { sutherlandHodgeman } from \"@thi.ng/geom-clip-poly\";\nimport { pointInCircumCircle, pointInPolygon2, pointInSegment } from \"@thi.ng/geom-isec\";\nimport { centroid, circumCenter2 } from \"@thi.ng/geom-poly-utils\";\nimport { EPS } from \"@thi.ng/math\";\nimport { Edge } from \"@thi.ng/quad-edge\";\nimport { eqDelta2, signedArea2, ZERO2 } from \"@thi.ng/vectors\";\n\nvar rightOf = function rightOf(p, e) {\n  return signedArea2(p, e.dest.pos, e.origin.pos) > 0;\n};\n\nexport var DVMesh = /*#__PURE__*/function () {\n  function DVMesh(pts) {\n    var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1e5;\n\n    _classCallCheck(this, DVMesh);\n\n    var a = {\n      pos: [0, -size],\n      id: 0\n    };\n    var b = {\n      pos: [size, size],\n      id: 1\n    };\n    var c = {\n      pos: [-size, size],\n      id: 2\n    };\n    var eab = Edge.create(a, b);\n    var ebc = Edge.create(b, c);\n    var eca = Edge.create(c, a);\n    eab.sym.splice(ebc);\n    ebc.sym.splice(eca);\n    eca.sym.splice(eab);\n    this.boundsTri = [a.pos, b.pos, c.pos];\n    this.first = eab;\n    this.nextID = 3;\n\n    if (pts && pts.length) {\n      isNumber(pts[0][0]) ? this.addKeys(pts) : this.addAll(pts);\n    }\n  }\n\n  _createClass(DVMesh, [{\n    key: \"add\",\n    value: function add(p, val) {\n      var eps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPS;\n\n      var _this$locate = this.locate(p, eps),\n          _this$locate2 = _slicedToArray(_this$locate, 2),\n          e = _this$locate2[0],\n          exists = _this$locate2[1];\n\n      if (exists) return false;\n\n      if (pointInSegment(p, e.origin.pos, e.dest.pos)) {\n        e = e.oprev;\n        e.onext.remove();\n      }\n\n      var base = Edge.create(e.origin, {\n        pos: p,\n        id: this.nextID++,\n        val: val\n      });\n      base.splice(e);\n      var first = base;\n\n      do {\n        base = e.connect(base.sym);\n        e = base.oprev;\n      } while (e.lnext !== first); // enforce delaunay constraints\n\n\n      do {\n        var t = e.oprev;\n\n        if (rightOf(t.dest.pos, e) && pointInCircumCircle(e.origin.pos, t.dest.pos, e.dest.pos, p)) {\n          e.swap();\n          e = e.oprev;\n        } else if (e.onext !== first) {\n          e = e.onext.lprev;\n        } else {\n          break;\n        }\n      } while (true);\n\n      return true;\n    }\n  }, {\n    key: \"addKeys\",\n    value: function addKeys(pts, eps) {\n      var _iterator = _createForOfIteratorHelper(pts),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          this.add(p, undefined, eps);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.computeDual();\n    }\n  }, {\n    key: \"addAll\",\n    value: function addAll(pairs, eps) {\n      var _iterator2 = _createForOfIteratorHelper(pairs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var p = _step2.value;\n          this.add(p[0], p[1], eps);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      this.computeDual();\n    }\n    /**\n     * Returns tuple of the edge related to `p` and a boolean to indicate if\n     * `p` already exists in this triangulation (true if already present).\n     *\n     * @param p - query point\n     */\n\n  }, {\n    key: \"locate\",\n    value: function locate(p) {\n      var eps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EPS;\n      var e = this.first;\n\n      while (true) {\n        if (eqDelta2(p, e.origin.pos, eps) || eqDelta2(p, e.dest.pos, eps)) {\n          return [e, true];\n        } else if (rightOf(p, e)) {\n          e = e.sym;\n        } else if (!rightOf(p, e.onext)) {\n          e = e.onext;\n        } else if (!rightOf(p, e.dprev)) {\n          e = e.dprev;\n        } else {\n          return [e, false];\n        }\n      }\n    }\n    /**\n     * Syncronize / update / add dual faces (i.e. Voronoi) for current\n     * primary mesh (i.e. Delaunay).\n     */\n\n  }, {\n    key: \"computeDual\",\n    value: function computeDual() {\n      var work = [this.first.rot];\n      var visitedEdges = {};\n      var visitedVerts = {};\n\n      while (work.length) {\n        var e = work.pop();\n        if (visitedEdges[e.id]) continue;\n        visitedEdges[e.id] = true;\n\n        if (!e.origin || !visitedVerts[e.origin.id]) {\n          var t = e.rot;\n          var a = t.origin.pos;\n          var isBounds = this.isBoundary(a);\n          t = t.lnext;\n          var b = t.origin.pos;\n          isBounds = isBounds && this.isBoundary(b);\n          t = t.lnext;\n          var c = t.origin.pos;\n          isBounds = isBounds && this.isBoundary(c);\n          var id = this.nextID++;\n          e.origin = {\n            pos: !isBounds ? circumCenter2(a, b, c) : ZERO2,\n            id: id\n          };\n          visitedVerts[id] = true;\n        }\n\n        work.push(e.sym, e.onext, e.lnext);\n      }\n    }\n  }, {\n    key: \"delaunay\",\n    value: function delaunay(bounds) {\n      var cells = [];\n      var usedEdges = {};\n      var bc = bounds && centroid(bounds);\n      this.traverse(function (eab) {\n        if (!usedEdges[eab.id]) {\n          var ebc = eab.lnext;\n          var eca = ebc.lnext;\n          var va = eab.origin.pos;\n          var vb = ebc.origin.pos;\n          var vc = eca.origin.pos;\n          var verts = [va, vb, vc];\n\n          if (bounds && !(pointInPolygon2(va, bounds) && pointInPolygon2(vb, bounds) && pointInPolygon2(vc, bounds))) {\n            verts = sutherlandHodgeman(verts, bounds, bc);\n\n            if (verts.length > 2) {\n              cells.push(verts);\n            }\n          } else {\n            cells.push(verts);\n          }\n\n          usedEdges[eab.id] = usedEdges[ebc.id] = usedEdges[eca.id] = true;\n        }\n      });\n      return cells;\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      var cells = [];\n      var bc = bounds && centroid(bounds);\n      this.traverse(bounds ? function (e) {\n        var first = e = e.rot;\n        var verts = [];\n        var needsClip = false;\n        var p;\n\n        do {\n          p = e.origin.pos;\n          verts.push(p);\n          needsClip = needsClip || !pointInPolygon2(p, bounds);\n        } while ((e = e.lnext) !== first);\n\n        if (needsClip) {\n          verts = sutherlandHodgeman(verts, bounds, bc);\n          if (verts.length < 3) return;\n        }\n\n        cells.push(verts);\n      } : function (e) {\n        var first = e = e.rot;\n        var verts = [];\n\n        do {\n          verts.push(e.origin.pos);\n        } while ((e = e.lnext) !== first);\n\n        cells.push(verts);\n      }, false);\n      return cells;\n    }\n  }, {\n    key: \"edges\",\n    value: function edges() {\n      var _this = this;\n\n      var voronoi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var boundsMinMax = arguments.length > 1 ? arguments[1] : undefined;\n      var edges = [];\n      var visitedEdges = {};\n      this.traverse(function (e) {\n        if (visitedEdges[e.id] || visitedEdges[e.sym.id]) return;\n        var a = e.origin.pos;\n        var b = e.dest.pos;\n\n        if (!_this.isBoundary(a) && !_this.isBoundary(b)) {\n          if (boundsMinMax) {\n            var clip = liangBarsky2(a, b, boundsMinMax[0], boundsMinMax[1]);\n            clip && edges.push([clip[0], clip[1]]);\n          } else {\n            edges.push([a, b]);\n          }\n        }\n\n        visitedEdges[e.id] = true;\n      }, true, voronoi ? this.first.rot : this.first);\n      return edges;\n    }\n  }, {\n    key: \"traverse\",\n    value: function traverse(proc) {\n      var edges = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.first;\n      var work = [e];\n      var visitedEdges = {};\n      var visitedVerts = {};\n\n      while (work.length) {\n        e = work.pop();\n        if (visitedEdges[e.id]) continue;\n        visitedEdges[e.id] = true;\n\n        if (!this.isBoundary(e.origin.pos) && !this.isBoundary(e.rot.origin.pos)) {\n          if (edges || !visitedVerts[e.origin.id]) {\n            visitedVerts[e.origin.id] = true;\n            proc(e, visitedEdges, visitedVerts);\n          }\n        }\n\n        work.push(e.sym, e.onext, e.lnext);\n      }\n    }\n  }, {\n    key: \"isBoundary\",\n    value: function isBoundary(v) {\n      var b = this.boundsTri;\n      return eqDelta2(b[0], v) || eqDelta2(b[1], v) || eqDelta2(b[2], v);\n    }\n  }]);\n\n  return DVMesh;\n}();","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  }; // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n\n  return exports;\n}( // If this script is executing as a CommonJS module, use module.exports\n// as the regeneratorRuntime namespace. Otherwise create a new empty\n// object. Either way, the resulting object will be used to initialize\n// the regeneratorRuntime variable at the top of this file.\ntypeof module === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}","module.exports = require(\"regenerator-runtime\");\n"],"sourceRoot":""}