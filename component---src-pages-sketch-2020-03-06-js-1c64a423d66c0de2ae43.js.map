{"version":3,"sources":["webpack:///./src/shaders/basic.vert","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./src/pages/sketch/2020/03/06.js","webpack:///./src/shaders/2020/03/01/06.frag","webpack:///./src/lib/easing.js"],"names":["$export","$pad","userAgent","WEBKIT_BUG","test","P","F","padStart","maxLength","this","arguments","length","undefined","toLength","repeat","defined","module","exports","that","fillString","left","S","String","stringLength","fillStr","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","sketch","p","theShader","RENDER","getURLParams","render","setup","pixelDensity","frameRate","createCanvas","WEBGL","noStroke","createLoop","noiseRadius","createShader","vert","draw","animLoop","theta","noise","noise1D","progress","background","shader","setUniform","width","height","map","easeInOutCubic","rect","process","DEV","frameCount","DURATION","save","location","path","pathname","description","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint"],"mappings":"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","file":"component---src-pages-sketch-2020-03-06-js-1c64a423d66c0de2ae43.js","sourcesContent":["export default \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nattribute vec3 aPosition;\\n\\nvoid main() {\\n  vec4 positionVec4 = vec4(aPosition, 1.0);\\n  positionVec4.xy = positionVec4.xy * 2.0 - 1.0;\\n  gl_Position = positionVec4;\\n}\";","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport \"p5.createloop\";\nimport vert from \"~shaders/basic.vert\";\nimport frag from \"~shaders/2020/03/01/06.frag\";\nimport { easeInOutCubic } from \"~lib/easing\";\n\nconst sketch = function(p) {\n  const RENDER = p.getURLParams().render;\n  const DURATION = 40;\n  const RATE = 60;\n\n  let theShader;\n\n  p.setup = function() {\n    p.pixelDensity(1);\n    p.frameRate(RATE);\n    p.createCanvas(660, 660, p.WEBGL);\n    p.noStroke();\n    p.createLoop(DURATION, {\n      // gif: RENDER ? { render: false, open: true } : false,\n      noiseRadius: 0.1,\n    });\n    theShader = p.createShader(vert, frag);\n  };\n\n  p.draw = function() {\n    const { theta, noise, noise1D, progress } = p.animLoop;\n    p.background(255);\n\n    p.shader(theShader);\n    theShader.setUniform(\"u_resolution\", [p.width, p.height]);\n    theShader.setUniform(\"u_noise\", noise());\n    theShader.setUniform(\"u_noise_x\", p.map(noise1D(0.5), -1, 1, 0, 1));\n    theShader.setUniform(\"u_noise_y\", p.map(noise1D(0.7), -1, 1, 0, 1));\n    theShader.setUniform(\"u_theta\", theta);\n    theShader.setUniform(\n      \"u_progress\",\n      easeInOutCubic(-4 * progress * progress + 4 * progress)\n    );\n    p.rect(0, 0, p.width, p.height);\n\n    if (process.env.DEV && RENDER && p.frameCount <= DURATION * RATE) {\n      p.save(\n        `${String(p.frameCount).padStart(\n          String(DURATION * RATE).length,\n          \"0\"\n        )}.png`\n      );\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"\" />\n);\n","export default \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform vec2 u_resolution;\\nuniform float u_noise;\\nuniform float u_noise_x;\\nuniform float u_noise_y;\\nuniform float u_theta;\\nuniform float u_progress;\\n\\nfloat random(in vec2 st, float val) {\\n  return fract(sin(dot(st.xy, vec2(u_noise_x, u_noise_y))) * val);\\n}\\n\\nfloat noise(in vec2 st, float val) {\\n  vec2 i = floor(st);\\n  vec2 f = fract(st);\\n  \\n  float a = random(i, val);\\n  float b = random(i + vec2(1.0, 0.0), val);\\n  float c = random(i + vec2(0.0, 1.0), val);\\n  float d = random(i + vec2(1.0, 1.0), val);\\n  \\n  vec2 u = f * f * (3.0 - 2.0 * f);\\n  \\n  return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\\n}\\n\\nvoid main() {\\n  vec2 st = gl_FragCoord.xy / u_resolution.xy;\\n  \\n  st -= vec2(u_progress);\\n  st = mat2(cos(u_theta), - sin(u_theta), sin(u_theta), cos(u_theta)) * st;\\n  st += vec2(u_progress);\\n  \\n  vec2 pos =\\n  vec2(st * mix(3.0, 9.0, u_progress)) + vec2(cos(u_theta), sin(u_theta));\\n  float r = length(abs(st) - 0.2) * smoothstep(0.45, 0.55, noise(pos, 3.0));\\n  float g = length(abs(st) - 0.25) * smoothstep(0.45, 0.55, noise(pos, 2.0));\\n  float b = length(abs(st) - 0.3) * smoothstep(0.45, 0.55, noise(pos, 1.0));\\n  \\n  gl_FragColor = vec4(r, g, b, 1.0);\\n}\\n\";","// https://gist.github.com/gre/1650294\n\n// no easing, no acceleration\nconst linear = t => t;\n\n// accelerating from zero velocity\nconst easeInQuad = t => t * t;\n\n// decelerating to zero velocity\nconst easeOutQuad = t => t * (2 - t);\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n\n// accelerating from zero velocity\nconst easeInCubic = t => t * t * t;\n\n// decelerating to zero velocity\nconst easeOutCubic = t => --t * t * t + 1;\n\n// acceleration until halfway, then deceleration\nconst easeInOutCubic = t =>\n  t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\n// accelerating from zero velocity\nconst easeInQuart = t => t * t * t * t;\n\n// decelerating to zero velocity\nconst easeOutQuart = t => 1 - --t * t * t * t;\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuart = t =>\n  t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n\n// accelerating from zero velocity\nconst easeInQuint = t => t * t * t * t * t;\n\n// decelerating to zero velocity\nconst easeOutQuint = t => 1 + --t * t * t * t * t;\n\n// acceleration until halfway, then deceleration\nconst easeInOutQuint = t =>\n  t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n\nexport {\n  linear,\n  easeInQuad,\n  easeOutQuad,\n  easeInOutQuad,\n  easeInCubic,\n  easeOutCubic,\n  easeInOutCubic,\n  easeInQuart,\n  easeOutQuart,\n  easeInOutQuart,\n  easeInQuint,\n  easeOutQuint,\n  easeInOutQuint,\n};\n"],"sourceRoot":""}