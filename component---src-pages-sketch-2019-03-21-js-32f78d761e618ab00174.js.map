{"version":3,"sources":["webpack:///./src/pages/sketch/2019/03/21.js"],"names":["sketch","p","Particle","this","color","random","location","createVector","width","height","prevLocations","velocity","p5","Vector","random2D","update","mouse","mouseX","mouseY","sub","setMag","add","push","x","y","length","SIZE","slice","limit","draw","beginShape","forEach","prev","i","fill","lerpColor","ellipse","endShape","particles","setup","createCanvas","colorMode","HSB","Array","from","noStroke","background","particle","touchMoved","path","pathname","description"],"mappings":"8kBAIA,IAAMA,EAAS,SAASC,GACtB,IAEMC,EAHmB,WAIvB,aACEC,KAAKC,MAAQH,EAAEG,MAAMH,EAAEI,OAAO,GAAI,IAAK,GAAI,IAC3CF,KAAKG,SAAWL,EAAEM,aAAaN,EAAEI,OAAOJ,EAAEO,OAAQP,EAAEI,OAAOJ,EAAEQ,SAC7DN,KAAKO,cAAgB,GACrBP,KAAKQ,SAAWC,IAAGC,OAAOC,WARL,2BAUvBC,OAAA,WACE,IAAIC,EAAQf,EAAEM,aAAaN,EAAEgB,OAAQhB,EAAEiB,QACvCF,EAAMG,IAAIhB,KAAKG,UACfU,EAAMI,OAAO,IACbjB,KAAKQ,SAASU,IAAIL,EAAMK,IAAIT,IAAGC,OAAOC,aACtCX,KAAKO,cAAcY,KAAK,CAACnB,KAAKG,SAASiB,EAAGpB,KAAKG,SAASkB,IACpDrB,KAAKO,cAAce,OAASC,KAC9BvB,KAAKO,cAAgBP,KAAKO,cAAciB,MAAM,EAhBvC,KAkBTxB,KAAKG,SAASe,IAAIlB,KAAKQ,UACvBR,KAAKQ,SAASiB,MAAM,IApBC,EAsBvBC,KAAA,WAAQ,IAAD,OACL5B,EAAE6B,aACF3B,KAAKO,cAAcqB,SAAQ,SAACC,EAAMC,GAChChC,EAAEiC,KACAjC,EAAEkC,UACAlC,EAAEG,MAAM,EAAG,GACX,EAAKA,MACJ,EAAI,EAAKM,cAAce,OAAUQ,IAGtChC,EAAEmC,QAAF,MAAAnC,EAAC,EAAY+B,GAAZ,QA/BM,SAiCT/B,EAAEoC,WACFpC,EAAEiC,KAAK/B,KAAKC,OACZH,EAAEmC,QAAQjC,KAAKG,SAASiB,EAAGpB,KAAKG,SAASkB,EAnChC,KADY,KAwCrBc,EAAY,GAEhBrC,EAAEsC,MAAQ,WACRtC,EAAEuC,aAAa,IAAK,KACpBvC,EAAEwC,UAAUxC,EAAEyC,IAAK,KACnBJ,EAAYK,MAAMC,KAAK,CAAEnB,OA5Cd,KA4C8B,kBAAM,IAAIvB,KACnDD,EAAE4C,YAGJ5C,EAAE4B,KAAO,WACP5B,EAAE6C,WAAW,GACbR,EAAUP,SAAQ,SAAAgB,GAChBA,EAAShC,SACTgC,EAASlB,WAIb5B,EAAE+C,WAAa,WACb,GACE/C,EAAEgB,QAAU,GACZhB,EAAEiB,QAAU,GACZjB,EAAEgB,QAAUhB,EAAEO,OACdP,EAAEiB,QAAUjB,EAAEQ,OAEd,OAAO,IAKE,0BAAGH,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CACEN,OAAQA,EACRiD,KAAM3C,EAAS4C,SACfC,YAAY","file":"component---src-pages-sketch-2019-03-21-js-32f78d761e618ab00174.js","sourcesContent":["import React from \"react\";\nimport p5 from \"p5\";\nimport SketchLayout from \"~components/sketch-layout\";\n\nconst sketch = function(p) {\n  const SIZE = 30;\n\n  class Particle {\n    constructor() {\n      this.color = p.color(p.random(33, 66), 50, 75);\n      this.location = p.createVector(p.random(p.width), p.random(p.height));\n      this.prevLocations = [];\n      this.velocity = p5.Vector.random2D();\n    }\n    update() {\n      let mouse = p.createVector(p.mouseX, p.mouseY);\n      mouse.sub(this.location);\n      mouse.setMag(0.1);\n      this.velocity.add(mouse.add(p5.Vector.random2D()));\n      this.prevLocations.push([this.location.x, this.location.y]);\n      if (this.prevLocations.length > SIZE / 2) {\n        this.prevLocations = this.prevLocations.slice(1, SIZE);\n      }\n      this.location.add(this.velocity);\n      this.velocity.limit(5);\n    }\n    draw() {\n      p.beginShape();\n      this.prevLocations.forEach((prev, i) => {\n        p.fill(\n          p.lerpColor(\n            p.color(0, 0),\n            this.color,\n            (1 / this.prevLocations.length) * i\n          )\n        );\n        p.ellipse(...prev, SIZE);\n      });\n      p.endShape();\n      p.fill(this.color);\n      p.ellipse(this.location.x, this.location.y, SIZE);\n    }\n  }\n\n  let particles = [];\n\n  p.setup = function() {\n    p.createCanvas(660, 840);\n    p.colorMode(p.HSB, 100);\n    particles = Array.from({ length: SIZE }, () => new Particle());\n    p.noStroke();\n  };\n\n  p.draw = function() {\n    p.background(0);\n    particles.forEach(particle => {\n      particle.update();\n      particle.draw();\n    });\n  };\n\n  p.touchMoved = function() {\n    if (\n      p.mouseX >= 0 &&\n      p.mouseY >= 0 &&\n      p.mouseX <= p.width &&\n      p.mouseY <= p.height\n    ) {\n      return false;\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout\n    sketch={sketch}\n    path={location.pathname}\n    description=\"More experimentations with vector math. The particles are attracted to a mouse pointer or taps on the canvas.\"\n  />\n);\n"],"sourceRoot":""}