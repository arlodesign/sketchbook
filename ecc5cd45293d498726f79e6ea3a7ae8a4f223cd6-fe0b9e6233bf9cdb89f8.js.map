{"version":3,"sources":["webpack:///./src/components/sketch.js","webpack:///./src/components/sketch-title.js","webpack:///./src/components/sketch-layout.js","webpack:///./src/components/header.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.find-index.js"],"names":["SketchWrapper","React","forwardRef","ref","width","height","css","Sketch","props","state","sketchRef","createRef","canvas","componentDidMount","this","p5","sketch","current","setState","componentDidUpdate","remove","componentWillUnmount","render","Component","path","dateTime","sketchTitle","query","description","images","sketches","image","edges","find","edge","node","relativePath","includes","replace","sketchIndex","findIndex","next","previous","title","ogImage","childImageSharp","og","src","twitterImage","twitter","to","label","icon","Wrapper","Header","children","href","$export","$find","KEY","forced","Array","P","F","callbackfn","arguments","length","undefined"],"mappings":"0ilIAGA,IAAMA,EAAgBC,IAAMC,YAAW,WAAoBC,GAAS,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,OAC/C,OACE,mBACEF,IAAKA,EACLG,IAAKA,YAAF,qEAKeD,EAASD,EAAS,IALjC,oHAkDMG,E,qHA5Bb,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MAIFC,MAAQ,CACNL,MAAO,EACPC,OAAQ,GALR,EAAKK,UAAYT,IAAMU,YACvB,EAAKC,OAAS,KAHG,E,2BASnBC,kBAAA,WACEC,KAAKF,OAAS,IAAIG,GAAGD,KAAKN,MAAMQ,OAAQF,KAAKJ,UAAUO,SACvDH,KAAKI,SAAS,CACZd,MAAOU,KAAKF,OAAOR,MACnBC,OAAQS,KAAKF,OAAOP,U,EAGxBc,mBAAA,WACEL,KAAKF,OAAOQ,SACZN,KAAKF,OAAS,IAAIG,GAAGD,KAAKN,MAAMQ,OAAQF,KAAKJ,UAAUO,U,EAEzDI,qBAAA,WACEP,KAAKF,OAAOQ,U,EAEdE,OAAA,WACE,OAAO,YAACtB,EAAD,GAAeG,IAAKW,KAAKJ,WAAeI,KAAKL,S,GAzBnCR,IAAMsB,W,YCzBZ,kBAAGC,EAAH,EAAGA,KAAH,OACb,oBAAMC,SAAUC,YAAYF,IAAQE,YAAYF,K,gICkE5CG,GA3DS,oBAAGX,EAAH,EAAGA,OAAQQ,EAAX,EAAWA,KAAMI,EAAjB,EAAiBA,YAAjB,OACb,YAAC,cAAD,CACED,MAAOA,EACPL,OAAQ,YAA2B,IAAxBO,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SACXC,EAAQF,EAAOG,MAAMC,MAAK,SAAAC,GAAI,OAClCA,EAAKC,KAAKC,aAAaC,SACrBb,EAAKc,QAAQ,WAAY,IAAIA,QAAQ,MAAO,QAG1CC,EAAcT,EAASE,MAAMQ,WACjC,SAAAN,GAAI,OAAIA,EAAKC,KAAKX,OAASA,KAPG,EASLM,EAASE,MAAMO,GAAlCE,EATwB,EASxBA,KAAMC,EATkB,EASlBA,SAEd,OACE,YAAC,IAAD,KACE,YAAC,IAAD,CACEC,MAAOjB,YAAYF,GACnBoB,QAASb,EAAQA,EAAMI,KAAKU,gBAAgBC,GAAGC,IAAM,KACrDC,aAAcjB,EAAQA,EAAMI,KAAKU,gBAAgBI,QAAQF,IAAM,OAGjE,YAAC,IAAD,KACE,kBACEzC,IAAG,GAMH,YAAC,EAAD,CAAakB,KAAMA,KAErB,YAAC,IAAD,CACE0B,GAAE,YAAcxB,YAAYF,GAC5B2B,MAAM,gBACNC,KAAK,OAEP,YAAC,IAAD,CAAMF,GAAIT,GAAQA,EAAKjB,KAAM4B,KAAK,SAClC,YAAC,IAAD,CAAMF,GAAIR,GAAYA,EAASlB,KAAM4B,KAAK,WAE5C,wBACE,YAAC,EAAD,CAAQpC,OAAQA,IAEfY,GACC,iBACEtB,IAAG,GAIFsB,MAhDf,UA0DS,e,sFCjELyB,EAAO,oGAMPC,EAAM,sN,yDAQG,oBAAGC,EAAH,EAAGA,SAAH,OACb,YAACF,EAAD,KACE,YAACC,EAAD,KACGC,EACD,oBACEjD,IAAG,GAKH,YAAC,IAAD,CAAMkD,KAAK,SAASL,MAAM,kBAAkBC,KAAK,c,kCC3BzD,IAAIK,EAAU,EAAQ,QAClBC,EAAQ,EAAQ,OAAR,CAA4B,GACpCC,EAAM,YACNC,GAAS,EAETD,IAAO,IAAIE,MAAM,GAAGF,IAAK,WAAcC,GAAS,KACpDH,EAAQA,EAAQK,EAAIL,EAAQM,EAAIH,EAAQ,QAAS,CAC/CpB,UAAW,SAAmBwB,GAC5B,OAAON,EAAM5C,KAAMkD,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAGzE,EAAQ,OAAR,CAAiCR","file":"ecc5cd45293d498726f79e6ea3a7ae8a4f223cd6-fe0b9e6233bf9cdb89f8.js","sourcesContent":["import React from \"react\";\nimport { css } from \"@emotion/core\";\n\nconst SketchWrapper = React.forwardRef(({ width, height }, ref) => {\n  return (\n    <div\n      ref={ref}\n      css={css`\n        width: 100%;\n        overflow: hidden;\n        position: relative;\n        height: 0;\n        padding: 0 0 ${(height / width) * 100}%;\n\n        & > canvas {\n          position: absolute;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0;\n          width: 100% !important;\n          height: 100% !important;\n        }\n      `}\n    />\n  );\n});\n\nclass Sketch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.sketchRef = React.createRef();\n    this.canvas = null;\n  }\n  state = {\n    width: 1,\n    height: 1,\n  };\n  componentDidMount() {\n    this.canvas = new p5(this.props.sketch, this.sketchRef.current);\n    this.setState({\n      width: this.canvas.width,\n      height: this.canvas.height,\n    });\n  }\n  componentDidUpdate() {\n    this.canvas.remove();\n    this.canvas = new p5(this.props.sketch, this.sketchRef.current);\n  }\n  componentWillUnmount() {\n    this.canvas.remove();\n  }\n  render() {\n    return <SketchWrapper ref={this.sketchRef} {...this.state} />;\n  }\n}\n\nexport default Sketch;\n","import React from \"react\";\nimport sketchTitle from \"~util/sketch-title\";\n\nexport default ({ path }) => (\n  <time dateTime={sketchTitle(path)}>{sketchTitle(path)}</time>\n);\n","import React from \"react\";\nimport { StaticQuery, graphql } from \"gatsby\";\nimport { css } from \"@emotion/core\";\nimport Layout from \"~components/layout\";\nimport SEO from \"~components/seo\";\nimport Header from \"~components/header\";\nimport Icon from \"~components/icon\";\nimport Sketch from \"~components/sketch\";\nimport SketchTitle from \"~components/sketch-title\";\nimport sketchTitle from \"~util/sketch-title\";\n\nexport default ({ sketch, path, description }) => (\n  <StaticQuery\n    query={query}\n    render={({ images, sketches }) => {\n      const image = images.edges.find(edge =>\n        edge.node.relativePath.includes(\n          path.replace(\"/sketch/\", \"\").replace(/\\/$/, \"\")\n        )\n      );\n      const sketchIndex = sketches.edges.findIndex(\n        edge => edge.node.path === path\n      );\n      const { next, previous } = sketches.edges[sketchIndex];\n\n      return (\n        <Layout>\n          <SEO\n            title={sketchTitle(path)}\n            ogImage={image ? image.node.childImageSharp.og.src : null}\n            twitterImage={image ? image.node.childImageSharp.twitter.src : null}\n          />\n\n          <Header>\n            <h1\n              css={css`\n                grid-area: c;\n                text-align: center;\n                white-space: nowrap;\n              `}\n            >\n              <SketchTitle path={path} />\n            </h1>\n            <Icon\n              to={`/#sketch-${sketchTitle(path)}`}\n              label=\"Back to Index\"\n              icon=\"up\"\n            />\n            <Icon to={next && next.path} icon=\"left\" />\n            <Icon to={previous && previous.path} icon=\"right\" />\n          </Header>\n          <main>\n            <Sketch sketch={sketch} />\n\n            {description && (\n              <p\n                css={css`\n                  padding: var(--spacing);\n                `}\n              >\n                {description}\n              </p>\n            )}\n          </main>\n        </Layout>\n      );\n    }}\n  />\n);\n\nconst query = graphql`\n  query {\n    sketches: allSitePage(\n      filter: { path: { regex: \"/sketch/\" } }\n      sort: { fields: path, order: DESC }\n    ) {\n      edges {\n        node {\n          path\n        }\n        next {\n          path\n        }\n        previous {\n          path\n        }\n      }\n    }\n    images: allFile(\n      filter: { relativePath: { regex: \"/[0-9]{4}/[0-9]{2}/[0-9]{2}.png/\" } }\n      sort: { fields: relativePath, order: DESC }\n    ) {\n      edges {\n        node {\n          relativePath\n          extension\n          childImageSharp {\n            twitter: resize(width: 1024) {\n              src\n            }\n            og: resize(width: 1200, height: 630, cropFocus: CENTER) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\";\nimport { css } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport Icon from \"~components/icon\";\n\nconst Wrapper = styled.div`\n  position: sticky;\n  top: 0;\n  z-index: 1;\n`;\n\nconst Header = styled.header`\n  display: grid;\n  grid-template-columns: 1fr 2rem 1fr 2rem 1fr;\n  grid-template-areas: \"a b c d e\";\n  grid-column-gap: var(--spacing);\n  padding: var(--spacing);\n`;\n\nexport default ({ children }) => (\n  <Wrapper>\n    <Header>\n      {children}\n      <span\n        css={css`\n          grid-area: e;\n          justify-self: end;\n        `}\n      >\n        <Icon href=\"#about\" label=\"About this Site\" icon=\"info\" />\n      </span>\n    </Header>\n  </Wrapper>\n);\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n"],"sourceRoot":""}