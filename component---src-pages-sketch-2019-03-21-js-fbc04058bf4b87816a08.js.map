{"version":3,"sources":["webpack:///./src/pages/sketch/2019/03/21.js"],"names":["sketch","p","Particle","this","color","random","location","createVector","width","height","prevLocations","velocity","p5","Vector","random2D","_proto","prototype","update","mouse","mouseX","mouseY","sub","setMag","add","push","x","y","length","SIZE","slice","limit","draw","_this","beginShape","forEach","prev","i","fill","lerpColor","ellipse","apply","concat","endShape","particles","setup","createCanvas","colorMode","HSB","Array","from","noStroke","background","particle","touchMoved","__webpack_exports__","_ref","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_4__","_components_sketch_layout__WEBPACK_IMPORTED_MODULE_7__","path","pathname","description"],"mappings":"2KAIMA,EAAS,SAASC,GACtB,IAEMC,EAHmB,WAIvB,SAAAA,IACEC,KAAKC,MAAQH,EAAEG,MAAMH,EAAEI,OAAO,GAAI,IAAK,GAAI,IAC3CF,KAAKG,SAAWL,EAAEM,aAAaN,EAAEI,OAAOJ,EAAEO,OAAQP,EAAEI,OAAOJ,EAAEQ,SAC7DN,KAAKO,cAAgB,GACrBP,KAAKQ,SAAWC,IAAGC,OAAOC,WARL,IAAAC,EAAAb,EAAAc,UAAA,OAAAD,EAUvBE,OAAA,WACE,IAAIC,EAAQjB,EAAEM,aAAaN,EAAEkB,OAAQlB,EAAEmB,QACvCF,EAAMG,IAAIlB,KAAKG,UACfY,EAAMI,OAAO,IACbnB,KAAKQ,SAASY,IAAIL,EAAMK,IAAIX,IAAGC,OAAOC,aACtCX,KAAKO,cAAcc,KAAK,CAACrB,KAAKG,SAASmB,EAAGtB,KAAKG,SAASoB,IACpDvB,KAAKO,cAAciB,OAASC,KAC9BzB,KAAKO,cAAgBP,KAAKO,cAAcmB,MAAM,EAhBvC,KAkBT1B,KAAKG,SAASiB,IAAIpB,KAAKQ,UACvBR,KAAKQ,SAASmB,MAAM,IApBCf,EAsBvBgB,KAAA,WAAO,IAAAC,EAAA7B,KACLF,EAAEgC,aACF9B,KAAKO,cAAcwB,QAAQ,SAACC,EAAMC,GAChCnC,EAAEoC,KACApC,EAAEqC,UACArC,EAAEG,MAAM,EAAG,GACX4B,EAAK5B,MACJ,EAAI4B,EAAKtB,cAAciB,OAAUS,IAGtCnC,EAAEsC,QAAFC,MAAAvC,EAAakC,EAAZM,OAAA,CA/BM,QAiCTxC,EAAEyC,WACFzC,EAAEoC,KAAKlC,KAAKC,OACZH,EAAEsC,QAAQpC,KAAKG,SAASmB,EAAGtB,KAAKG,SAASoB,EAnChC,KADYxB,EAAA,GAwCrByC,EAAY,GAEhB1C,EAAE2C,MAAQ,WACR3C,EAAE4C,aAAa,IAAK,KACpB5C,EAAE6C,UAAU7C,EAAE8C,IAAK,KACnBJ,EAAYK,MAAMC,KAAK,CAAEtB,OA5Cd,IA4C8B,kBAAM,IAAIzB,IACnDD,EAAEiD,YAGJjD,EAAE8B,KAAO,WACP9B,EAAEkD,WAAW,GACbR,EAAUT,QAAQ,SAAAkB,GAChBA,EAASnC,SACTmC,EAASrB,UAIb9B,EAAEoD,WAAa,WACb,GACEpD,EAAEkB,QAAU,GACZlB,EAAEmB,QAAU,GACZnB,EAAEkB,QAAUlB,EAAEO,OACdP,EAAEmB,QAAUnB,EAAEQ,OAEd,OAAO,IAKE6C,EAAA,iBAAAC,GAAA,IAAGjD,EAAHiD,EAAGjD,SAAH,OACbkD,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,CACE1D,OAAQA,EACR2D,KAAMrD,EAASsD,SACfC,YAAY","file":"component---src-pages-sketch-2019-03-21-js-fbc04058bf4b87816a08.js","sourcesContent":["import React from \"react\";\nimport p5 from \"p5\";\nimport SketchLayout from \"~components/sketch-layout\";\n\nconst sketch = function(p) {\n  const SIZE = 30;\n\n  class Particle {\n    constructor() {\n      this.color = p.color(p.random(33, 66), 50, 75);\n      this.location = p.createVector(p.random(p.width), p.random(p.height));\n      this.prevLocations = [];\n      this.velocity = p5.Vector.random2D();\n    }\n    update() {\n      let mouse = p.createVector(p.mouseX, p.mouseY);\n      mouse.sub(this.location);\n      mouse.setMag(0.1);\n      this.velocity.add(mouse.add(p5.Vector.random2D()));\n      this.prevLocations.push([this.location.x, this.location.y]);\n      if (this.prevLocations.length > SIZE / 2) {\n        this.prevLocations = this.prevLocations.slice(1, SIZE);\n      }\n      this.location.add(this.velocity);\n      this.velocity.limit(5);\n    }\n    draw() {\n      p.beginShape();\n      this.prevLocations.forEach((prev, i) => {\n        p.fill(\n          p.lerpColor(\n            p.color(0, 0),\n            this.color,\n            (1 / this.prevLocations.length) * i\n          )\n        );\n        p.ellipse(...prev, SIZE);\n      });\n      p.endShape();\n      p.fill(this.color);\n      p.ellipse(this.location.x, this.location.y, SIZE);\n    }\n  }\n\n  let particles = [];\n\n  p.setup = function() {\n    p.createCanvas(660, 840);\n    p.colorMode(p.HSB, 100);\n    particles = Array.from({ length: SIZE }, () => new Particle());\n    p.noStroke();\n  };\n\n  p.draw = function() {\n    p.background(0);\n    particles.forEach(particle => {\n      particle.update();\n      particle.draw();\n    });\n  };\n\n  p.touchMoved = function() {\n    if (\n      p.mouseX >= 0 &&\n      p.mouseY >= 0 &&\n      p.mouseX <= p.width &&\n      p.mouseY <= p.height\n    ) {\n      return false;\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout\n    sketch={sketch}\n    path={location.pathname}\n    description=\"More experimentations with vector math. The particles are attracted to a mouse pointer or taps on the canvas.\"\n  />\n);\n"],"sourceRoot":""}