{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/30.js"],"names":["sketch","p","setup","createCanvas","noStroke","draw","background","stripes","y","height","push","distFromMouse","abs","mouseY","MAX_DIST","max","map","s","forEach","i","MV","ex","pow","EX_TOTAL","reduce","prev","bezierHandles","bhy","HP","BH_TOP","BH_BOTTOM","fill","beginShape","vertex","quadraticVertex","mouseX","width","endShape","touchMoved","location","path","pathname","description"],"mappings":"68BAGA,IAAMA,EAAS,SAASC,GAGtBA,EAAEC,MAAQ,WACRD,EAAEE,aAAa,IAAK,KACpBF,EAAEG,YAGJH,EAAEI,KAAO,WACPJ,EAAEK,WAAW,SAEb,IADA,IAAIC,EAAU,GACLC,EAAI,EAAGA,GAAKP,EAAEQ,OAAS,EAAGD,GAVxB,GAWTD,EAAQG,KAAK,CACXF,IACAG,cAAeV,EAAEW,IAAIJ,EAAIP,EAAEY,UAG/B,IAAMC,EAAWb,EAAEc,IAAF,MAAAd,EAAC,EAAQM,EAAQS,KAAI,SAAAC,GAAC,OAAIA,EAAEN,mBAC7CJ,EAAQW,SAAQ,WAAuBC,GAAM,EAA1BX,EAA2B,IAAxBG,EAAuB,EAAvBA,cACdS,EAAKnB,EAAEe,IACXL,EACA,EACAG,EACAb,EAAEe,IAAIf,EAAEY,OAAQ,EAAGZ,EAAEQ,OAAQ,EAAG,GAChC,GAEFF,EAAQY,GAAGE,GAAKpB,EAAEqB,IAAIF,EAAIA,MAE5B,IAAMG,EAAWhB,EAAQiB,QAAO,SAACC,EAAD,UAAkBA,EAAlB,EAASJ,KAAoB,GACzDK,EAAgB,CAAC,GACjBC,EAAM,EACVpB,EAAQW,SAAQ,YAAa,IACrBU,EADoB,EAATP,GACDE,EAChBG,EAAchB,KAAKiB,EAAM1B,EAAEQ,OAASmB,GACpCD,GAAO1B,EAAEQ,OAASmB,KAGpBrB,EAAQW,SAAQ,WAAYC,GAAO,IAAhBX,EAAe,EAAfA,EACXoB,EAD0B,EAAZP,GACJE,EAEVM,GADI5B,EAAEQ,OACGiB,EAAcP,IACvBW,EAAYJ,EAAcP,EAAI,GACpClB,EAAE8B,KAAKZ,EAAI,EAAI,IAAM,GACrBlB,EAAE+B,aACF/B,EAAEgC,OAAO,EAAGzB,GACZP,EAAEiC,gBAAgBjC,EAAEkC,OAAQN,EAAQ5B,EAAEmC,MAAO5B,GAC7CP,EAAEgC,OAAOhC,EAAEmC,MAAO5B,EA7CT,IA8CTP,EAAEiC,gBAAgBjC,EAAEkC,OAAQL,EAAW,EAAGtB,EA9CjC,IA+CTP,EAAEoC,eAINpC,EAAEqC,WAAa,WACb,GACErC,EAAEkC,QAAU,GACZlC,EAAEY,QAAU,GACZZ,EAAEkC,QAAUlC,EAAEmC,OACdnC,EAAEY,QAAUZ,EAAEQ,OAEd,OAAO,IAKE,0BAAG8B,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CAAcvC,OAAQA,EAAQwC,KAAMD,EAASE,SAAUC,YAAY","file":"component---src-pages-sketch-2019-01-30-js-52a7284396e7ba4925a5.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\n\nconst sketch = function(p) {\n  const SIZE = 10;\n\n  p.setup = function() {\n    p.createCanvas(660, 840);\n    p.noStroke();\n  };\n\n  p.draw = function() {\n    p.background(\"white\");\n    let stripes = [];\n    for (let y = 0; y <= p.height + 0; y += SIZE) {\n      stripes.push({\n        y,\n        distFromMouse: p.abs(y - p.mouseY),\n      });\n    }\n    const MAX_DIST = p.max(...stripes.map(s => s.distFromMouse));\n    stripes.forEach(({ y, distFromMouse }, i) => {\n      const MV = p.map(\n        distFromMouse,\n        0,\n        MAX_DIST,\n        p.map(p.mouseY, 0, p.height, 7, 2),\n        0\n      );\n      stripes[i].ex = p.pow(MV, MV);\n    });\n    const EX_TOTAL = stripes.reduce((prev, { ex }) => prev + ex, 0);\n    let bezierHandles = [0];\n    let bhy = 0;\n    stripes.forEach(({ ex }) => {\n      const HP = ex / EX_TOTAL;\n      bezierHandles.push(bhy + p.height * HP);\n      bhy += p.height * HP;\n    });\n    let totalHeight = 0;\n    stripes.forEach(({ y, ex }, i) => {\n      const HP = ex / EX_TOTAL;\n      const H = p.height * HP;\n      const BH_TOP = bezierHandles[i];\n      const BH_BOTTOM = bezierHandles[i + 1];\n      p.fill(i % 2 ? 255 : 0);\n      p.beginShape();\n      p.vertex(0, y);\n      p.quadraticVertex(p.mouseX, BH_TOP, p.width, y);\n      p.vertex(p.width, y + SIZE);\n      p.quadraticVertex(p.mouseX, BH_BOTTOM, 0, y + SIZE);\n      p.endShape();\n    });\n  };\n\n  p.touchMoved = function() {\n    if (\n      p.mouseX >= 0 &&\n      p.mouseY >= 0 &&\n      p.mouseX <= p.width &&\n      p.mouseY <= p.height\n    ) {\n      return false;\n    }\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"Move pointer or finger over sketch.\" />\n);\n"],"sourceRoot":""}