{"version":3,"sources":["webpack:///./src/pages/sketch/2019/05/30.js"],"names":["sketch","p","grid","next","laplaceA","x","y","sumA","a","laplaceB","sumB","b","setup","pixelDensity","createCanvas","width","height","floor","random","i","j","draw","background","constrain","temp","loadPixels","PIX","_next$_x2$_y","c","TWO_PI","map","cos","pixels","updatePixels","__webpack_exports__","_ref","location","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","_components_sketch_layout__WEBPACK_IMPORTED_MODULE_2__","path","pathname","description","react__WEBPACK_IMPORTED_MODULE_1___default","Fragment","_components_link__WEBPACK_IMPORTED_MODULE_3__","href"],"mappings":"gJAIMA,EAAS,SAASC,GACtB,IAAIC,EACAC,EAQJ,SAASC,EAASC,EAAGC,GACnB,IAAIC,EAAO,EAUX,OATAA,IAAwB,EAAhBL,EAAKG,GAAGC,GAAGE,EACnBD,GAA2B,GAAnBL,EAAKG,EAAI,GAAGC,GAAGE,EACvBD,GAA2B,GAAnBL,EAAKG,EAAI,GAAGC,GAAGE,EACvBD,GAA2B,GAAnBL,EAAKG,GAAGC,EAAI,GAAGE,EACvBD,GAA2B,GAAnBL,EAAKG,GAAGC,EAAI,GAAGE,EACvBD,GAA+B,IAAvBL,EAAKG,EAAI,GAAGC,EAAI,GAAGE,EAC3BD,GAA+B,IAAvBL,EAAKG,EAAI,GAAGC,EAAI,GAAGE,EAC3BD,GAA+B,IAAvBL,EAAKG,EAAI,GAAGC,EAAI,GAAGE,EAC3BD,GAA+B,IAAvBL,EAAKG,EAAI,GAAGC,EAAI,GAAGE,EAI7B,SAASC,EAASJ,EAAGC,GACnB,IAAII,EAAO,EAUX,OATAA,IAAwB,EAAhBR,EAAKG,GAAGC,GAAGK,EACnBD,GAA2B,GAAnBR,EAAKG,EAAI,GAAGC,GAAGK,EACvBD,GAA2B,GAAnBR,EAAKG,EAAI,GAAGC,GAAGK,EACvBD,GAA2B,GAAnBR,EAAKG,GAAGC,EAAI,GAAGK,EACvBD,GAA2B,GAAnBR,EAAKG,GAAGC,EAAI,GAAGK,EACvBD,GAA+B,IAAvBR,EAAKG,EAAI,GAAGC,EAAI,GAAGK,EAC3BD,GAA+B,IAAvBR,EAAKG,EAAI,GAAGC,EAAI,GAAGK,EAC3BD,GAA+B,IAAvBR,EAAKG,EAAI,GAAGC,EAAI,GAAGK,EAC3BD,GAA+B,IAAvBR,EAAKG,EAAI,GAAGC,EAAI,GAAGK,EAI7BV,EAAEW,MAAQ,WACRX,EAAEY,aAAa,GACfZ,EAAEa,aAAa,IAAS,KAExBZ,EAAO,GACPC,EAAO,GAEP,IAAK,IAAIE,EAAI,EAAGA,EAAIJ,EAAEc,MAAOV,IAAK,CAChCH,EAAKG,GAAK,GACVF,EAAKE,GAAK,GACV,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAEe,OAAQV,IAC5BJ,EAAKG,GAAGC,GAAK,CACXE,EAAG,EACHG,EAAG,GAELR,EAAKE,GAAGC,GAAK,CACXE,EAAG,EACHG,EAAG,GAOT,IAFA,IAAIN,EAAIJ,EAAEgB,MAAMhB,EAAEiB,OAAO,EAAGjB,EAAEc,MApDd,IAoDkC,IAC9CT,EAAIL,EAAEgB,MAAMhB,EAAEiB,OAAO,EAAGjB,EAAEe,OArDd,IAqDmC,IAC1CG,EAAId,EAAGc,EAAId,EAtDJ,IAsDmBc,IACjC,IAAK,IAAIC,EAAId,EAAGc,EAAId,EAvDN,IAuDqBc,IACjClB,EAAKiB,GAAGC,GAAGT,EAAI,EACfT,EAAKD,EAAEc,MAAQI,GAAGlB,EAAEe,OAASI,GAAGT,EAAI,GAK1CV,EAAEoB,KAAO,WAEPpB,EAAEqB,WAAW,KAEb,IAAK,IAAIH,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAK,IAAId,EAAI,EAAGA,EAAIJ,EAAEc,MAAQ,EAAGV,IAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAEe,OAAS,EAAGV,IAAK,CACrC,IAAIE,EAAIN,EAAKG,GAAGC,GAAGE,EACfG,EAAIT,EAAKG,GAAGC,GAAGK,EAEnBR,EAAKE,GAAGC,GAAGE,EAAIA,EA5EZ,EA4EqBJ,EAASC,EAAGC,GAAKE,EAAIG,EAAIA,EA1E5C,MA0EwD,EAAIH,GACjEL,EAAKE,GAAGC,GAAGK,EAAIA,EA5EZ,GA4EqBF,EAASJ,EAAGC,GAAKE,EAAIG,EAAIA,GA1E/C,KADG,MA2E6DA,EAClER,EAAKE,GAAGC,GAAGE,EAAIP,EAAEsB,UAAUpB,EAAKE,GAAGC,GAAGE,EAAG,EAAG,GAC5CL,EAAKE,GAAGC,GAAGK,EAAIV,EAAEsB,UAAUpB,EAAKE,GAAGC,GAAGK,EAAG,EAAG,GAGhD,IAAMa,EAAOtB,EACbA,EAAOC,EACPA,EAAOqB,EAGTvB,EAAEwB,aACF,IAAK,IAAIpB,EAAI,EAAGA,EAAIJ,EAAEc,MAAOV,IAC3B,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAEe,OAAQV,IAAK,CACjC,IAAMoB,EAA0B,GAAnBrB,EAAIC,EAAIL,EAAEc,OADUY,EAEhBxB,EAAKE,GAAGC,GACrBsB,GAH6BD,EAEzBnB,EAFyBmB,EAEtBhB,GACOV,EAAE4B,OACpBD,EAAI3B,EAAEsB,UAAUK,EAAG,EAAG3B,EAAE4B,QAAQ,GAChCD,EAAI3B,EAAE6B,IAAI7B,EAAE8B,IAAIH,IAAK,EAAG,EAAG,EAAG,KAC9B3B,EAAE+B,OAAON,EAAM,GAAKE,EACpB3B,EAAE+B,OAAON,EAAM,GAAKE,EACpB3B,EAAE+B,OAAON,EAAM,GAAKE,EACpB3B,EAAE+B,OAAON,EAAM,GAAK,IAGxBzB,EAAEgC,iBAISC,EAAA,iBAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAH,OACbC,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,CACEvC,OAAQA,EACRwC,KAAMJ,EAASK,SACfC,YACEL,OAAAC,EAAA,EAAAD,CAAAM,EAAAnC,EAAAoC,SAAA,+BAC0B,IACxBP,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CAAMC,KAAK,6GAAX,sBAFF,eAKcT,OAAAC,EAAA,EAAAD,CAAA,kBALd","file":"component---src-pages-sketch-2019-05-30-js-eef61a02487126e2575a.js","sourcesContent":["import React from \"react\";\nimport SketchLayout from \"~components/sketch-layout\";\nimport Link from \"~components/link\";\n\nconst sketch = function(p) {\n  let grid;\n  let next;\n\n  const dA = 1;\n  const dB = 0.5;\n  const feed = 0.055;\n  const k = 0.062;\n  const SEED_SIZE = 100;\n\n  function laplaceA(x, y) {\n    var sumA = 0;\n    sumA += grid[x][y].a * -1;\n    sumA += grid[x - 1][y].a * 0.2;\n    sumA += grid[x + 1][y].a * 0.2;\n    sumA += grid[x][y + 1].a * 0.2;\n    sumA += grid[x][y - 1].a * 0.2;\n    sumA += grid[x - 1][y - 1].a * 0.05;\n    sumA += grid[x + 1][y - 1].a * 0.05;\n    sumA += grid[x + 1][y + 1].a * 0.05;\n    sumA += grid[x - 1][y + 1].a * 0.05;\n    return sumA;\n  }\n\n  function laplaceB(x, y) {\n    var sumB = 0;\n    sumB += grid[x][y].b * -1;\n    sumB += grid[x - 1][y].b * 0.2;\n    sumB += grid[x + 1][y].b * 0.2;\n    sumB += grid[x][y + 1].b * 0.2;\n    sumB += grid[x][y - 1].b * 0.2;\n    sumB += grid[x - 1][y - 1].b * 0.05;\n    sumB += grid[x + 1][y - 1].b * 0.05;\n    sumB += grid[x + 1][y + 1].b * 0.05;\n    sumB += grid[x - 1][y + 1].b * 0.05;\n    return sumB;\n  }\n\n  p.setup = function() {\n    p.pixelDensity(1);\n    p.createCanvas(330 / 2, 420 / 2);\n\n    grid = [];\n    next = [];\n\n    for (let x = 0; x < p.width; x++) {\n      grid[x] = [];\n      next[x] = [];\n      for (let y = 0; y < p.height; y++) {\n        grid[x][y] = {\n          a: 1,\n          b: 0,\n        };\n        next[x][y] = {\n          a: 1,\n          b: 0,\n        };\n      }\n    }\n\n    let x = p.floor(p.random(1, p.width - SEED_SIZE + 1));\n    let y = p.floor(p.random(1, p.height - SEED_SIZE + 1));\n    for (let i = x; i < x + SEED_SIZE; i++) {\n      for (let j = y; j < y + SEED_SIZE; j++) {\n        grid[i][j].b = 1;\n        grid[p.width - i][p.height - j].b = 1;\n      }\n    }\n  };\n\n  p.draw = function() {\n    // p.background(HUE, 50, 0);\n    p.background(255);\n\n    for (let i = 0; i < 10; i++) {\n      for (let x = 1; x < p.width - 1; x++) {\n        for (let y = 1; y < p.height - 1; y++) {\n          let a = grid[x][y].a;\n          let b = grid[x][y].b;\n\n          next[x][y].a = a + dA * laplaceA(x, y) - a * b * b + feed * (1 - a);\n          next[x][y].b = b + dB * laplaceB(x, y) + a * b * b - (k + feed) * b;\n          next[x][y].a = p.constrain(next[x][y].a, 0, 1);\n          next[x][y].b = p.constrain(next[x][y].b, 0, 1);\n        }\n      }\n      const temp = grid;\n      grid = next;\n      next = temp;\n    }\n\n    p.loadPixels();\n    for (let x = 0; x < p.width; x++) {\n      for (let y = 0; y < p.height; y++) {\n        const PIX = (x + y * p.width) * 4;\n        const { a, b } = next[x][y];\n        let c = (a - b) * p.TWO_PI;\n        c = p.constrain(c, 0, p.TWO_PI, true);\n        c = p.map(p.cos(c), -1, 1, 0, 255);\n        p.pixels[PIX + 0] = c;\n        p.pixels[PIX + 1] = c;\n        p.pixels[PIX + 2] = c;\n        p.pixels[PIX + 3] = 255;\n      }\n    }\n    p.updatePixels();\n  };\n};\n\nexport default ({ location }) => (\n  <SketchLayout\n    sketch={sketch}\n    path={location.pathname}\n    description={\n      <>\n        More experimenting with{\" \"}\n        <Link href=\"https://github.com/CodingTrain/website/blob/master/CodingChallenges/CC_013_ReactionDiffusion/P5/sketch.js\">\n          Reaction Diffusion\n        </Link>\n        . This runs <em>slow</em>.\n      </>\n    }\n  />\n);\n"],"sourceRoot":""}